var Yk=Object.defineProperty;var Jk=(t,e,n)=>e in t?Yk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Xk=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Im=(t,e,n)=>Jk(t,typeof e!="symbol"?e+"":e,n);var HF=Xk((YF,_a)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Zk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A0={exports:{}},kc={},R0={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qo=Symbol.for("react.element"),eC=Symbol.for("react.portal"),tC=Symbol.for("react.fragment"),nC=Symbol.for("react.strict_mode"),rC=Symbol.for("react.profiler"),iC=Symbol.for("react.provider"),sC=Symbol.for("react.context"),oC=Symbol.for("react.forward_ref"),aC=Symbol.for("react.suspense"),lC=Symbol.for("react.memo"),cC=Symbol.for("react.lazy"),Pm=Symbol.iterator;function uC(t){return t===null||typeof t!="object"?null:(t=Pm&&t[Pm]||t["@@iterator"],typeof t=="function"?t:null)}var L0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M0=Object.assign,D0={};function as(t,e,n){this.props=t,this.context=e,this.refs=D0,this.updater=n||L0}as.prototype.isReactComponent={};as.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};as.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function O0(){}O0.prototype=as.prototype;function Xh(t,e,n){this.props=t,this.context=e,this.refs=D0,this.updater=n||L0}var Zh=Xh.prototype=new O0;Zh.constructor=Xh;M0(Zh,as.prototype);Zh.isPureReactComponent=!0;var Nm=Array.isArray,j0=Object.prototype.hasOwnProperty,ef={current:null},F0={key:!0,ref:!0,__self:!0,__source:!0};function V0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)j0.call(e,r)&&!F0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qo,type:t,key:s,ref:o,props:i,_owner:ef.current}}function dC(t,e){return{$$typeof:Qo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qo}function hC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Am=/\/+/g;function pu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hC(""+t.key):e.toString(36)}function Ha(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qo:case eC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+pu(o,0):r,Nm(i)?(n="",t!=null&&(n=t.replace(Am,"$&/")+"/"),Ha(i,e,n,"",function(c){return c})):i!=null&&(tf(i)&&(i=dC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Am,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Nm(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+pu(s,a);o+=Ha(s,e,n,l,i)}else if(l=uC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+pu(s,a++),o+=Ha(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xa(t,e,n){if(t==null)return t;var r=[],i=0;return Ha(t,r,"","",function(s){return e.call(n,s,i++)}),r}function fC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},Ga={transition:null},pC={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Ga,ReactCurrentOwner:ef};function U0(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:xa,forEach:function(t,e,n){xa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xa(t,function(){e++}),e},toArray:function(t){return xa(t,function(e){return e})||[]},only:function(t){if(!tf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=as;J.Fragment=tC;J.Profiler=rC;J.PureComponent=Xh;J.StrictMode=nC;J.Suspense=aC;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pC;J.act=U0;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=M0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ef.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)j0.call(e,l)&&!F0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Qo,type:t.type,key:i,ref:s,props:r,_owner:o}};J.createContext=function(t){return t={$$typeof:sC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iC,_context:t},t.Consumer=t};J.createElement=V0;J.createFactory=function(t){var e=V0.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:oC,render:t}};J.isValidElement=tf;J.lazy=function(t){return{$$typeof:cC,_payload:{_status:-1,_result:t},_init:fC}};J.memo=function(t,e){return{$$typeof:lC,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=Ga.transition;Ga.transition={};try{t()}finally{Ga.transition=e}};J.unstable_act=U0;J.useCallback=function(t,e){return ot.current.useCallback(t,e)};J.useContext=function(t){return ot.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};J.useEffect=function(t,e){return ot.current.useEffect(t,e)};J.useId=function(){return ot.current.useId()};J.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return ot.current.useMemo(t,e)};J.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};J.useRef=function(t){return ot.current.useRef(t)};J.useState=function(t){return ot.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return ot.current.useTransition()};J.version="18.3.1";R0.exports=J;var b=R0.exports;const Yn=Zk(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC=b,gC=Symbol.for("react.element"),yC=Symbol.for("react.fragment"),vC=Object.prototype.hasOwnProperty,_C=mC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xC={key:!0,ref:!0,__self:!0,__source:!0};function B0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)vC.call(e,r)&&!xC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gC,type:t,key:s,ref:o,props:i,_owner:_C.current}}kc.Fragment=yC;kc.jsx=B0;kc.jsxs=B0;A0.exports=kc;var f=A0.exports,vd={},z0={exports:{}},bt={},W0={exports:{}},$0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,j){var k=A.length;A.push(j);e:for(;0<k;){var x=k-1>>>1,M=A[x];if(0<i(M,j))A[x]=j,A[k]=M,k=x;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var j=A[0],k=A.pop();if(k!==j){A[0]=k;e:for(var x=0,M=A.length,V=M>>>1;x<V;){var W=2*(x+1)-1,K=A[W],G=W+1,F=A[G];if(0>i(K,k))G<M&&0>i(F,K)?(A[x]=F,A[G]=k,x=G):(A[x]=K,A[W]=k,x=W);else if(G<M&&0>i(F,k))A[x]=F,A[G]=k,x=G;else break e}}return j}function i(A,j){var k=A.sortIndex-j.sortIndex;return k!==0?k:A.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,p=!1,m=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=A)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function S(A){if(_=!1,v(A),!m)if(n(l)!==null)m=!0,Tt(C);else{var j=n(c);j!==null&&pe(S,j.startTime-A)}}function C(A,j){m=!1,_&&(_=!1,y(I),I=-1),p=!0;var k=d;try{for(v(j),h=n(l);h!==null&&(!(h.expirationTime>j)||A&&!O());){var x=h.callback;if(typeof x=="function"){h.callback=null,d=h.priorityLevel;var M=x(h.expirationTime<=j);j=t.unstable_now(),typeof M=="function"?h.callback=M:h===n(l)&&r(l),v(j)}else r(l);h=n(l)}if(h!==null)var V=!0;else{var W=n(c);W!==null&&pe(S,W.startTime-j),V=!1}return V}finally{h=null,d=k,p=!1}}var E=!1,T=null,I=-1,H=5,P=-1;function O(){return!(t.unstable_now()-P<H)}function yt(){if(T!==null){var A=t.unstable_now();P=A;var j=!0;try{j=T(!0,A)}finally{j?et():(E=!1,T=null)}}else E=!1}var et;if(typeof g=="function")et=function(){g(yt)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,lt=Ne.port2;Ne.port1.onmessage=yt,et=function(){lt.postMessage(null)}}else et=function(){w(yt,0)};function Tt(A){T=A,E||(E=!0,et())}function pe(A,j){I=w(function(){A(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Tt(C))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var k=d;d=j;try{return A()}finally{d=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,j){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var k=d;d=A;try{return j()}finally{d=k}},t.unstable_scheduleCallback=function(A,j,k){var x=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?x+k:x):k=x,A){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=k+M,A={id:u++,callback:j,priorityLevel:A,startTime:k,expirationTime:M,sortIndex:-1},k>x?(A.sortIndex=k,e(c,A),n(l)===null&&A===n(c)&&(_?(y(I),I=-1):_=!0,pe(S,k-x))):(A.sortIndex=M,e(l,A),m||p||(m=!0,Tt(C))),A},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(A){var j=d;return function(){var k=d;d=j;try{return A.apply(this,arguments)}finally{d=k}}}})($0);W0.exports=$0;var wC=W0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC=b,St=wC;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H0=new Set,po={};function ni(t,e){Wi(t,e),Wi(t+"Capture",e)}function Wi(t,e){for(po[t]=e,t=0;t<e.length;t++)H0.add(e[t])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_d=Object.prototype.hasOwnProperty,kC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rm={},Lm={};function CC(t){return _d.call(Lm,t)?!0:_d.call(Rm,t)?!1:kC.test(t)?Lm[t]=!0:(Rm[t]=!0,!1)}function bC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EC(t,e,n,r){if(e===null||typeof e>"u"||bC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function at(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){He[t]=new at(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];He[e]=new at(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){He[t]=new at(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){He[t]=new at(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){He[t]=new at(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){He[t]=new at(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){He[t]=new at(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){He[t]=new at(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){He[t]=new at(t,5,!1,t.toLowerCase(),null,!1,!1)});var nf=/[\-:]([a-z])/g;function rf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nf,rf);He[e]=new at(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nf,rf);He[e]=new at(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nf,rf);He[e]=new at(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){He[t]=new at(t,1,!1,t.toLowerCase(),null,!1,!1)});He.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){He[t]=new at(t,1,!1,t.toLowerCase(),null,!0,!0)});function sf(t,e,n,r){var i=He.hasOwnProperty(e)?He[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EC(e,n,i,r)&&(n=null),r||i===null?CC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mn=SC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wa=Symbol.for("react.element"),fi=Symbol.for("react.portal"),pi=Symbol.for("react.fragment"),of=Symbol.for("react.strict_mode"),xd=Symbol.for("react.profiler"),G0=Symbol.for("react.provider"),K0=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),wd=Symbol.for("react.suspense"),Sd=Symbol.for("react.suspense_list"),lf=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),q0=Symbol.for("react.offscreen"),Mm=Symbol.iterator;function Ss(t){return t===null||typeof t!="object"?null:(t=Mm&&t[Mm]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,mu;function Os(t){if(mu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mu=e&&e[1]||""}return`
`+mu+t}var gu=!1;function yu(t,e){if(!t||gu)return"";gu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{gu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Os(t):""}function TC(t){switch(t.tag){case 5:return Os(t.type);case 16:return Os("Lazy");case 13:return Os("Suspense");case 19:return Os("SuspenseList");case 0:case 2:case 15:return t=yu(t.type,!1),t;case 11:return t=yu(t.type.render,!1),t;case 1:return t=yu(t.type,!0),t;default:return""}}function kd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pi:return"Fragment";case fi:return"Portal";case xd:return"Profiler";case of:return"StrictMode";case wd:return"Suspense";case Sd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case K0:return(t.displayName||"Context")+".Consumer";case G0:return(t._context.displayName||"Context")+".Provider";case af:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lf:return e=t.displayName||null,e!==null?e:kd(t.type)||"Memo";case Vn:e=t._payload,t=t._init;try{return kd(t(e))}catch{}}return null}function IC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kd(e);case 8:return e===of?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Q0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PC(t){var e=Q0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sa(t){t._valueTracker||(t._valueTracker=PC(t))}function Y0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cd(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=dr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function J0(t,e){e=e.checked,e!=null&&sf(t,"checked",e,!1)}function bd(t,e){J0(t,e);var n=dr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ed(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ed(t,e.type,dr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Om(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ed(t,e,n){(e!=="number"||dl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var js=Array.isArray;function Ri(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+dr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Td(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(js(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:dr(n)}}function X0(t,e){var n=dr(e.value),r=dr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Z0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Id(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Z0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ka,e_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ka=ka||document.createElement("div"),ka.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ka.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NC=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(t){NC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hs[e]=Hs[t]})});function t_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hs.hasOwnProperty(t)&&Hs[t]?(""+e).trim():e+"px"}function n_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=t_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var AC=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pd(t,e){if(e){if(AC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Nd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ad=null;function cf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rd=null,Li=null,Mi=null;function Vm(t){if(t=Xo(t)){if(typeof Rd!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Ic(e),Rd(t.stateNode,t.type,e))}}function r_(t){Li?Mi?Mi.push(t):Mi=[t]:Li=t}function i_(){if(Li){var t=Li,e=Mi;if(Mi=Li=null,Vm(t),e)for(t=0;t<e.length;t++)Vm(e[t])}}function s_(t,e){return t(e)}function o_(){}var vu=!1;function a_(t,e,n){if(vu)return t(e,n);vu=!0;try{return s_(t,e,n)}finally{vu=!1,(Li!==null||Mi!==null)&&(o_(),i_())}}function go(t,e){var n=t.stateNode;if(n===null)return null;var r=Ic(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Ld=!1;if(En)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){Ld=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{Ld=!1}function RC(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Gs=!1,hl=null,fl=!1,Md=null,LC={onError:function(t){Gs=!0,hl=t}};function MC(t,e,n,r,i,s,o,a,l){Gs=!1,hl=null,RC.apply(LC,arguments)}function DC(t,e,n,r,i,s,o,a,l){if(MC.apply(this,arguments),Gs){if(Gs){var c=hl;Gs=!1,hl=null}else throw Error(N(198));fl||(fl=!0,Md=c)}}function ri(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function l_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Um(t){if(ri(t)!==t)throw Error(N(188))}function OC(t){var e=t.alternate;if(!e){if(e=ri(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Um(i),t;if(s===r)return Um(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function c_(t){return t=OC(t),t!==null?u_(t):null}function u_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=u_(t);if(e!==null)return e;t=t.sibling}return null}var d_=St.unstable_scheduleCallback,Bm=St.unstable_cancelCallback,jC=St.unstable_shouldYield,FC=St.unstable_requestPaint,Te=St.unstable_now,VC=St.unstable_getCurrentPriorityLevel,uf=St.unstable_ImmediatePriority,h_=St.unstable_UserBlockingPriority,pl=St.unstable_NormalPriority,UC=St.unstable_LowPriority,f_=St.unstable_IdlePriority,Cc=null,an=null;function BC(t){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Cc,t,void 0,(t.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:$C,zC=Math.log,WC=Math.LN2;function $C(t){return t>>>=0,t===0?32:31-(zC(t)/WC|0)|0}var Ca=64,ba=4194304;function Fs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ml(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fs(a):(s&=o,s!==0&&(r=Fs(s)))}else o=n&~i,o!==0?r=Fs(o):s!==0&&(r=Fs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qt(e),i=1<<n,r|=t[n],e&=~i;return r}function HC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-qt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=HC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Dd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p_(){var t=Ca;return Ca<<=1,!(Ca&4194240)&&(Ca=64),t}function _u(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qt(e),t[e]=n}function KC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function df(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var re=0;function m_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var g_,hf,y_,v_,__,Od=!1,Ea=[],Jn=null,Xn=null,Zn=null,yo=new Map,vo=new Map,Bn=[],qC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zm(t,e){switch(t){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":yo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(e.pointerId)}}function Cs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xo(e),e!==null&&hf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function QC(t,e,n,r,i){switch(e){case"focusin":return Jn=Cs(Jn,t,e,n,r,i),!0;case"dragenter":return Xn=Cs(Xn,t,e,n,r,i),!0;case"mouseover":return Zn=Cs(Zn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return yo.set(s,Cs(yo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vo.set(s,Cs(vo.get(s)||null,t,e,n,r,i)),!0}return!1}function x_(t){var e=Mr(t.target);if(e!==null){var n=ri(e);if(n!==null){if(e=n.tag,e===13){if(e=l_(n),e!==null){t.blockedOn=e,__(t.priority,function(){y_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ka(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ad=r,n.target.dispatchEvent(r),Ad=null}else return e=Xo(n),e!==null&&hf(e),t.blockedOn=n,!1;e.shift()}return!0}function Wm(t,e,n){Ka(t)&&n.delete(e)}function YC(){Od=!1,Jn!==null&&Ka(Jn)&&(Jn=null),Xn!==null&&Ka(Xn)&&(Xn=null),Zn!==null&&Ka(Zn)&&(Zn=null),yo.forEach(Wm),vo.forEach(Wm)}function bs(t,e){t.blockedOn===e&&(t.blockedOn=null,Od||(Od=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,YC)))}function _o(t){function e(i){return bs(i,t)}if(0<Ea.length){bs(Ea[0],t);for(var n=1;n<Ea.length;n++){var r=Ea[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jn!==null&&bs(Jn,t),Xn!==null&&bs(Xn,t),Zn!==null&&bs(Zn,t),yo.forEach(e),vo.forEach(e),n=0;n<Bn.length;n++)r=Bn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)x_(n),n.blockedOn===null&&Bn.shift()}var Di=Mn.ReactCurrentBatchConfig,gl=!0;function JC(t,e,n,r){var i=re,s=Di.transition;Di.transition=null;try{re=1,ff(t,e,n,r)}finally{re=i,Di.transition=s}}function XC(t,e,n,r){var i=re,s=Di.transition;Di.transition=null;try{re=4,ff(t,e,n,r)}finally{re=i,Di.transition=s}}function ff(t,e,n,r){if(gl){var i=jd(t,e,n,r);if(i===null)Pu(t,e,r,yl,n),zm(t,r);else if(QC(i,t,e,n,r))r.stopPropagation();else if(zm(t,r),e&4&&-1<qC.indexOf(t)){for(;i!==null;){var s=Xo(i);if(s!==null&&g_(s),s=jd(t,e,n,r),s===null&&Pu(t,e,r,yl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Pu(t,e,r,null,n)}}var yl=null;function jd(t,e,n,r){if(yl=null,t=cf(r),t=Mr(t),t!==null)if(e=ri(t),e===null)t=null;else if(n=e.tag,n===13){if(t=l_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yl=t,null}function w_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VC()){case uf:return 1;case h_:return 4;case pl:case UC:return 16;case f_:return 536870912;default:return 16}default:return 16}}var Kn=null,pf=null,qa=null;function S_(){if(qa)return qa;var t,e=pf,n=e.length,r,i="value"in Kn?Kn.value:Kn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return qa=i.slice(t,1<r?1-r:void 0)}function Qa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ta(){return!0}function $m(){return!1}function Et(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ta:$m,this.isPropagationStopped=$m,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),e}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mf=Et(ls),Jo=xe({},ls,{view:0,detail:0}),ZC=Et(Jo),xu,wu,Es,bc=xe({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Es&&(Es&&t.type==="mousemove"?(xu=t.screenX-Es.screenX,wu=t.screenY-Es.screenY):wu=xu=0,Es=t),xu)},movementY:function(t){return"movementY"in t?t.movementY:wu}}),Hm=Et(bc),eb=xe({},bc,{dataTransfer:0}),tb=Et(eb),nb=xe({},Jo,{relatedTarget:0}),Su=Et(nb),rb=xe({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),ib=Et(rb),sb=xe({},ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ob=Et(sb),ab=xe({},ls,{data:0}),Gm=Et(ab),lb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ub={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function db(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ub[t])?!!e[t]:!1}function gf(){return db}var hb=xe({},Jo,{key:function(t){if(t.key){var e=lb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gf,charCode:function(t){return t.type==="keypress"?Qa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fb=Et(hb),pb=xe({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Km=Et(pb),mb=xe({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gf}),gb=Et(mb),yb=xe({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),vb=Et(yb),_b=xe({},bc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xb=Et(_b),wb=[9,13,27,32],yf=En&&"CompositionEvent"in window,Ks=null;En&&"documentMode"in document&&(Ks=document.documentMode);var Sb=En&&"TextEvent"in window&&!Ks,k_=En&&(!yf||Ks&&8<Ks&&11>=Ks),qm=" ",Qm=!1;function C_(t,e){switch(t){case"keyup":return wb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mi=!1;function kb(t,e){switch(t){case"compositionend":return b_(e);case"keypress":return e.which!==32?null:(Qm=!0,qm);case"textInput":return t=e.data,t===qm&&Qm?null:t;default:return null}}function Cb(t,e){if(mi)return t==="compositionend"||!yf&&C_(t,e)?(t=S_(),qa=pf=Kn=null,mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return k_&&e.locale!=="ko"?null:e.data;default:return null}}var bb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bb[t.type]:e==="textarea"}function E_(t,e,n,r){r_(r),e=vl(e,"onChange"),0<e.length&&(n=new mf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qs=null,xo=null;function Eb(t){j_(t,0)}function Ec(t){var e=vi(t);if(Y0(e))return t}function Tb(t,e){if(t==="change")return e}var T_=!1;if(En){var ku;if(En){var Cu="oninput"in document;if(!Cu){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),Cu=typeof Jm.oninput=="function"}ku=Cu}else ku=!1;T_=ku&&(!document.documentMode||9<document.documentMode)}function Xm(){qs&&(qs.detachEvent("onpropertychange",I_),xo=qs=null)}function I_(t){if(t.propertyName==="value"&&Ec(xo)){var e=[];E_(e,xo,t,cf(t)),a_(Eb,e)}}function Ib(t,e,n){t==="focusin"?(Xm(),qs=e,xo=n,qs.attachEvent("onpropertychange",I_)):t==="focusout"&&Xm()}function Pb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ec(xo)}function Nb(t,e){if(t==="click")return Ec(e)}function Ab(t,e){if(t==="input"||t==="change")return Ec(e)}function Rb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jt=typeof Object.is=="function"?Object.is:Rb;function wo(t,e){if(Jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_d.call(e,i)||!Jt(t[i],e[i]))return!1}return!0}function Zm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eg(t,e){var n=Zm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zm(n)}}function P_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?P_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function N_(){for(var t=window,e=dl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dl(t.document)}return e}function vf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Lb(t){var e=N_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&P_(n.ownerDocument.documentElement,n)){if(r!==null&&vf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=eg(n,s);var o=eg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Mb=En&&"documentMode"in document&&11>=document.documentMode,gi=null,Fd=null,Qs=null,Vd=!1;function tg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vd||gi==null||gi!==dl(r)||(r=gi,"selectionStart"in r&&vf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qs&&wo(Qs,r)||(Qs=r,r=vl(Fd,"onSelect"),0<r.length&&(e=new mf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gi)))}function Ia(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yi={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionend:Ia("Transition","TransitionEnd")},bu={},A_={};En&&(A_=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function Tc(t){if(bu[t])return bu[t];if(!yi[t])return t;var e=yi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in A_)return bu[t]=e[n];return t}var R_=Tc("animationend"),L_=Tc("animationiteration"),M_=Tc("animationstart"),D_=Tc("transitionend"),O_=new Map,ng="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(t,e){O_.set(t,e),ni(e,[t])}for(var Eu=0;Eu<ng.length;Eu++){var Tu=ng[Eu],Db=Tu.toLowerCase(),Ob=Tu[0].toUpperCase()+Tu.slice(1);_r(Db,"on"+Ob)}_r(R_,"onAnimationEnd");_r(L_,"onAnimationIteration");_r(M_,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(D_,"onTransitionEnd");Wi("onMouseEnter",["mouseout","mouseover"]);Wi("onMouseLeave",["mouseout","mouseover"]);Wi("onPointerEnter",["pointerout","pointerover"]);Wi("onPointerLeave",["pointerout","pointerover"]);ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function rg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DC(r,e,void 0,t),t.currentTarget=null}function j_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;rg(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;rg(i,a,c),s=l}}}if(fl)throw t=Md,fl=!1,Md=null,t}function de(t,e){var n=e[$d];n===void 0&&(n=e[$d]=new Set);var r=t+"__bubble";n.has(r)||(F_(e,t,2,!1),n.add(r))}function Iu(t,e,n){var r=0;e&&(r|=4),F_(n,t,r,e)}var Pa="_reactListening"+Math.random().toString(36).slice(2);function So(t){if(!t[Pa]){t[Pa]=!0,H0.forEach(function(n){n!=="selectionchange"&&(jb.has(n)||Iu(n,!1,t),Iu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pa]||(e[Pa]=!0,Iu("selectionchange",!1,e))}}function F_(t,e,n,r){switch(w_(e)){case 1:var i=JC;break;case 4:i=XC;break;default:i=ff}n=i.bind(null,e,n,t),i=void 0,!Ld||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Mr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}a_(function(){var c=s,u=cf(n),h=[];e:{var d=O_.get(t);if(d!==void 0){var p=mf,m=t;switch(t){case"keypress":if(Qa(n)===0)break e;case"keydown":case"keyup":p=fb;break;case"focusin":m="focus",p=Su;break;case"focusout":m="blur",p=Su;break;case"beforeblur":case"afterblur":p=Su;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Hm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=tb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=gb;break;case R_:case L_:case M_:p=ib;break;case D_:p=vb;break;case"scroll":p=ZC;break;case"wheel":p=xb;break;case"copy":case"cut":case"paste":p=ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Km}var _=(e&4)!==0,w=!_&&t==="scroll",y=_?d!==null?d+"Capture":null:d;_=[];for(var g=c,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=go(g,y),S!=null&&_.push(ko(g,S,v)))),w)break;g=g.return}0<_.length&&(d=new p(d,m,null,n,u),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Ad&&(m=n.relatedTarget||n.fromElement)&&(Mr(m)||m[Tn]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Mr(m):null,m!==null&&(w=ri(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(_=Hm,S="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=Km,S="onPointerLeave",y="onPointerEnter",g="pointer"),w=p==null?d:vi(p),v=m==null?d:vi(m),d=new _(S,g+"leave",p,n,u),d.target=w,d.relatedTarget=v,S=null,Mr(u)===c&&(_=new _(y,g+"enter",m,n,u),_.target=v,_.relatedTarget=w,S=_),w=S,p&&m)t:{for(_=p,y=m,g=0,v=_;v;v=ci(v))g++;for(v=0,S=y;S;S=ci(S))v++;for(;0<g-v;)_=ci(_),g--;for(;0<v-g;)y=ci(y),v--;for(;g--;){if(_===y||y!==null&&_===y.alternate)break t;_=ci(_),y=ci(y)}_=null}else _=null;p!==null&&ig(h,d,p,_,!1),m!==null&&w!==null&&ig(h,w,m,_,!0)}}e:{if(d=c?vi(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=Tb;else if(Ym(d))if(T_)C=Ab;else{C=Pb;var E=Ib}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=Nb);if(C&&(C=C(t,c))){E_(h,C,n,u);break e}E&&E(t,d,c),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&Ed(d,"number",d.value)}switch(E=c?vi(c):window,t){case"focusin":(Ym(E)||E.contentEditable==="true")&&(gi=E,Fd=c,Qs=null);break;case"focusout":Qs=Fd=gi=null;break;case"mousedown":Vd=!0;break;case"contextmenu":case"mouseup":case"dragend":Vd=!1,tg(h,n,u);break;case"selectionchange":if(Mb)break;case"keydown":case"keyup":tg(h,n,u)}var T;if(yf)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else mi?C_(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(k_&&n.locale!=="ko"&&(mi||I!=="onCompositionStart"?I==="onCompositionEnd"&&mi&&(T=S_()):(Kn=u,pf="value"in Kn?Kn.value:Kn.textContent,mi=!0)),E=vl(c,I),0<E.length&&(I=new Gm(I,t,null,n,u),h.push({event:I,listeners:E}),T?I.data=T:(T=b_(n),T!==null&&(I.data=T)))),(T=Sb?kb(t,n):Cb(t,n))&&(c=vl(c,"onBeforeInput"),0<c.length&&(u=new Gm("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=T))}j_(h,e)})}function ko(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=go(t,n),s!=null&&r.unshift(ko(t,s,i)),s=go(t,e),s!=null&&r.push(ko(t,s,i))),t=t.return}return r}function ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ig(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=go(n,s),l!=null&&o.unshift(ko(n,l,a))):i||(l=go(n,s),l!=null&&o.push(ko(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Fb=/\r\n?/g,Vb=/\u0000|\uFFFD/g;function sg(t){return(typeof t=="string"?t:""+t).replace(Fb,`
`).replace(Vb,"")}function Na(t,e,n){if(e=sg(e),sg(t)!==e&&n)throw Error(N(425))}function _l(){}var Ud=null,Bd=null;function zd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wd=typeof setTimeout=="function"?setTimeout:void 0,Ub=typeof clearTimeout=="function"?clearTimeout:void 0,og=typeof Promise=="function"?Promise:void 0,Bb=typeof queueMicrotask=="function"?queueMicrotask:typeof og<"u"?function(t){return og.resolve(null).then(t).catch(zb)}:Wd;function zb(t){setTimeout(function(){throw t})}function Nu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_o(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_o(e)}function er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ag(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cs=Math.random().toString(36).slice(2),rn="__reactFiber$"+cs,Co="__reactProps$"+cs,Tn="__reactContainer$"+cs,$d="__reactEvents$"+cs,Wb="__reactListeners$"+cs,$b="__reactHandles$"+cs;function Mr(t){var e=t[rn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tn]||n[rn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ag(t);t!==null;){if(n=t[rn])return n;t=ag(t)}return e}t=n,n=t.parentNode}return null}function Xo(t){return t=t[rn]||t[Tn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Ic(t){return t[Co]||null}var Hd=[],_i=-1;function xr(t){return{current:t}}function he(t){0>_i||(t.current=Hd[_i],Hd[_i]=null,_i--)}function ce(t,e){_i++,Hd[_i]=t.current,t.current=e}var hr={},Xe=xr(hr),ft=xr(!1),$r=hr;function $i(t,e){var n=t.type.contextTypes;if(!n)return hr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pt(t){return t=t.childContextTypes,t!=null}function xl(){he(ft),he(Xe)}function lg(t,e,n){if(Xe.current!==hr)throw Error(N(168));ce(Xe,e),ce(ft,n)}function V_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,IC(t)||"Unknown",i));return xe({},n,r)}function wl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hr,$r=Xe.current,ce(Xe,t),ce(ft,ft.current),!0}function cg(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=V_(t,e,$r),r.__reactInternalMemoizedMergedChildContext=t,he(ft),he(Xe),ce(Xe,t)):he(ft),ce(ft,n)}var gn=null,Pc=!1,Au=!1;function U_(t){gn===null?gn=[t]:gn.push(t)}function Hb(t){Pc=!0,U_(t)}function wr(){if(!Au&&gn!==null){Au=!0;var t=0,e=re;try{var n=gn;for(re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gn=null,Pc=!1}catch(i){throw gn!==null&&(gn=gn.slice(t+1)),d_(uf,wr),i}finally{re=e,Au=!1}}return null}var xi=[],wi=0,Sl=null,kl=0,Nt=[],At=0,Hr=null,yn=1,vn="";function Tr(t,e){xi[wi++]=kl,xi[wi++]=Sl,Sl=t,kl=e}function B_(t,e,n){Nt[At++]=yn,Nt[At++]=vn,Nt[At++]=Hr,Hr=t;var r=yn;t=vn;var i=32-qt(r)-1;r&=~(1<<i),n+=1;var s=32-qt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yn=1<<32-qt(e)+i|n<<i|r,vn=s+t}else yn=1<<s|n<<i|r,vn=t}function _f(t){t.return!==null&&(Tr(t,1),B_(t,1,0))}function xf(t){for(;t===Sl;)Sl=xi[--wi],xi[wi]=null,kl=xi[--wi],xi[wi]=null;for(;t===Hr;)Hr=Nt[--At],Nt[At]=null,vn=Nt[--At],Nt[At]=null,yn=Nt[--At],Nt[At]=null}var xt=null,_t=null,me=!1,Wt=null;function z_(t,e){var n=Rt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ug(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xt=t,_t=er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xt=t,_t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hr!==null?{id:yn,overflow:vn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xt=t,_t=null,!0):!1;default:return!1}}function Gd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kd(t){if(me){var e=_t;if(e){var n=e;if(!ug(t,e)){if(Gd(t))throw Error(N(418));e=er(n.nextSibling);var r=xt;e&&ug(t,e)?z_(r,n):(t.flags=t.flags&-4097|2,me=!1,xt=t)}}else{if(Gd(t))throw Error(N(418));t.flags=t.flags&-4097|2,me=!1,xt=t}}}function dg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function Aa(t){if(t!==xt)return!1;if(!me)return dg(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zd(t.type,t.memoizedProps)),e&&(e=_t)){if(Gd(t))throw W_(),Error(N(418));for(;e;)z_(t,e),e=er(e.nextSibling)}if(dg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_t=er(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_t=null}}else _t=xt?er(t.stateNode.nextSibling):null;return!0}function W_(){for(var t=_t;t;)t=er(t.nextSibling)}function Hi(){_t=xt=null,me=!1}function wf(t){Wt===null?Wt=[t]:Wt.push(t)}var Gb=Mn.ReactCurrentBatchConfig;function Ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Ra(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hg(t){var e=t._init;return e(t._payload)}function $_(t){function e(y,g){if(t){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=ir(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,v,S){return g===null||g.tag!==6?(g=Fu(v,y.mode,S),g.return=y,g):(g=i(g,v),g.return=y,g)}function l(y,g,v,S){var C=v.type;return C===pi?u(y,g,v.props.children,S,v.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vn&&hg(C)===g.type)?(S=i(g,v.props),S.ref=Ts(y,g,v),S.return=y,S):(S=nl(v.type,v.key,v.props,null,y.mode,S),S.ref=Ts(y,g,v),S.return=y,S)}function c(y,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Vu(v,y.mode,S),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function u(y,g,v,S,C){return g===null||g.tag!==7?(g=Ur(v,y.mode,S,C),g.return=y,g):(g=i(g,v),g.return=y,g)}function h(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Fu(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case wa:return v=nl(g.type,g.key,g.props,null,y.mode,v),v.ref=Ts(y,null,g),v.return=y,v;case fi:return g=Vu(g,y.mode,v),g.return=y,g;case Vn:var S=g._init;return h(y,S(g._payload),v)}if(js(g)||Ss(g))return g=Ur(g,y.mode,v,null),g.return=y,g;Ra(y,g)}return null}function d(y,g,v,S){var C=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:a(y,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wa:return v.key===C?l(y,g,v,S):null;case fi:return v.key===C?c(y,g,v,S):null;case Vn:return C=v._init,d(y,g,C(v._payload),S)}if(js(v)||Ss(v))return C!==null?null:u(y,g,v,S,null);Ra(y,v)}return null}function p(y,g,v,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,a(g,y,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wa:return y=y.get(S.key===null?v:S.key)||null,l(g,y,S,C);case fi:return y=y.get(S.key===null?v:S.key)||null,c(g,y,S,C);case Vn:var E=S._init;return p(y,g,v,E(S._payload),C)}if(js(S)||Ss(S))return y=y.get(v)||null,u(g,y,S,C,null);Ra(g,S)}return null}function m(y,g,v,S){for(var C=null,E=null,T=g,I=g=0,H=null;T!==null&&I<v.length;I++){T.index>I?(H=T,T=null):H=T.sibling;var P=d(y,T,v[I],S);if(P===null){T===null&&(T=H);break}t&&T&&P.alternate===null&&e(y,T),g=s(P,g,I),E===null?C=P:E.sibling=P,E=P,T=H}if(I===v.length)return n(y,T),me&&Tr(y,I),C;if(T===null){for(;I<v.length;I++)T=h(y,v[I],S),T!==null&&(g=s(T,g,I),E===null?C=T:E.sibling=T,E=T);return me&&Tr(y,I),C}for(T=r(y,T);I<v.length;I++)H=p(T,y,I,v[I],S),H!==null&&(t&&H.alternate!==null&&T.delete(H.key===null?I:H.key),g=s(H,g,I),E===null?C=H:E.sibling=H,E=H);return t&&T.forEach(function(O){return e(y,O)}),me&&Tr(y,I),C}function _(y,g,v,S){var C=Ss(v);if(typeof C!="function")throw Error(N(150));if(v=C.call(v),v==null)throw Error(N(151));for(var E=C=null,T=g,I=g=0,H=null,P=v.next();T!==null&&!P.done;I++,P=v.next()){T.index>I?(H=T,T=null):H=T.sibling;var O=d(y,T,P.value,S);if(O===null){T===null&&(T=H);break}t&&T&&O.alternate===null&&e(y,T),g=s(O,g,I),E===null?C=O:E.sibling=O,E=O,T=H}if(P.done)return n(y,T),me&&Tr(y,I),C;if(T===null){for(;!P.done;I++,P=v.next())P=h(y,P.value,S),P!==null&&(g=s(P,g,I),E===null?C=P:E.sibling=P,E=P);return me&&Tr(y,I),C}for(T=r(y,T);!P.done;I++,P=v.next())P=p(T,y,I,P.value,S),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?I:P.key),g=s(P,g,I),E===null?C=P:E.sibling=P,E=P);return t&&T.forEach(function(yt){return e(y,yt)}),me&&Tr(y,I),C}function w(y,g,v,S){if(typeof v=="object"&&v!==null&&v.type===pi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case wa:e:{for(var C=v.key,E=g;E!==null;){if(E.key===C){if(C=v.type,C===pi){if(E.tag===7){n(y,E.sibling),g=i(E,v.props.children),g.return=y,y=g;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vn&&hg(C)===E.type){n(y,E.sibling),g=i(E,v.props),g.ref=Ts(y,E,v),g.return=y,y=g;break e}n(y,E);break}else e(y,E);E=E.sibling}v.type===pi?(g=Ur(v.props.children,y.mode,S,v.key),g.return=y,y=g):(S=nl(v.type,v.key,v.props,null,y.mode,S),S.ref=Ts(y,g,v),S.return=y,y=S)}return o(y);case fi:e:{for(E=v.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=i(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=Vu(v,y.mode,S),g.return=y,y=g}return o(y);case Vn:return E=v._init,w(y,g,E(v._payload),S)}if(js(v))return m(y,g,v,S);if(Ss(v))return _(y,g,v,S);Ra(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,v),g.return=y,y=g):(n(y,g),g=Fu(v,y.mode,S),g.return=y,y=g),o(y)):n(y,g)}return w}var Gi=$_(!0),H_=$_(!1),Cl=xr(null),bl=null,Si=null,Sf=null;function kf(){Sf=Si=bl=null}function Cf(t){var e=Cl.current;he(Cl),t._currentValue=e}function qd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oi(t,e){bl=t,Sf=Si=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dt=!0),t.firstContext=null)}function Dt(t){var e=t._currentValue;if(Sf!==t)if(t={context:t,memoizedValue:e,next:null},Si===null){if(bl===null)throw Error(N(308));Si=t,bl.dependencies={lanes:0,firstContext:t}}else Si=Si.next=t;return e}var Dr=null;function bf(t){Dr===null?Dr=[t]:Dr.push(t)}function G_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,bf(e)):(n.next=i.next,i.next=n),e.interleaved=n,In(t,r)}function In(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Un=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,In(t,n)}return i=r.interleaved,i===null?(e.next=e,bf(r)):(e.next=i.next,i.next=e),r.interleaved=e,In(t,n)}function Ya(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,df(t,n)}}function fg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function El(t,e,n,r){var i=t.updateQueue;Un=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,_=a;switch(d=e,p=n,_.tag){case 1:if(m=_.payload,typeof m=="function"){h=m.call(p,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,d=typeof m=="function"?m.call(p,h,d):m,d==null)break e;h=xe({},h,d);break e;case 2:Un=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Kr|=o,t.lanes=o,t.memoizedState=h}}function pg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var Zo={},ln=xr(Zo),bo=xr(Zo),Eo=xr(Zo);function Or(t){if(t===Zo)throw Error(N(174));return t}function Tf(t,e){switch(ce(Eo,e),ce(bo,t),ce(ln,Zo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Id(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Id(e,t)}he(ln),ce(ln,e)}function Ki(){he(ln),he(bo),he(Eo)}function q_(t){Or(Eo.current);var e=Or(ln.current),n=Id(e,t.type);e!==n&&(ce(bo,t),ce(ln,n))}function If(t){bo.current===t&&(he(ln),he(bo))}var ye=xr(0);function Tl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ru=[];function Pf(){for(var t=0;t<Ru.length;t++)Ru[t]._workInProgressVersionPrimary=null;Ru.length=0}var Ja=Mn.ReactCurrentDispatcher,Lu=Mn.ReactCurrentBatchConfig,Gr=0,_e=null,Ae=null,Oe=null,Il=!1,Ys=!1,To=0,Kb=0;function Ke(){throw Error(N(321))}function Nf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jt(t[n],e[n]))return!1;return!0}function Af(t,e,n,r,i,s){if(Gr=s,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ja.current=t===null||t.memoizedState===null?Jb:Xb,t=n(r,i),Ys){s=0;do{if(Ys=!1,To=0,25<=s)throw Error(N(301));s+=1,Oe=Ae=null,e.updateQueue=null,Ja.current=Zb,t=n(r,i)}while(Ys)}if(Ja.current=Pl,e=Ae!==null&&Ae.next!==null,Gr=0,Oe=Ae=_e=null,Il=!1,e)throw Error(N(300));return t}function Rf(){var t=To!==0;return To=0,t}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?_e.memoizedState=Oe=t:Oe=Oe.next=t,Oe}function Ot(){if(Ae===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var e=Oe===null?_e.memoizedState:Oe.next;if(e!==null)Oe=e,Ae=t;else{if(t===null)throw Error(N(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Oe===null?_e.memoizedState=Oe=t:Oe=Oe.next=t}return Oe}function Io(t,e){return typeof e=="function"?e(t):e}function Mu(t){var e=Ot(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Ae,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Gr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,_e.lanes|=u,Kr|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Jt(r,e.memoizedState)||(dt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,_e.lanes|=s,Kr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Du(t){var e=Ot(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Jt(s,e.memoizedState)||(dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Q_(){}function Y_(t,e){var n=_e,r=Ot(),i=e(),s=!Jt(r.memoizedState,i);if(s&&(r.memoizedState=i,dt=!0),r=r.queue,Lf(Z_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Po(9,X_.bind(null,n,r,i,e),void 0,null),Fe===null)throw Error(N(349));Gr&30||J_(n,e,i)}return i}function J_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function X_(t,e,n,r){e.value=n,e.getSnapshot=r,ex(e)&&tx(t)}function Z_(t,e,n){return n(function(){ex(e)&&tx(t)})}function ex(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jt(t,n)}catch{return!0}}function tx(t){var e=In(t,1);e!==null&&Qt(e,t,1,-1)}function mg(t){var e=nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:t},e.queue=t,t=t.dispatch=Yb.bind(null,_e,t),[e.memoizedState,t]}function Po(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nx(){return Ot().memoizedState}function Xa(t,e,n,r){var i=nn();_e.flags|=t,i.memoizedState=Po(1|e,n,void 0,r===void 0?null:r)}function Nc(t,e,n,r){var i=Ot();r=r===void 0?null:r;var s=void 0;if(Ae!==null){var o=Ae.memoizedState;if(s=o.destroy,r!==null&&Nf(r,o.deps)){i.memoizedState=Po(e,n,s,r);return}}_e.flags|=t,i.memoizedState=Po(1|e,n,s,r)}function gg(t,e){return Xa(8390656,8,t,e)}function Lf(t,e){return Nc(2048,8,t,e)}function rx(t,e){return Nc(4,2,t,e)}function ix(t,e){return Nc(4,4,t,e)}function sx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ox(t,e,n){return n=n!=null?n.concat([t]):null,Nc(4,4,sx.bind(null,e,t),n)}function Mf(){}function ax(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lx(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cx(t,e,n){return Gr&21?(Jt(n,e)||(n=p_(),_e.lanes|=n,Kr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dt=!0),t.memoizedState=n)}function qb(t,e){var n=re;re=n!==0&&4>n?n:4,t(!0);var r=Lu.transition;Lu.transition={};try{t(!1),e()}finally{re=n,Lu.transition=r}}function ux(){return Ot().memoizedState}function Qb(t,e,n){var r=rr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dx(t))hx(e,n);else if(n=G_(t,e,n,r),n!==null){var i=rt();Qt(n,t,r,i),fx(n,e,r)}}function Yb(t,e,n){var r=rr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dx(t))hx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jt(a,o)){var l=e.interleaved;l===null?(i.next=i,bf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=G_(t,e,i,r),n!==null&&(i=rt(),Qt(n,t,r,i),fx(n,e,r))}}function dx(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function hx(t,e){Ys=Il=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,df(t,n)}}var Pl={readContext:Dt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Jb={readContext:Dt,useCallback:function(t,e){return nn().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:gg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xa(4194308,4,sx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xa(4,2,t,e)},useMemo:function(t,e){var n=nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Qb.bind(null,_e,t),[r.memoizedState,t]},useRef:function(t){var e=nn();return t={current:t},e.memoizedState=t},useState:mg,useDebugValue:Mf,useDeferredValue:function(t){return nn().memoizedState=t},useTransition:function(){var t=mg(!1),e=t[0];return t=qb.bind(null,t[1]),nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_e,i=nn();if(me){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Fe===null)throw Error(N(349));Gr&30||J_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,gg(Z_.bind(null,r,s,t),[t]),r.flags|=2048,Po(9,X_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=nn(),e=Fe.identifierPrefix;if(me){var n=vn,r=yn;n=(r&~(1<<32-qt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=To++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Kb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Xb={readContext:Dt,useCallback:ax,useContext:Dt,useEffect:Lf,useImperativeHandle:ox,useInsertionEffect:rx,useLayoutEffect:ix,useMemo:lx,useReducer:Mu,useRef:nx,useState:function(){return Mu(Io)},useDebugValue:Mf,useDeferredValue:function(t){var e=Ot();return cx(e,Ae.memoizedState,t)},useTransition:function(){var t=Mu(Io)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:Q_,useSyncExternalStore:Y_,useId:ux,unstable_isNewReconciler:!1},Zb={readContext:Dt,useCallback:ax,useContext:Dt,useEffect:Lf,useImperativeHandle:ox,useInsertionEffect:rx,useLayoutEffect:ix,useMemo:lx,useReducer:Du,useRef:nx,useState:function(){return Du(Io)},useDebugValue:Mf,useDeferredValue:function(t){var e=Ot();return Ae===null?e.memoizedState=t:cx(e,Ae.memoizedState,t)},useTransition:function(){var t=Du(Io)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:Q_,useSyncExternalStore:Y_,useId:ux,unstable_isNewReconciler:!1};function Bt(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ac={isMounted:function(t){return(t=t._reactInternals)?ri(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rt(),i=rr(t),s=Sn(r,i);s.payload=e,n!=null&&(s.callback=n),e=tr(t,s,i),e!==null&&(Qt(e,t,i,r),Ya(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rt(),i=rr(t),s=Sn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=tr(t,s,i),e!==null&&(Qt(e,t,i,r),Ya(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rt(),r=rr(t),i=Sn(n,r);i.tag=2,e!=null&&(i.callback=e),e=tr(t,i,r),e!==null&&(Qt(e,t,r,n),Ya(e,t,r))}};function yg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!wo(n,r)||!wo(i,s):!0}function px(t,e,n){var r=!1,i=hr,s=e.contextType;return typeof s=="object"&&s!==null?s=Dt(s):(i=pt(e)?$r:Xe.current,r=e.contextTypes,s=(r=r!=null)?$i(t,i):hr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ac,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ac.enqueueReplaceState(e,e.state,null)}function Yd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ef(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dt(s):(s=pt(e)?$r:Xe.current,i.context=$i(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ac.enqueueReplaceState(i,i.state,null),El(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qi(t,e){try{var n="",r=e;do n+=TC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ou(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eE=typeof WeakMap=="function"?WeakMap:Map;function mx(t,e,n){n=Sn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Al||(Al=!0,ah=r),Jd(t,e)},n}function gx(t,e,n){n=Sn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jd(t,e),typeof r!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _g(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pE.bind(null,t,e,n),e.then(t,t))}function xg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sn(-1,1),e.tag=2,tr(n,e,1))),n.lanes|=1),t)}var tE=Mn.ReactCurrentOwner,dt=!1;function tt(t,e,n,r){e.child=t===null?H_(e,null,n,r):Gi(e,t.child,n,r)}function Sg(t,e,n,r,i){n=n.render;var s=e.ref;return Oi(e,i),r=Af(t,e,n,r,s,i),n=Rf(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pn(t,e,i)):(me&&n&&_f(e),e.flags|=1,tt(t,e,r,i),e.child)}function kg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!zf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,yx(t,e,s,r,i)):(t=nl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wo,n(o,r)&&t.ref===e.ref)return Pn(t,e,i)}return e.flags|=1,t=ir(s,r),t.ref=e.ref,t.return=e,e.child=t}function yx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(wo(s,r)&&t.ref===e.ref)if(dt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dt=!0);else return e.lanes=t.lanes,Pn(t,e,i)}return Xd(t,e,n,r,i)}function vx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Ci,vt),vt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(Ci,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ce(Ci,vt),vt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ce(Ci,vt),vt|=r;return tt(t,e,i,n),e.child}function _x(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xd(t,e,n,r,i){var s=pt(n)?$r:Xe.current;return s=$i(e,s),Oi(e,i),n=Af(t,e,n,r,s,i),r=Rf(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pn(t,e,i)):(me&&r&&_f(e),e.flags|=1,tt(t,e,n,i),e.child)}function Cg(t,e,n,r,i){if(pt(n)){var s=!0;wl(e)}else s=!1;if(Oi(e,i),e.stateNode===null)Za(t,e),px(e,n,r),Yd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Dt(c):(c=pt(n)?$r:Xe.current,c=$i(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&vg(e,o,r,c),Un=!1;var d=e.memoizedState;o.state=d,El(e,r,o,i),l=e.memoizedState,a!==r||d!==l||ft.current||Un?(typeof u=="function"&&(Qd(e,n,u,r),l=e.memoizedState),(a=Un||yg(e,n,a,r,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,K_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bt(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dt(l):(l=pt(n)?$r:Xe.current,l=$i(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&vg(e,o,r,l),Un=!1,d=e.memoizedState,o.state=d,El(e,r,o,i);var m=e.memoizedState;a!==h||d!==m||ft.current||Un?(typeof p=="function"&&(Qd(e,n,p,r),m=e.memoizedState),(c=Un||yg(e,n,c,r,d,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Zd(t,e,n,r,s,i)}function Zd(t,e,n,r,i,s){_x(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&cg(e,n,!1),Pn(t,e,s);r=e.stateNode,tE.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gi(e,t.child,null,s),e.child=Gi(e,null,a,s)):tt(t,e,a,s),e.memoizedState=r.state,i&&cg(e,n,!0),e.child}function xx(t){var e=t.stateNode;e.pendingContext?lg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lg(t,e.context,!1),Tf(t,e.containerInfo)}function bg(t,e,n,r,i){return Hi(),wf(i),e.flags|=256,tt(t,e,n,r),e.child}var eh={dehydrated:null,treeContext:null,retryLane:0};function th(t){return{baseLanes:t,cachePool:null,transitions:null}}function wx(t,e,n){var r=e.pendingProps,i=ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(ye,i&1),t===null)return Kd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Mc(o,r,0,null),t=Ur(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=th(n),e.memoizedState=eh,t):Df(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nE(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ir(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ir(a,s):(s=Ur(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?th(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=eh,r}return s=t.child,t=s.sibling,r=ir(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Df(t,e){return e=Mc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function La(t,e,n,r){return r!==null&&wf(r),Gi(e,t.child,null,n),t=Df(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nE(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ou(Error(N(422))),La(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Mc({mode:"visible",children:r.children},i,0,null),s=Ur(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Gi(e,t.child,null,o),e.child.memoizedState=th(o),e.memoizedState=eh,s);if(!(e.mode&1))return La(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=Ou(s,r,void 0),La(t,e,o,r)}if(a=(o&t.childLanes)!==0,dt||a){if(r=Fe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,In(t,i),Qt(r,t,i,-1))}return Bf(),r=Ou(Error(N(421))),La(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mE.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,_t=er(i.nextSibling),xt=e,me=!0,Wt=null,t!==null&&(Nt[At++]=yn,Nt[At++]=vn,Nt[At++]=Hr,yn=t.id,vn=t.overflow,Hr=e),e=Df(e,r.children),e.flags|=4096,e)}function Eg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qd(t.return,e,n)}function ju(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Sx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(tt(t,e,r.children,n),r=ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Eg(t,n,e);else if(t.tag===19)Eg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Tl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ju(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ju(e,!0,n,null,s);break;case"together":ju(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Za(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=ir(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ir(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rE(t,e,n){switch(e.tag){case 3:xx(e),Hi();break;case 5:q_(e);break;case 1:pt(e.type)&&wl(e);break;case 4:Tf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ce(Cl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(ye,ye.current&1),e.flags|=128,null):n&e.child.childLanes?wx(t,e,n):(ce(ye,ye.current&1),t=Pn(t,e,n),t!==null?t.sibling:null);ce(ye,ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Sx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(ye,ye.current),r)break;return null;case 22:case 23:return e.lanes=0,vx(t,e,n)}return Pn(t,e,n)}var kx,nh,Cx,bx;kx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nh=function(){};Cx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Or(ln.current);var s=null;switch(n){case"input":i=Cd(t,i),r=Cd(t,r),s=[];break;case"select":i=xe({},i,{value:void 0}),r=xe({},r,{value:void 0}),s=[];break;case"textarea":i=Td(t,i),r=Td(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_l)}Pd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(po.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(po.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&de("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};bx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Is(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iE(t,e,n){var r=e.pendingProps;switch(xf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return pt(e.type)&&xl(),qe(e),null;case 3:return r=e.stateNode,Ki(),he(ft),he(Xe),Pf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Aa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wt!==null&&(uh(Wt),Wt=null))),nh(t,e),qe(e),null;case 5:If(e);var i=Or(Eo.current);if(n=e.type,t!==null&&e.stateNode!=null)Cx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return qe(e),null}if(t=Or(ln.current),Aa(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[rn]=e,r[Co]=s,t=(e.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<Vs.length;i++)de(Vs[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Dm(r,s),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},de("invalid",r);break;case"textarea":jm(r,s),de("invalid",r)}Pd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Na(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Na(r.textContent,a,t),i=["children",""+a]):po.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":Sa(r),Om(r,s,!0);break;case"textarea":Sa(r),Fm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_l)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Z0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[rn]=e,t[Co]=r,kx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nd(n,r),n){case"dialog":de("cancel",t),de("close",t),i=r;break;case"iframe":case"object":case"embed":de("load",t),i=r;break;case"video":case"audio":for(i=0;i<Vs.length;i++)de(Vs[i],t);i=r;break;case"source":de("error",t),i=r;break;case"img":case"image":case"link":de("error",t),de("load",t),i=r;break;case"details":de("toggle",t),i=r;break;case"input":Dm(t,r),i=Cd(t,r),de("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xe({},r,{value:void 0}),de("invalid",t);break;case"textarea":jm(t,r),i=Td(t,r),de("invalid",t);break;default:i=r}Pd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?n_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&e_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mo(t,l):typeof l=="number"&&mo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(po.hasOwnProperty(s)?l!=null&&s==="onScroll"&&de("scroll",t):l!=null&&sf(t,s,l,o))}switch(n){case"input":Sa(t),Om(t,r,!1);break;case"textarea":Sa(t),Fm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+dr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ri(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ri(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_l)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qe(e),null;case 6:if(t&&e.stateNode!=null)bx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Or(Eo.current),Or(ln.current),Aa(e)){if(r=e.stateNode,n=e.memoizedProps,r[rn]=e,(s=r.nodeValue!==n)&&(t=xt,t!==null))switch(t.tag){case 3:Na(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Na(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rn]=e,e.stateNode=r}return qe(e),null;case 13:if(he(ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&_t!==null&&e.mode&1&&!(e.flags&128))W_(),Hi(),e.flags|=98560,s=!1;else if(s=Aa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[rn]=e}else Hi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),s=!1}else Wt!==null&&(uh(Wt),Wt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?Me===0&&(Me=3):Bf())),e.updateQueue!==null&&(e.flags|=4),qe(e),null);case 4:return Ki(),nh(t,e),t===null&&So(e.stateNode.containerInfo),qe(e),null;case 10:return Cf(e.type._context),qe(e),null;case 17:return pt(e.type)&&xl(),qe(e),null;case 19:if(he(ye),s=e.memoizedState,s===null)return qe(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Is(s,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tl(t),o!==null){for(e.flags|=128,Is(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(ye,ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&Te()>Qi&&(e.flags|=128,r=!0,Is(s,!1),e.lanes=4194304)}else{if(!r)if(t=Tl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Is(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!me)return qe(e),null}else 2*Te()-s.renderingStartTime>Qi&&n!==1073741824&&(e.flags|=128,r=!0,Is(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Te(),e.sibling=null,n=ye.current,ce(ye,r?n&1|2:n&1),e):(qe(e),null);case 22:case 23:return Uf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vt&1073741824&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function sE(t,e){switch(xf(e),e.tag){case 1:return pt(e.type)&&xl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ki(),he(ft),he(Xe),Pf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return If(e),null;case 13:if(he(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Hi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(ye),null;case 4:return Ki(),null;case 10:return Cf(e.type._context),null;case 22:case 23:return Uf(),null;case 24:return null;default:return null}}var Ma=!1,Ye=!1,oE=typeof WeakSet=="function"?WeakSet:Set,D=null;function ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(t,e,r)}else n.current=null}function rh(t,e,n){try{n()}catch(r){Ce(t,e,r)}}var Tg=!1;function aE(t,e){if(Ud=gl,t=N_(),vf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bd={focusedElem:t,selectionRange:n},gl=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,w=m.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?_:Bt(e.type,_),w);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(S){Ce(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return m=Tg,Tg=!1,m}function Js(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rh(e,n,s)}i=i.next}while(i!==r)}}function Rc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ih(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ex(t){var e=t.alternate;e!==null&&(t.alternate=null,Ex(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rn],delete e[Co],delete e[$d],delete e[Wb],delete e[$b])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tx(t){return t.tag===5||t.tag===3||t.tag===4}function Ig(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_l));else if(r!==4&&(t=t.child,t!==null))for(sh(t,e,n),t=t.sibling;t!==null;)sh(t,e,n),t=t.sibling}function oh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(oh(t,e,n),t=t.sibling;t!==null;)oh(t,e,n),t=t.sibling}var Be=null,zt=!1;function On(t,e,n){for(n=n.child;n!==null;)Ix(t,e,n),n=n.sibling}function Ix(t,e,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Cc,n)}catch{}switch(n.tag){case 5:Ye||ki(n,e);case 6:var r=Be,i=zt;Be=null,On(t,e,n),Be=r,zt=i,Be!==null&&(zt?(t=Be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(zt?(t=Be,n=n.stateNode,t.nodeType===8?Nu(t.parentNode,n):t.nodeType===1&&Nu(t,n),_o(t)):Nu(Be,n.stateNode));break;case 4:r=Be,i=zt,Be=n.stateNode.containerInfo,zt=!0,On(t,e,n),Be=r,zt=i;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rh(n,e,o),i=i.next}while(i!==r)}On(t,e,n);break;case 1:if(!Ye&&(ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,e,a)}On(t,e,n);break;case 21:On(t,e,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,On(t,e,n),Ye=r):On(t,e,n);break;default:On(t,e,n)}}function Pg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oE),e.forEach(function(r){var i=gE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Be=a.stateNode,zt=!1;break e;case 3:Be=a.stateNode.containerInfo,zt=!0;break e;case 4:Be=a.stateNode.containerInfo,zt=!0;break e}a=a.return}if(Be===null)throw Error(N(160));Ix(s,o,i),Be=null,zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ce(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Px(e,t),e=e.sibling}function Px(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vt(e,t),tn(t),r&4){try{Js(3,t,t.return),Rc(3,t)}catch(_){Ce(t,t.return,_)}try{Js(5,t,t.return)}catch(_){Ce(t,t.return,_)}}break;case 1:Vt(e,t),tn(t),r&512&&n!==null&&ki(n,n.return);break;case 5:if(Vt(e,t),tn(t),r&512&&n!==null&&ki(n,n.return),t.flags&32){var i=t.stateNode;try{mo(i,"")}catch(_){Ce(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&J0(i,s),Nd(a,o);var c=Nd(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?n_(i,h):u==="dangerouslySetInnerHTML"?e_(i,h):u==="children"?mo(i,h):sf(i,u,h,c)}switch(a){case"input":bd(i,s);break;case"textarea":X0(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ri(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ri(i,!!s.multiple,s.defaultValue,!0):Ri(i,!!s.multiple,s.multiple?[]:"",!1))}i[Co]=s}catch(_){Ce(t,t.return,_)}}break;case 6:if(Vt(e,t),tn(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Ce(t,t.return,_)}}break;case 3:if(Vt(e,t),tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_o(e.containerInfo)}catch(_){Ce(t,t.return,_)}break;case 4:Vt(e,t),tn(t);break;case 13:Vt(e,t),tn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ff=Te())),r&4&&Pg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ye=(c=Ye)||u,Vt(e,t),Ye=c):Vt(e,t),tn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(D=t,u=t.child;u!==null;){for(h=D=u;D!==null;){switch(d=D,p=d.child,d.tag){case 0:case 11:case 14:case 15:Js(4,d,d.return);break;case 1:ki(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(_){Ce(r,n,_)}}break;case 5:ki(d,d.return);break;case 22:if(d.memoizedState!==null){Ag(h);continue}}p!==null?(p.return=d,D=p):Ag(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=t_("display",o))}catch(_){Ce(t,t.return,_)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){Ce(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vt(e,t),tn(t),r&4&&Pg(t);break;case 21:break;default:Vt(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Tx(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mo(i,""),r.flags&=-33);var s=Ig(t);oh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ig(t);sh(t,a,o);break;default:throw Error(N(161))}}catch(l){Ce(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lE(t,e,n){D=t,Nx(t)}function Nx(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var i=D,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ma;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ye;a=Ma;var c=Ye;if(Ma=o,(Ye=l)&&!c)for(D=i;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Rg(i):l!==null?(l.return=o,D=l):Rg(i);for(;s!==null;)D=s,Nx(s),s=s.sibling;D=i,Ma=a,Ye=c}Ng(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,D=s):Ng(t)}}function Ng(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ye||Rc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&_o(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ye||e.flags&512&&ih(e)}catch(d){Ce(e,e.return,d)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function Ag(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function Rg(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rc(4,e)}catch(l){Ce(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ce(e,i,l)}}var s=e.return;try{ih(e)}catch(l){Ce(e,s,l)}break;case 5:var o=e.return;try{ih(e)}catch(l){Ce(e,o,l)}}}catch(l){Ce(e,e.return,l)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var cE=Math.ceil,Nl=Mn.ReactCurrentDispatcher,Of=Mn.ReactCurrentOwner,Mt=Mn.ReactCurrentBatchConfig,te=0,Fe=null,Pe=null,$e=0,vt=0,Ci=xr(0),Me=0,No=null,Kr=0,Lc=0,jf=0,Xs=null,ut=null,Ff=0,Qi=1/0,mn=null,Al=!1,ah=null,nr=null,Da=!1,qn=null,Rl=0,Zs=0,lh=null,el=-1,tl=0;function rt(){return te&6?Te():el!==-1?el:el=Te()}function rr(t){return t.mode&1?te&2&&$e!==0?$e&-$e:Gb.transition!==null?(tl===0&&(tl=p_()),tl):(t=re,t!==0||(t=window.event,t=t===void 0?16:w_(t.type)),t):1}function Qt(t,e,n,r){if(50<Zs)throw Zs=0,lh=null,Error(N(185));Yo(t,n,r),(!(te&2)||t!==Fe)&&(t===Fe&&(!(te&2)&&(Lc|=n),Me===4&&zn(t,$e)),mt(t,r),n===1&&te===0&&!(e.mode&1)&&(Qi=Te()+500,Pc&&wr()))}function mt(t,e){var n=t.callbackNode;GC(t,e);var r=ml(t,t===Fe?$e:0);if(r===0)n!==null&&Bm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bm(n),e===1)t.tag===0?Hb(Lg.bind(null,t)):U_(Lg.bind(null,t)),Bb(function(){!(te&6)&&wr()}),n=null;else{switch(m_(r)){case 1:n=uf;break;case 4:n=h_;break;case 16:n=pl;break;case 536870912:n=f_;break;default:n=pl}n=Fx(n,Ax.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ax(t,e){if(el=-1,tl=0,te&6)throw Error(N(327));var n=t.callbackNode;if(ji()&&t.callbackNode!==n)return null;var r=ml(t,t===Fe?$e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ll(t,r);else{e=r;var i=te;te|=2;var s=Lx();(Fe!==t||$e!==e)&&(mn=null,Qi=Te()+500,Vr(t,e));do try{hE();break}catch(a){Rx(t,a)}while(!0);kf(),Nl.current=s,te=i,Pe!==null?e=0:(Fe=null,$e=0,e=Me)}if(e!==0){if(e===2&&(i=Dd(t),i!==0&&(r=i,e=ch(t,i))),e===1)throw n=No,Vr(t,0),zn(t,r),mt(t,Te()),n;if(e===6)zn(t,r);else{if(i=t.current.alternate,!(r&30)&&!uE(i)&&(e=Ll(t,r),e===2&&(s=Dd(t),s!==0&&(r=s,e=ch(t,s))),e===1))throw n=No,Vr(t,0),zn(t,r),mt(t,Te()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Ir(t,ut,mn);break;case 3:if(zn(t,r),(r&130023424)===r&&(e=Ff+500-Te(),10<e)){if(ml(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wd(Ir.bind(null,t,ut,mn),e);break}Ir(t,ut,mn);break;case 4:if(zn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-qt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cE(r/1960))-r,10<r){t.timeoutHandle=Wd(Ir.bind(null,t,ut,mn),r);break}Ir(t,ut,mn);break;case 5:Ir(t,ut,mn);break;default:throw Error(N(329))}}}return mt(t,Te()),t.callbackNode===n?Ax.bind(null,t):null}function ch(t,e){var n=Xs;return t.current.memoizedState.isDehydrated&&(Vr(t,e).flags|=256),t=Ll(t,e),t!==2&&(e=ut,ut=n,e!==null&&uh(e)),t}function uh(t){ut===null?ut=t:ut.push.apply(ut,t)}function uE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zn(t,e){for(e&=~jf,e&=~Lc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qt(e),r=1<<n;t[n]=-1,e&=~r}}function Lg(t){if(te&6)throw Error(N(327));ji();var e=ml(t,0);if(!(e&1))return mt(t,Te()),null;var n=Ll(t,e);if(t.tag!==0&&n===2){var r=Dd(t);r!==0&&(e=r,n=ch(t,r))}if(n===1)throw n=No,Vr(t,0),zn(t,e),mt(t,Te()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ir(t,ut,mn),mt(t,Te()),null}function Vf(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(Qi=Te()+500,Pc&&wr())}}function qr(t){qn!==null&&qn.tag===0&&!(te&6)&&ji();var e=te;te|=1;var n=Mt.transition,r=re;try{if(Mt.transition=null,re=1,t)return t()}finally{re=r,Mt.transition=n,te=e,!(te&6)&&wr()}}function Uf(){vt=Ci.current,he(Ci)}function Vr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ub(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(xf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xl();break;case 3:Ki(),he(ft),he(Xe),Pf();break;case 5:If(r);break;case 4:Ki();break;case 13:he(ye);break;case 19:he(ye);break;case 10:Cf(r.type._context);break;case 22:case 23:Uf()}n=n.return}if(Fe=t,Pe=t=ir(t.current,null),$e=vt=e,Me=0,No=null,jf=Lc=Kr=0,ut=Xs=null,Dr!==null){for(e=0;e<Dr.length;e++)if(n=Dr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Dr=null}return t}function Rx(t,e){do{var n=Pe;try{if(kf(),Ja.current=Pl,Il){for(var r=_e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Il=!1}if(Gr=0,Oe=Ae=_e=null,Ys=!1,To=0,Of.current=null,n===null||n.return===null){Me=1,No=e,Pe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=$e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=xg(o);if(p!==null){p.flags&=-257,wg(p,o,a,s,e),p.mode&1&&_g(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var _=new Set;_.add(l),e.updateQueue=_}else m.add(l);break e}else{if(!(e&1)){_g(s,c,e),Bf();break e}l=Error(N(426))}}else if(me&&a.mode&1){var w=xg(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),wg(w,o,a,s,e),wf(qi(l,a));break e}}s=l=qi(l,a),Me!==4&&(Me=2),Xs===null?Xs=[s]:Xs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=mx(s,l,e);fg(s,y);break e;case 1:a=l;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(nr===null||!nr.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=gx(s,a,e);fg(s,S);break e}}s=s.return}while(s!==null)}Dx(n)}catch(C){e=C,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function Lx(){var t=Nl.current;return Nl.current=Pl,t===null?Pl:t}function Bf(){(Me===0||Me===3||Me===2)&&(Me=4),Fe===null||!(Kr&268435455)&&!(Lc&268435455)||zn(Fe,$e)}function Ll(t,e){var n=te;te|=2;var r=Lx();(Fe!==t||$e!==e)&&(mn=null,Vr(t,e));do try{dE();break}catch(i){Rx(t,i)}while(!0);if(kf(),te=n,Nl.current=r,Pe!==null)throw Error(N(261));return Fe=null,$e=0,Me}function dE(){for(;Pe!==null;)Mx(Pe)}function hE(){for(;Pe!==null&&!jC();)Mx(Pe)}function Mx(t){var e=jx(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?Dx(t):Pe=e,Of.current=null}function Dx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sE(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,Pe=null;return}}else if(n=iE(n,e,vt),n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);Me===0&&(Me=5)}function Ir(t,e,n){var r=re,i=Mt.transition;try{Mt.transition=null,re=1,fE(t,e,n,r)}finally{Mt.transition=i,re=r}return null}function fE(t,e,n,r){do ji();while(qn!==null);if(te&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(KC(t,s),t===Fe&&(Pe=Fe=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Da||(Da=!0,Fx(pl,function(){return ji(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mt.transition,Mt.transition=null;var o=re;re=1;var a=te;te|=4,Of.current=null,aE(t,n),Px(n,t),Lb(Bd),gl=!!Ud,Bd=Ud=null,t.current=n,lE(n),FC(),te=a,re=o,Mt.transition=s}else t.current=n;if(Da&&(Da=!1,qn=t,Rl=i),s=t.pendingLanes,s===0&&(nr=null),BC(n.stateNode),mt(t,Te()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Al)throw Al=!1,t=ah,ah=null,t;return Rl&1&&t.tag!==0&&ji(),s=t.pendingLanes,s&1?t===lh?Zs++:(Zs=0,lh=t):Zs=0,wr(),null}function ji(){if(qn!==null){var t=m_(Rl),e=Mt.transition,n=re;try{if(Mt.transition=null,re=16>t?16:t,qn===null)var r=!1;else{if(t=qn,qn=null,Rl=0,te&6)throw Error(N(331));var i=te;for(te|=4,D=t.current;D!==null;){var s=D,o=s.child;if(D.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(D=c;D!==null;){var u=D;switch(u.tag){case 0:case 11:case 15:Js(8,u,s)}var h=u.child;if(h!==null)h.return=u,D=h;else for(;D!==null;){u=D;var d=u.sibling,p=u.return;if(Ex(u),u===c){D=null;break}if(d!==null){d.return=p,D=d;break}D=p}}}var m=s.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}D=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,D=o;else e:for(;D!==null;){if(s=D,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Js(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,D=y;break e}D=s.return}}var g=t.current;for(D=g;D!==null;){o=D;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,D=v;else e:for(o=g;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rc(9,a)}}catch(C){Ce(a,a.return,C)}if(a===o){D=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,D=S;break e}D=a.return}}if(te=i,wr(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Cc,t)}catch{}r=!0}return r}finally{re=n,Mt.transition=e}}return!1}function Mg(t,e,n){e=qi(n,e),e=mx(t,e,1),t=tr(t,e,1),e=rt(),t!==null&&(Yo(t,1,e),mt(t,e))}function Ce(t,e,n){if(t.tag===3)Mg(t,t,n);else for(;e!==null;){if(e.tag===3){Mg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nr===null||!nr.has(r))){t=qi(n,t),t=gx(e,t,1),e=tr(e,t,1),t=rt(),e!==null&&(Yo(e,1,t),mt(e,t));break}}e=e.return}}function pE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rt(),t.pingedLanes|=t.suspendedLanes&n,Fe===t&&($e&n)===n&&(Me===4||Me===3&&($e&130023424)===$e&&500>Te()-Ff?Vr(t,0):jf|=n),mt(t,e)}function Ox(t,e){e===0&&(t.mode&1?(e=ba,ba<<=1,!(ba&130023424)&&(ba=4194304)):e=1);var n=rt();t=In(t,e),t!==null&&(Yo(t,e,n),mt(t,n))}function mE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ox(t,n)}function gE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Ox(t,n)}var jx;jx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dt=!1,rE(t,e,n);dt=!!(t.flags&131072)}else dt=!1,me&&e.flags&1048576&&B_(e,kl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Za(t,e),t=e.pendingProps;var i=$i(e,Xe.current);Oi(e,n),i=Af(null,e,r,t,i,n);var s=Rf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(s=!0,wl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ef(e),i.updater=Ac,e.stateNode=i,i._reactInternals=e,Yd(e,r,t,n),e=Zd(null,e,r,!0,s,n)):(e.tag=0,me&&s&&_f(e),tt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Za(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=vE(r),t=Bt(r,t),i){case 0:e=Xd(null,e,r,t,n);break e;case 1:e=Cg(null,e,r,t,n);break e;case 11:e=Sg(null,e,r,t,n);break e;case 14:e=kg(null,e,r,Bt(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Xd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Cg(t,e,r,i,n);case 3:e:{if(xx(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,K_(t,e),El(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qi(Error(N(423)),e),e=bg(t,e,r,n,i);break e}else if(r!==i){i=qi(Error(N(424)),e),e=bg(t,e,r,n,i);break e}else for(_t=er(e.stateNode.containerInfo.firstChild),xt=e,me=!0,Wt=null,n=H_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hi(),r===i){e=Pn(t,e,n);break e}tt(t,e,r,n)}e=e.child}return e;case 5:return q_(e),t===null&&Kd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,zd(r,i)?o=null:s!==null&&zd(r,s)&&(e.flags|=32),_x(t,e),tt(t,e,o,n),e.child;case 6:return t===null&&Kd(e),null;case 13:return wx(t,e,n);case 4:return Tf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gi(e,null,r,n):tt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Sg(t,e,r,i,n);case 7:return tt(t,e,e.pendingProps,n),e.child;case 8:return tt(t,e,e.pendingProps.children,n),e.child;case 12:return tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ce(Cl,r._currentValue),r._currentValue=o,s!==null)if(Jt(s.value,o)){if(s.children===i.children&&!ft.current){e=Pn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Sn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),qd(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}tt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oi(e,n),i=Dt(i),r=r(i),e.flags|=1,tt(t,e,r,n),e.child;case 14:return r=e.type,i=Bt(r,e.pendingProps),i=Bt(r.type,i),kg(t,e,r,i,n);case 15:return yx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Za(t,e),e.tag=1,pt(r)?(t=!0,wl(e)):t=!1,Oi(e,n),px(e,r,i),Yd(e,r,i,n),Zd(null,e,r,!0,t,n);case 19:return Sx(t,e,n);case 22:return vx(t,e,n)}throw Error(N(156,e.tag))};function Fx(t,e){return d_(t,e)}function yE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(t,e,n,r){return new yE(t,e,n,r)}function zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vE(t){if(typeof t=="function")return zf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===af)return 11;if(t===lf)return 14}return 2}function ir(t,e){var n=t.alternate;return n===null?(n=Rt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")zf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pi:return Ur(n.children,i,s,e);case of:o=8,i|=8;break;case xd:return t=Rt(12,n,e,i|2),t.elementType=xd,t.lanes=s,t;case wd:return t=Rt(13,n,e,i),t.elementType=wd,t.lanes=s,t;case Sd:return t=Rt(19,n,e,i),t.elementType=Sd,t.lanes=s,t;case q0:return Mc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G0:o=10;break e;case K0:o=9;break e;case af:o=11;break e;case lf:o=14;break e;case Vn:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Rt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ur(t,e,n,r){return t=Rt(7,t,r,e),t.lanes=n,t}function Mc(t,e,n,r){return t=Rt(22,t,r,e),t.elementType=q0,t.lanes=n,t.stateNode={isHidden:!1},t}function Fu(t,e,n){return t=Rt(6,t,null,e),t.lanes=n,t}function Vu(t,e,n){return e=Rt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _E(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_u(0),this.expirationTimes=_u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_u(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wf(t,e,n,r,i,s,o,a,l){return t=new _E(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Rt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ef(s),t}function xE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Vx(t){if(!t)return hr;t=t._reactInternals;e:{if(ri(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(pt(n))return V_(t,n,e)}return e}function Ux(t,e,n,r,i,s,o,a,l){return t=Wf(n,r,!0,t,i,s,o,a,l),t.context=Vx(null),n=t.current,r=rt(),i=rr(n),s=Sn(r,i),s.callback=e??null,tr(n,s,i),t.current.lanes=i,Yo(t,i,r),mt(t,r),t}function Dc(t,e,n,r){var i=e.current,s=rt(),o=rr(i);return n=Vx(n),e.context===null?e.context=n:e.pendingContext=n,e=Sn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=tr(i,e,o),t!==null&&(Qt(t,i,o,s),Ya(t,i,o)),o}function Ml(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $f(t,e){Dg(t,e),(t=t.alternate)&&Dg(t,e)}function wE(){return null}var Bx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hf(t){this._internalRoot=t}Oc.prototype.render=Hf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Dc(t,e,null,null)};Oc.prototype.unmount=Hf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qr(function(){Dc(null,t,null,null)}),e[Tn]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var e=v_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bn.length&&e!==0&&e<Bn[n].priority;n++);Bn.splice(n,0,t),n===0&&x_(t)}};function Gf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Og(){}function SE(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ml(o);s.call(c)}}var o=Ux(e,r,t,0,null,!1,!1,"",Og);return t._reactRootContainer=o,t[Tn]=o.current,So(t.nodeType===8?t.parentNode:t),qr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ml(l);a.call(c)}}var l=Wf(t,0,!1,null,null,!1,!1,"",Og);return t._reactRootContainer=l,t[Tn]=l.current,So(t.nodeType===8?t.parentNode:t),qr(function(){Dc(e,l,n,r)}),l}function Fc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ml(o);a.call(l)}}Dc(e,o,t,i)}else o=SE(n,e,t,i,r);return Ml(o)}g_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fs(e.pendingLanes);n!==0&&(df(e,n|1),mt(e,Te()),!(te&6)&&(Qi=Te()+500,wr()))}break;case 13:qr(function(){var r=In(t,1);if(r!==null){var i=rt();Qt(r,t,1,i)}}),$f(t,1)}};hf=function(t){if(t.tag===13){var e=In(t,134217728);if(e!==null){var n=rt();Qt(e,t,134217728,n)}$f(t,134217728)}};y_=function(t){if(t.tag===13){var e=rr(t),n=In(t,e);if(n!==null){var r=rt();Qt(n,t,e,r)}$f(t,e)}};v_=function(){return re};__=function(t,e){var n=re;try{return re=t,e()}finally{re=n}};Rd=function(t,e,n){switch(e){case"input":if(bd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ic(r);if(!i)throw Error(N(90));Y0(r),bd(r,i)}}}break;case"textarea":X0(t,n);break;case"select":e=n.value,e!=null&&Ri(t,!!n.multiple,e,!1)}};s_=Vf;o_=qr;var kE={usingClientEntryPoint:!1,Events:[Xo,vi,Ic,r_,i_,Vf]},Ps={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CE={bundleType:Ps.bundleType,version:Ps.version,rendererPackageName:Ps.rendererPackageName,rendererConfig:Ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=c_(t),t===null?null:t.stateNode},findFiberByHostInstance:Ps.findFiberByHostInstance||wE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oa.isDisabled&&Oa.supportsFiber)try{Cc=Oa.inject(CE),an=Oa}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kE;bt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gf(e))throw Error(N(200));return xE(t,e,null,n)};bt.createRoot=function(t,e){if(!Gf(t))throw Error(N(299));var n=!1,r="",i=Bx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wf(t,1,!1,null,null,n,!1,r,i),t[Tn]=e.current,So(t.nodeType===8?t.parentNode:t),new Hf(e)};bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=c_(e),t=t===null?null:t.stateNode,t};bt.flushSync=function(t){return qr(t)};bt.hydrate=function(t,e,n){if(!jc(e))throw Error(N(200));return Fc(null,t,e,!0,n)};bt.hydrateRoot=function(t,e,n){if(!Gf(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Bx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ux(e,null,t,1,n??null,i,!1,s,o),t[Tn]=e.current,So(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Oc(e)};bt.render=function(t,e,n){if(!jc(e))throw Error(N(200));return Fc(null,t,e,!1,n)};bt.unmountComponentAtNode=function(t){if(!jc(t))throw Error(N(40));return t._reactRootContainer?(qr(function(){Fc(null,null,t,!1,function(){t._reactRootContainer=null,t[Tn]=null})}),!0):!1};bt.unstable_batchedUpdates=Vf;bt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jc(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Fc(t,e,n,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function zx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zx)}catch(t){console.error(t)}}zx(),z0.exports=bt;var bE=z0.exports,jg=bE;vd.createRoot=jg.createRoot,vd.hydrateRoot=jg.hydrateRoot;function EE(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Br(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Fg={};function dh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Br(e[0])&&Fg[e[0]]||(Br(e[0])&&(Fg[e[0]]=new Date),EE(...e))}const Wx=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Vg=(t,e,n)=>{t.loadNamespaces(e,Wx(t,n))},Ug=(t,e,n,r)=>{Br(n)&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,Wx(t,r))},TE=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=e.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))},IE=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(dh("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):TE(t,e,n)},Br=t=>typeof t=="string",PE=t=>typeof t=="object"&&t!==null,NE=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,AE={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},RE=t=>AE[t],LE=t=>t.replace(NE,RE);let hh={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:LE};const ME=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};hh={...hh,...t}},DE=()=>hh;let $x;const OE=t=>{$x=t},jE=()=>$x,FE={type:"3rdParty",init(t){ME(t.options.react),OE(t)}},VE=b.createContext();class UE{constructor(){Im(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}}const BE=(t,e)=>{const n=b.useRef();return b.useEffect(()=>{n.current=t},[t,e]),n.current},Hx=(t,e,n,r)=>t.getFixedT(e,n,r),zE=(t,e,n,r)=>b.useCallback(Hx(t,e,n,r),[t,e,n,r]),gt=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:i}=b.useContext(VE)||{},s=n||r||jE();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new UE),!s){dh("You will need to pass in an i18next instance by using initReactI18next");const S=(E,T)=>Br(T)?T:PE(T)&&Br(T.defaultValue)?T.defaultValue:Array.isArray(E)?E[E.length-1]:E,C=[S,{},!1];return C.t=S,C.i18n={},C.ready=!1,C}s.options.react&&s.options.react.wait!==void 0&&dh("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...DE(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=i||s.options&&s.options.defaultNS;c=Br(c)?[c]:c||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(c);const u=(s.isInitialized||s.initializedStoreOnce)&&c.every(S=>IE(S,s,o)),h=zE(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),d=()=>h,p=()=>Hx(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[m,_]=b.useState(d);let w=c.join();e.lng&&(w=`${e.lng}${w}`);const y=BE(w),g=b.useRef(!0);b.useEffect(()=>{const{bindI18n:S,bindI18nStore:C}=o;g.current=!0,!u&&!a&&(e.lng?Ug(s,e.lng,c,()=>{g.current&&_(p)}):Vg(s,c,()=>{g.current&&_(p)})),u&&y&&y!==w&&g.current&&_(p);const E=()=>{g.current&&_(p)};return S&&s&&s.on(S,E),C&&s&&s.store.on(C,E),()=>{g.current=!1,S&&s&&S.split(" ").forEach(T=>s.off(T,E)),C&&s&&C.split(" ").forEach(T=>s.store.off(T,E))}},[s,w]),b.useEffect(()=>{g.current&&u&&_(d)},[s,l,u]);const v=[m,s,u];if(v.t=m,v.i18n=s,v.ready=u,u||!u&&!a)return v;throw new Promise(S=>{e.lng?Ug(s,e.lng,c,()=>S()):Vg(s,c,()=>S())})},WE=({isDark:t})=>{const e=b.useRef(null);return b.useEffect(()=>{const n=e.current;if(!n)return;const r=n.getContext("2d");let i,s=[];const o=()=>{n.width=window.innerWidth,n.height=window.innerHeight};o(),window.addEventListener("resize",o);class a{constructor(){this.x=Math.random()*n.width,this.y=Math.random()*n.height,this.size=Math.random()*2+.5,this.speedX=Math.random()*.5-.25,this.speedY=Math.random()*.5-.25,this.opacity=Math.random()*.5+.2}update(){this.x+=this.speedX,this.y+=this.speedY,this.x>n.width&&(this.x=0),this.x<0&&(this.x=n.width),this.y>n.height&&(this.y=0),this.y<0&&(this.y=n.height)}draw(){r.fillStyle=t?`rgba(96, 165, 250, ${this.opacity})`:`rgba(59, 130, 246, ${this.opacity})`,r.beginPath(),r.arc(this.x,this.y,this.size,0,Math.PI*2),r.fill()}}(()=>{s=[];const u=Math.min(Math.floor(n.width*n.height/15e3),150);for(let h=0;h<u;h++)s.push(new a)})();const c=()=>{r.clearRect(0,0,n.width,n.height);const u=r.createLinearGradient(0,0,n.width,n.height);t?(u.addColorStop(0,"#0f172a"),u.addColorStop(1,"#1e293b")):(u.addColorStop(0,"#f8fafc"),u.addColorStop(1,"#e2e8f0")),r.fillStyle=u,r.fillRect(0,0,n.width,n.height),s.forEach(h=>{h.update(),h.draw()}),s.forEach((h,d)=>{s.slice(d+1).forEach(p=>{const m=h.x-p.x,_=h.y-p.y,w=Math.sqrt(m*m+_*_);w<120&&(r.strokeStyle=t?`rgba(96, 165, 250, ${.15*(1-w/120)})`:`rgba(59, 130, 246, ${.1*(1-w/120)})`,r.lineWidth=.5,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(p.x,p.y),r.stroke())})}),i=requestAnimationFrame(c)};return c(),()=>{window.removeEventListener("resize",o),cancelAnimationFrame(i)}},[t]),f.jsx("canvas",{ref:e,className:"fixed top-0 left-0 w-full h-full -z-10 transition-opacity duration-500",style:{opacity:1}})},Kf=b.createContext({});function qf(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Vc=b.createContext(null),Qf=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class $E extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function HE({children:t,isPresent:e}){const n=b.useId(),r=b.useRef(null),i=b.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=b.useContext(Qf);return b.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),f.jsx($E,{isPresent:e,childRef:r,sizeRef:i,children:b.cloneElement(t,{ref:r})})}const GE=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=qf(KE),l=b.useId(),c=b.useCallback(h=>{a.set(h,!0);for(const d of a.values())if(!d)return;r&&r()},[a,r]),u=b.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),c]:[n,c]);return b.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[n]),b.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(HE,{isPresent:n,children:t})),f.jsx(Vc.Provider,{value:u,children:t})};function KE(){return new Map}function Gx(t=!0){const e=b.useContext(Vc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=b.useId();b.useEffect(()=>{t&&i(s)},[t]);const o=b.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const ja=t=>t.key||"";function Bg(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const Yf=typeof window<"u",Kx=Yf?b.useLayoutEffect:b.useEffect,ea=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=Gx(o),c=b.useMemo(()=>Bg(t),[t]),u=o&&!a?[]:c.map(ja),h=b.useRef(!0),d=b.useRef(c),p=qf(()=>new Map),[m,_]=b.useState(c),[w,y]=b.useState(c);Kx(()=>{h.current=!1,d.current=c;for(let S=0;S<w.length;S++){const C=ja(w[S]);u.includes(C)?p.delete(C):p.get(C)!==!0&&p.set(C,!1)}},[w,u.length,u.join("-")]);const g=[];if(c!==m){let S=[...c];for(let C=0;C<w.length;C++){const E=w[C],T=ja(E);u.includes(T)||(S.splice(C,0,E),g.push(E))}s==="wait"&&g.length&&(S=g),y(Bg(S)),_(c);return}const{forceRender:v}=b.useContext(Kf);return f.jsx(f.Fragment,{children:w.map(S=>{const C=ja(S),E=o&&!a?!1:c===w||u.includes(C),T=()=>{if(p.has(C))p.set(C,!0);else return;let I=!0;p.forEach(H=>{H||(I=!1)}),I&&(v==null||v(),y(d.current),o&&(l==null||l()),r&&r())};return f.jsx(GE,{isPresent:E,initial:!h.current||n?void 0:!1,custom:E?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:E?void 0:T,children:S},C)})})},wt=t=>t;let qx=wt;function Jf(t){let e;return()=>(e===void 0&&(e=t()),e)}const Yi=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},kn=t=>t*1e3,Cn=t=>t/1e3,qE={useManualTiming:!1};function QE(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,h=!1)=>{const p=h&&r?e:n;return u&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const Fa=["read","resolveKeyframes","update","preRender","render","postRender"],YE=40;function Qx(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Fa.reduce((y,g)=>(y[g]=QE(s),y),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:d}=o,p=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,YE),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),d.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},m=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:Fa.reduce((y,g)=>{const v=o[g];return y[g]=(S,C=!1,E=!1)=>(n||m(),v.schedule(S,C,E)),y},{}),cancel:y=>{for(let g=0;g<Fa.length;g++)o[Fa[g]].cancel(y)},state:i,steps:o}}const{schedule:fe,cancel:fr,state:ze,steps:Uu}=Qx(typeof requestAnimationFrame<"u"?requestAnimationFrame:wt,!0),Yx=b.createContext({strict:!1}),zg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ji={};for(const t in zg)Ji[t]={isEnabled:e=>zg[t].some(n=>!!e[n])};function JE(t){for(const e in t)Ji[e]={...Ji[e],...t[e]}}const XE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||XE.has(t)}let Jx=t=>!Dl(t);function ZE(t){t&&(Jx=e=>e.startsWith("on")?!Dl(e):t(e))}try{ZE(require("@emotion/is-prop-valid").default)}catch{}function eT(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Jx(i)||n===!0&&Dl(i)||!e&&!Dl(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function tT(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Uc=b.createContext({});function Ao(t){return typeof t=="string"||Array.isArray(t)}function Bc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Xf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zf=["initial",...Xf];function zc(t){return Bc(t.animate)||Zf.some(e=>Ao(t[e]))}function Xx(t){return!!(zc(t)||t.variants)}function nT(t,e){if(zc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ao(n)?n:void 0,animate:Ao(r)?r:void 0}}return t.inherit!==!1?e:{}}function rT(t){const{initial:e,animate:n}=nT(t,b.useContext(Uc));return b.useMemo(()=>({initial:e,animate:n}),[Wg(e),Wg(n)])}function Wg(t){return Array.isArray(t)?t.join(" "):t}const iT=Symbol.for("motionComponentSymbol");function bi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sT(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):bi(n)&&(n.current=r))},[e])}const ep=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oT="framerAppearId",Zx="data-"+ep(oT),{schedule:tp}=Qx(queueMicrotask,!1),ew=b.createContext({});function aT(t,e,n,r,i){var s,o;const{visualElement:a}=b.useContext(Uc),l=b.useContext(Yx),c=b.useContext(Vc),u=b.useContext(Qf).reducedMotion,h=b.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const d=h.current,p=b.useContext(ew);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&lT(h.current,n,i,p);const m=b.useRef(!1);b.useInsertionEffect(()=>{d&&m.current&&d.update(n,c)});const _=n[Zx],w=b.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return Kx(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),tp.render(d.render),w.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,_)}),w.current=!1))}),d}function lT(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tw(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&bi(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function tw(t){if(t)return t.options.allowProjection!==!1?t.projection:tw(t.parent)}function cT({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&JE(t);function a(c,u){let h;const d={...b.useContext(Qf),...c,layoutId:uT(c)},{isStatic:p}=d,m=rT(c),_=r(c,p);if(!p&&Yf){dT();const w=hT(d);h=w.MeasureLayout,m.visualElement=aT(i,_,d,e,w.ProjectionNode)}return f.jsxs(Uc.Provider,{value:m,children:[h&&m.visualElement?f.jsx(h,{visualElement:m.visualElement,...d}):null,n(i,c,sT(_,m.visualElement,u),_,p,m.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=b.forwardRef(a);return l[iT]=i,l}function uT({layoutId:t}){const e=b.useContext(Kf).id;return e&&t!==void 0?e+"-"+t:t}function dT(t,e){b.useContext(Yx).strict}function hT(t){const{drag:e,layout:n}=Ji;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const fT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function np(t){return typeof t!="string"||t.includes("-")?!1:!!(fT.indexOf(t)>-1||/[A-Z]/u.test(t))}function $g(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function rp(t,e,n,r){if(typeof e=="function"){const[i,s]=$g(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=$g(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const fh=t=>Array.isArray(t),pT=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),mT=t=>fh(t)?t[t.length-1]||0:t,Je=t=>!!(t&&t.getVelocity);function rl(t){const e=Je(t)?t.get():t;return pT(e)?e.toValue():e}function gT({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:yT(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const nw=t=>(e,n)=>{const r=b.useContext(Uc),i=b.useContext(Vc),s=()=>gT(t,e,r,i);return n?s():qf(s)};function yT(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=rl(s[d]);let{initial:o,animate:a}=t;const l=zc(t),c=Xx(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!Bc(h)){const d=Array.isArray(h)?h:[h];for(let p=0;p<d.length;p++){const m=rp(t,d[p]);if(m){const{transitionEnd:_,transition:w,...y}=m;for(const g in y){let v=y[g];if(Array.isArray(v)){const S=u?v.length-1:0;v=v[S]}v!==null&&(i[g]=v)}for(const g in _)i[g]=_[g]}}}return i}const us=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ii=new Set(us),rw=t=>e=>typeof e=="string"&&e.startsWith(t),iw=rw("--"),vT=rw("var(--"),ip=t=>vT(t)?_T.test(t.split("/*")[0].trim()):!1,_T=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sw=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Nn=(t,e,n)=>n>e?e:n<t?t:n,ds={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ro={...ds,transform:t=>Nn(0,1,t)},Va={...ds,default:1},ta=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fn=ta("deg"),cn=ta("%"),U=ta("px"),xT=ta("vh"),wT=ta("vw"),Hg={...cn,parse:t=>cn.parse(t)/100,transform:t=>cn.transform(t*100)},ST={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U},kT={rotate:Fn,rotateX:Fn,rotateY:Fn,rotateZ:Fn,scale:Va,scaleX:Va,scaleY:Va,scaleZ:Va,skew:Fn,skewX:Fn,skewY:Fn,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:Ro,originX:Hg,originY:Hg,originZ:U},Gg={...ds,transform:Math.round},sp={...ST,...kT,zIndex:Gg,size:U,fillOpacity:Ro,strokeOpacity:Ro,numOctaves:Gg},CT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bT=us.length;function ET(t,e,n){let r="",i=!0;for(let s=0;s<bT;s++){const o=us[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=sw(a,sp[o]);if(!l){i=!1;const u=CT[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function op(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ii.has(l)){o=!0;continue}else if(iw(l)){i[l]=c;continue}else{const u=sw(c,sp[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=ET(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const TT={offset:"stroke-dashoffset",array:"stroke-dasharray"},IT={offset:"strokeDashoffset",array:"strokeDasharray"};function PT(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?TT:IT;t[s.offset]=U.transform(-r);const o=U.transform(e),a=U.transform(n);t[s.array]=`${o} ${a}`}function Kg(t,e,n){return typeof t=="string"?t:U.transform(e+n*t)}function NT(t,e,n){const r=Kg(e,t.x,t.width),i=Kg(n,t.y,t.height);return`${r} ${i}`}function ap(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(op(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:p,dimensions:m}=t;d.transform&&(m&&(p.transform=d.transform),delete d.transform),m&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=NT(m,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),o!==void 0&&PT(d,o,a,l,!1)}const lp=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ow=()=>({...lp(),attrs:{}}),cp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function aw(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const lw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cw(t,e,n,r){aw(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(lw.has(i)?i:ep(i),e.attrs[i])}const Ol={};function AT(t){Object.assign(Ol,t)}function uw(t,{layout:e,layoutId:n}){return ii.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ol[t]||t==="opacity")}function up(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Je(i[o])||e.style&&Je(e.style[o])||uw(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function dw(t,e,n){const r=up(t,e,n);for(const i in t)if(Je(t[i])||Je(e[i])){const s=us.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function RT(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const qg=["x","y","width","height","cx","cy","r"],LT={useVisualState:nw({scrapeMotionValuesFromProps:dw,createRenderState:ow,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(ii.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<qg.length;a++){const l=qg[a];t[l]!==e[l]&&(o=!0)}o&&fe.read(()=>{RT(n,r),fe.render(()=>{ap(r,i,cp(n.tagName),t.transformTemplate),cw(n,r)})})}})},MT={useVisualState:nw({scrapeMotionValuesFromProps:up,createRenderState:lp})};function hw(t,e,n){for(const r in e)!Je(e[r])&&!uw(r,n)&&(t[r]=e[r])}function DT({transformTemplate:t},e){return b.useMemo(()=>{const n=lp();return op(n,e,t),Object.assign({},n.vars,n.style)},[e])}function OT(t,e){const n=t.style||{},r={};return hw(r,n,t),Object.assign(r,DT(t,e)),r}function jT(t,e){const n={},r=OT(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function FT(t,e,n,r){const i=b.useMemo(()=>{const s=ow();return ap(s,e,cp(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};hw(s,t.style,t),i.style={...s,...i.style}}return i}function VT(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(np(n)?FT:jT)(r,s,o,n),c=eT(r,typeof n=="string",t),u=n!==b.Fragment?{...c,...l,ref:i}:{},{children:h}=r,d=b.useMemo(()=>Je(h)?h.get():h,[h]);return b.createElement(n,{...u,children:d})}}function UT(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...np(r)?LT:MT,preloadedFeatures:t,useRender:VT(i),createVisualElement:e,Component:r};return cT(o)}}function fw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Wc(t,e,n){const r=t.getProps();return rp(r,e,n!==void 0?n:r.custom,t)}const BT=Jf(()=>window.ScrollTimeline!==void 0);class zT{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(BT()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class WT extends zT{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function dp(t,e){return t?t[e]||t.default||t:void 0}const ph=2e4;function pw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ph;)e+=n,r=t.next(e);return e>=ph?1/0:e}function hp(t){return typeof t=="function"}function Qg(t,e){t.timeline=e,t.onfinish=null}const fp=t=>Array.isArray(t)&&typeof t[0]=="number",$T={linearEasing:void 0};function HT(t,e){const n=Jf(t);return()=>{var r;return(r=$T[e])!==null&&r!==void 0?r:n()}}const jl=HT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mw=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Yi(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function gw(t){return!!(typeof t=="function"&&jl()||!t||typeof t=="string"&&(t in mh||jl())||fp(t)||Array.isArray(t)&&t.every(gw))}const Us=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,mh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Us([0,.65,.55,1]),circOut:Us([.55,0,1,.45]),backIn:Us([.31,.01,.66,-.59]),backOut:Us([.33,1.53,.69,.99])};function yw(t,e){if(t)return typeof t=="function"&&jl()?mw(t,e):fp(t)?Us(t):Array.isArray(t)?t.map(n=>yw(n,e)||mh.easeOut):mh[t]}const Ut={x:!1,y:!1};function vw(){return Ut.x||Ut.y}function GT(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function _w(t,e){const n=GT(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Yg(t){return e=>{e.pointerType==="touch"||vw()||t(e)}}function KT(t,e,n={}){const[r,i,s]=_w(t,n),o=Yg(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const u=Yg(h=>{c(h),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const xw=(t,e)=>e?t===e?!0:xw(t,e.parentElement):!1,pp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,qT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function QT(t){return qT.has(t.tagName)||t.tabIndex!==-1}const Bs=new WeakSet;function Jg(t){return e=>{e.key==="Enter"&&t(e)}}function Bu(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YT=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Jg(()=>{if(Bs.has(n))return;Bu(n,"down");const i=Jg(()=>{Bu(n,"up")}),s=()=>Bu(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Xg(t){return pp(t)&&!vw()}function JT(t,e,n={}){const[r,i,s]=_w(t,n),o=a=>{const l=a.currentTarget;if(!Xg(a)||Bs.has(l))return;Bs.add(l);const c=e(a),u=(p,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",d),!(!Xg(p)||!Bs.has(l))&&(Bs.delete(l),typeof c=="function"&&c(p,{success:m}))},h=p=>{u(p,n.useGlobalTarget||xw(l,p.target))},d=p=>{u(p,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",d,i)};return r.forEach(a=>{!QT(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>YT(c,i),i)}),s}function XT(t){return t==="x"||t==="y"?Ut[t]?null:(Ut[t]=!0,()=>{Ut[t]=!1}):Ut.x||Ut.y?null:(Ut.x=Ut.y=!0,()=>{Ut.x=Ut.y=!1})}const ww=new Set(["width","height","top","left","right","bottom",...us]);let il;function ZT(){il=void 0}const un={now:()=>(il===void 0&&un.set(ze.isProcessing||qE.useManualTiming?ze.timestamp:performance.now()),il),set:t=>{il=t,queueMicrotask(ZT)}};function mp(t,e){t.indexOf(e)===-1&&t.push(e)}function gp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class yp{constructor(){this.subscriptions=[]}add(e){return mp(this.subscriptions,e),()=>gp(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Sw(t,e){return e?t*(1e3/e):0}const Zg=30,eI=t=>!isNaN(parseFloat(t));class tI{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=un.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=un.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yp);const r=this.events[e].add(n);return e==="change"?()=>{r(),fe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Zg)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Zg);return Sw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lo(t,e){return new tI(t,e)}function nI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Lo(n))}function rI(t,e){const n=Wc(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=mT(s[o]);nI(t,o,a)}}function iI(t){return!!(Je(t)&&t.add)}function gh(t,e){const n=t.getValue("willChange");if(iI(n))return n.add(e)}function kw(t){return t.props[Zx]}const Cw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,sI=1e-7,oI=12;function aI(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Cw(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>sI&&++a<oI);return o}function na(t,e,n,r){if(t===e&&n===r)return wt;const i=s=>aI(s,0,1,t,n);return s=>s===0||s===1?s:Cw(i(s),e,r)}const bw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ew=t=>e=>1-t(1-e),Tw=na(.33,1.53,.69,.99),vp=Ew(Tw),Iw=bw(vp),Pw=t=>(t*=2)<1?.5*vp(t):.5*(2-Math.pow(2,-10*(t-1))),_p=t=>1-Math.sin(Math.acos(t)),Nw=Ew(_p),Aw=bw(_p),Rw=t=>/^0[^.\s]+$/u.test(t);function lI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Rw(t):!0}const eo=t=>Math.round(t*1e5)/1e5,xp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cI(t){return t==null}const uI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wp=(t,e)=>n=>!!(typeof n=="string"&&uI.test(n)&&n.startsWith(t)||e&&!cI(n)&&Object.prototype.hasOwnProperty.call(n,e)),Lw=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(xp);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},dI=t=>Nn(0,255,t),zu={...ds,transform:t=>Math.round(dI(t))},jr={test:wp("rgb","red"),parse:Lw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+zu.transform(t)+", "+zu.transform(e)+", "+zu.transform(n)+", "+eo(Ro.transform(r))+")"};function hI(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yh={test:wp("#"),parse:hI,transform:jr.transform},Ei={test:wp("hsl","hue"),parse:Lw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+cn.transform(eo(e))+", "+cn.transform(eo(n))+", "+eo(Ro.transform(r))+")"},Qe={test:t=>jr.test(t)||yh.test(t)||Ei.test(t),parse:t=>jr.test(t)?jr.parse(t):Ei.test(t)?Ei.parse(t):yh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?jr.transform(t):Ei.transform(t)},fI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pI(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(xp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(fI))===null||n===void 0?void 0:n.length)||0)>0}const Mw="number",Dw="color",mI="var",gI="var(",ey="${}",yI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mo(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(yI,l=>(Qe.test(l)?(r.color.push(s),i.push(Dw),n.push(Qe.parse(l))):l.startsWith(gI)?(r.var.push(s),i.push(mI),n.push(l)):(r.number.push(s),i.push(Mw),n.push(parseFloat(l))),++s,ey)).split(ey);return{values:n,split:a,indexes:r,types:i}}function Ow(t){return Mo(t).values}function jw(t){const{split:e,types:n}=Mo(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Mw?s+=eo(i[o]):a===Dw?s+=Qe.transform(i[o]):s+=i[o]}return s}}const vI=t=>typeof t=="number"?0:t;function _I(t){const e=Ow(t);return jw(t)(e.map(vI))}const pr={test:pI,parse:Ow,createTransformer:jw,getAnimatableNone:_I},xI=new Set(["brightness","contrast","saturate","opacity"]);function wI(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(xp)||[];if(!r)return t;const i=n.replace(r,"");let s=xI.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const SI=/\b([a-z-]*)\(.*?\)/gu,vh={...pr,getAnimatableNone:t=>{const e=t.match(SI);return e?e.map(wI).join(" "):t}},kI={...sp,color:Qe,backgroundColor:Qe,outlineColor:Qe,fill:Qe,stroke:Qe,borderColor:Qe,borderTopColor:Qe,borderRightColor:Qe,borderBottomColor:Qe,borderLeftColor:Qe,filter:vh,WebkitFilter:vh},Sp=t=>kI[t];function Fw(t,e){let n=Sp(t);return n!==vh&&(n=pr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const CI=new Set(["auto","none","0"]);function bI(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!CI.has(s)&&Mo(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Fw(n,i)}const ty=t=>t===ds||t===U,ny=(t,e)=>parseFloat(t.split(", ")[e]),ry=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return ny(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?ny(s[1],t):0}},EI=new Set(["x","y","z"]),TI=us.filter(t=>!EI.has(t));function II(t){const e=[];return TI.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Xi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ry(4,13),y:ry(5,14)};Xi.translateX=Xi.x;Xi.translateY=Xi.y;const zr=new Set;let _h=!1,xh=!1;function Vw(){if(xh){const t=Array.from(zr).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=II(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}xh=!1,_h=!1,zr.forEach(t=>t.complete()),zr.clear()}function Uw(){zr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xh=!0)})}function PI(){Uw(),Vw()}class kp{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(zr.add(this),_h||(_h=!0,fe.read(Uw),fe.resolveKeyframes(Vw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),zr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,zr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Bw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),NI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AI(t){const e=NI.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function zw(t,e,n=1){const[r,i]=AI(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Bw(o)?parseFloat(o):o}return ip(i)?zw(i,e,n+1):i}const Ww=t=>e=>e.test(t),RI={test:t=>t==="auto",parse:t=>t},$w=[ds,U,cn,Fn,wT,xT,RI],iy=t=>$w.find(Ww(t));class Hw extends kp{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),ip(c))){const u=zw(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!ww.has(r)||e.length!==2)return;const[i,s]=e,o=iy(i),a=iy(s);if(o!==a)if(ty(o)&&ty(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)lI(e[i])&&r.push(i);r.length&&bI(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xi[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Xi[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const sy=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pr.test(t)||t==="0")&&!t.startsWith("url("));function LI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function MI(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=sy(i,e),a=sy(s,e);return!o||!a?!1:LI(t)||(n==="spring"||hp(n))&&r}const DI=t=>t!==null;function $c(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(DI),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const OI=40;class Gw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=un.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>OI?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&PI(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=un.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!MI(e,r,i,s))if(o)this.options.duration=0;else{l&&l($c(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ve=(t,e,n)=>t+(e-t)*n;function Wu(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function jI({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Wu(l,a,t+1/3),s=Wu(l,a,t),o=Wu(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Fl(t,e){return n=>n>0?e:t}const $u=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},FI=[yh,jr,Ei],VI=t=>FI.find(e=>e.test(t));function oy(t){const e=VI(t);if(!e)return!1;let n=e.parse(t);return e===Ei&&(n=jI(n)),n}const ay=(t,e)=>{const n=oy(t),r=oy(e);if(!n||!r)return Fl(t,e);const i={...n};return s=>(i.red=$u(n.red,r.red,s),i.green=$u(n.green,r.green,s),i.blue=$u(n.blue,r.blue,s),i.alpha=ve(n.alpha,r.alpha,s),jr.transform(i))},UI=(t,e)=>n=>e(t(n)),ra=(...t)=>t.reduce(UI),wh=new Set(["none","hidden"]);function BI(t,e){return wh.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function zI(t,e){return n=>ve(t,e,n)}function Cp(t){return typeof t=="number"?zI:typeof t=="string"?ip(t)?Fl:Qe.test(t)?ay:HI:Array.isArray(t)?Kw:typeof t=="object"?Qe.test(t)?ay:WI:Fl}function Kw(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Cp(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function WI(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Cp(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function $I(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const HI=(t,e)=>{const n=pr.createTransformer(e),r=Mo(t),i=Mo(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?wh.has(t)&&!i.values.length||wh.has(e)&&!r.values.length?BI(t,e):ra(Kw($I(r,i),i.values),n):Fl(t,e)};function qw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ve(t,e,n):Cp(t)(t,e)}const GI=5;function Qw(t,e,n){const r=Math.max(e-GI,0);return Sw(n-t(r),e-r)}const ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hu=.001;function KI({duration:t=ke.duration,bounce:e=ke.bounce,velocity:n=ke.velocity,mass:r=ke.mass}){let i,s,o=1-e;o=Nn(ke.minDamping,ke.maxDamping,o),t=Nn(ke.minDuration,ke.maxDuration,Cn(t)),o<1?(i=c=>{const u=c*o,h=u*t,d=u-n,p=Sh(c,o),m=Math.exp(-h);return Hu-d/p*m},s=c=>{const h=c*o*t,d=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-h),_=Sh(Math.pow(c,2),o);return(-i(c)+Hu>0?-1:1)*((d-p)*m)/_}):(i=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-Hu+u*h},s=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=QI(i,s,a);if(t=kn(t),isNaN(l))return{stiffness:ke.stiffness,damping:ke.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const qI=12;function QI(t,e,n){let r=n;for(let i=1;i<qI;i++)r=r-t(r)/e(r);return r}function Sh(t,e){return t*Math.sqrt(1-e*e)}const YI=["duration","bounce"],JI=["stiffness","damping","mass"];function ly(t,e){return e.some(n=>t[n]!==void 0)}function XI(t){let e={velocity:ke.velocity,stiffness:ke.stiffness,damping:ke.damping,mass:ke.mass,isResolvedFromDuration:!1,...t};if(!ly(t,JI)&&ly(t,YI))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Nn(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ke.mass,stiffness:i,damping:s}}else{const n=KI(t);e={...e,...n,mass:ke.mass},e.isResolvedFromDuration=!0}return e}function Yw(t=ke.visualDuration,e=ke.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:p}=XI({...n,velocity:-Cn(n.velocity||0)}),m=d||0,_=c/(2*Math.sqrt(l*u)),w=o-s,y=Cn(Math.sqrt(l/u)),g=Math.abs(w)<5;r||(r=g?ke.restSpeed.granular:ke.restSpeed.default),i||(i=g?ke.restDelta.granular:ke.restDelta.default);let v;if(_<1){const C=Sh(y,_);v=E=>{const T=Math.exp(-_*y*E);return o-T*((m+_*y*w)/C*Math.sin(C*E)+w*Math.cos(C*E))}}else if(_===1)v=C=>o-Math.exp(-y*C)*(w+(m+y*w)*C);else{const C=y*Math.sqrt(_*_-1);v=E=>{const T=Math.exp(-_*y*E),I=Math.min(C*E,300);return o-T*((m+_*y*w)*Math.sinh(I)+C*w*Math.cosh(I))/C}}const S={calculatedDuration:p&&h||null,next:C=>{const E=v(C);if(p)a.done=C>=h;else{let T=0;_<1&&(T=C===0?kn(m):Qw(v,C,E));const I=Math.abs(T)<=r,H=Math.abs(o-E)<=i;a.done=I&&H}return a.value=a.done?o:E,a},toString:()=>{const C=Math.min(pw(S),ph),E=mw(T=>S.next(C*T).value,C,30);return C+"ms "+E}};return S}function cy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],d={done:!1,value:h},p=I=>a!==void 0&&I<a||l!==void 0&&I>l,m=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let _=n*e;const w=h+_,y=o===void 0?w:o(w);y!==w&&(_=y-h);const g=I=>-_*Math.exp(-I/r),v=I=>y+g(I),S=I=>{const H=g(I),P=v(I);d.done=Math.abs(H)<=c,d.value=d.done?y:P};let C,E;const T=I=>{p(d.value)&&(C=I,E=Yw({keyframes:[d.value,m(d.value)],velocity:Qw(v,I,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:I=>{let H=!1;return!E&&C===void 0&&(H=!0,S(I),T(I)),C!==void 0&&I>=C?E.next(I-C):(!H&&S(I),d)}}}const ZI=na(.42,0,1,1),eP=na(0,0,.58,1),Jw=na(.42,0,.58,1),tP=t=>Array.isArray(t)&&typeof t[0]!="number",nP={linear:wt,easeIn:ZI,easeInOut:Jw,easeOut:eP,circIn:_p,circInOut:Aw,circOut:Nw,backIn:vp,backInOut:Iw,backOut:Tw,anticipate:Pw},uy=t=>{if(fp(t)){qx(t.length===4);const[e,n,r,i]=t;return na(e,n,r,i)}else if(typeof t=="string")return nP[t];return t};function rP(t,e,n){const r=[],i=n||qw,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||wt:e;a=ra(l,a)}r.push(a)}return r}function iP(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(qx(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=rP(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const d=Yi(t[h],t[h+1],u);return a[h](d)};return n?u=>c(Nn(t[0],t[s-1],u)):c}function sP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Yi(0,e,r);t.push(ve(n,1,i))}}function oP(t){const e=[0];return sP(e,t.length-1),e}function aP(t,e){return t.map(n=>n*e)}function lP(t,e){return t.map(()=>e||Jw).splice(0,t.length-1)}function Vl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=tP(r)?r.map(uy):uy(r),s={done:!1,value:e[0]},o=aP(n&&n.length===e.length?n:oP(e),t),a=iP(o,e,{ease:Array.isArray(i)?i:lP(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const cP=t=>{const e=({timestamp:n})=>t(n);return{start:()=>fe.update(e,!0),stop:()=>fr(e),now:()=>ze.isProcessing?ze.timestamp:un.now()}},uP={decay:cy,inertia:cy,tween:Vl,keyframes:Vl,spring:Yw},dP=t=>t/100;class bp extends Gw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||kp,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=hp(n)?n:uP[n]||Vl;let l,c;a!==Vl&&typeof e[0]!="number"&&(l=ra(dP,qw(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=pw(u));const{calculatedDuration:h}=u,d=h+i,p=d*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:d,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:d,repeat:p,repeatType:m,repeatDelay:_,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-d*(this.speed>=0?1:-1),g=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let v=this.currentTime,S=s;if(p){const I=Math.min(this.currentTime,u)/h;let H=Math.floor(I),P=I%1;!P&&I>=1&&(P=1),P===1&&H--,H=Math.min(H,p+1),!!(H%2)&&(m==="reverse"?(P=1-P,_&&(P-=_/h)):m==="mirror"&&(S=o)),v=Nn(0,1,P)*h}const C=g?{done:!1,value:l[0]}:S.next(v);a&&(C.value=a(C.value));let{done:E}=C;!g&&c!==null&&(E=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return T&&i!==void 0&&(C.value=$c(l,this.options,i)),w&&w(C.value),T&&this.finish(),C}get duration(){const{resolved:e}=this;return e?Cn(e.calculatedDuration):0}get time(){return Cn(this.currentTime)}set time(e){e=kn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Cn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=cP,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const hP=new Set(["opacity","clipPath","filter","transform"]);function fP(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=yw(a,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const pP=Jf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ul=10,mP=2e4;function gP(t){return hp(t.type)||t.type==="spring"||!gw(t.ease)}function yP(t,e){const n=new bp({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<mP;)r=n.sample(s),i.push(r.value),s+=Ul;return{times:void 0,keyframes:i,duration:s-Ul,ease:"linear"}}const Xw={anticipate:Pw,backInOut:Iw,circInOut:Aw};function vP(t){return t in Xw}class dy extends Gw{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Hw(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&jl()&&vP(s)&&(s=Xw[s]),gP(this.options)){const{onComplete:h,onUpdate:d,motionValue:p,element:m,..._}=this.options,w=yP(e,_);e=w.keyframes,e.length===1&&(e[1]=e[0]),r=w.duration,i=w.times,s=w.ease,o="keyframes"}const u=fP(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(Qg(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;a.set($c(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Cn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Cn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=kn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return wt;const{animation:r}=n;Qg(r,e)}return wt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:d,...p}=this.options,m=new bp({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),_=kn(this.time);c.setWithVelocity(m.sample(_-Ul).value,m.sample(_).value,Ul)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return pP()&&r&&hP.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const _P={type:"spring",stiffness:500,damping:25,restSpeed:10},xP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wP={type:"keyframes",duration:.8},SP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kP=(t,{keyframes:e})=>e.length>2?wP:ii.has(t)?t.startsWith("scale")?xP(e[1]):_P:SP;function CP({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Ep=(t,e,n,r={},i,s)=>o=>{const a=dp(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-kn(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};CP(a)||(u={...u,...kP(t,u)}),u.duration&&(u.duration=kn(u.duration)),u.repeatDelay&&(u.repeatDelay=kn(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const d=$c(u.keyframes,a);if(d!==void 0)return fe.update(()=>{u.onUpdate(d),u.onComplete()}),new WT([])}return!s&&dy.supports(u)?new dy(u):new bp(u)};function bP({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Zw(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const d=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),p=l[h];if(p===void 0||u&&bP(u,h))continue;const m={delay:n,...dp(o||{},h)};let _=!1;if(window.MotionHandoffAnimation){const y=kw(t);if(y){const g=window.MotionHandoffAnimation(y,h,fe);g!==null&&(m.startTime=g,_=!0)}}gh(t,h),d.start(Ep(h,d,p,t.shouldReduceMotion&&ww.has(h)?{type:!1}:m,t,_));const w=d.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{fe.update(()=>{a&&rI(t,a)})}),c}function kh(t,e,n={}){var r;const i=Wc(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(Zw(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:d}=s;return EP(t,e,u+c,h,d,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function EP(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(TP).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(kh(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function TP(t,e){return t.sortNodePosition(e)}function IP(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>kh(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=kh(t,e,n);else{const i=typeof e=="function"?Wc(t,e,n.custom):e;r=Promise.all(Zw(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const PP=Zf.length;function e1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?e1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<PP;n++){const r=Zf[n],i=t.props[r];(Ao(i)||i===!1)&&(e[r]=i)}return e}const NP=[...Xf].reverse(),AP=Xf.length;function RP(t){return e=>Promise.all(e.map(({animation:n,options:r})=>IP(t,n,r)))}function LP(t){let e=RP(t),n=hy(),r=!0;const i=l=>(c,u)=>{var h;const d=Wc(t,u,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(d){const{transition:p,transitionEnd:m,..._}=d;c={...c,..._,...m}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=e1(t.parent)||{},h=[],d=new Set;let p={},m=1/0;for(let w=0;w<AP;w++){const y=NP[w],g=n[y],v=c[y]!==void 0?c[y]:u[y],S=Ao(v),C=y===l?g.isActive:null;C===!1&&(m=w);let E=v===u[y]&&v!==c[y]&&S;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),g.protectedKeys={...p},!g.isActive&&C===null||!v&&!g.prevProp||Bc(v)||typeof v=="boolean")continue;const T=MP(g.prevProp,v);let I=T||y===l&&g.isActive&&!E&&S||w>m&&S,H=!1;const P=Array.isArray(v)?v:[v];let O=P.reduce(i(y),{});C===!1&&(O={});const{prevResolvedValues:yt={}}=g,et={...yt,...O},Ne=pe=>{I=!0,d.has(pe)&&(H=!0,d.delete(pe)),g.needsAnimating[pe]=!0;const A=t.getValue(pe);A&&(A.liveStyle=!1)};for(const pe in et){const A=O[pe],j=yt[pe];if(p.hasOwnProperty(pe))continue;let k=!1;fh(A)&&fh(j)?k=!fw(A,j):k=A!==j,k?A!=null?Ne(pe):d.add(pe):A!==void 0&&d.has(pe)?Ne(pe):g.protectedKeys[pe]=!0}g.prevProp=v,g.prevResolvedValues=O,g.isActive&&(p={...p,...O}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(E&&T)||H)&&h.push(...P.map(pe=>({animation:pe,options:{type:y}})))}if(d.size){const w={};d.forEach(y=>{const g=t.getBaseTarget(y),v=t.getValue(y);v&&(v.liveStyle=!0),w[y]=g??null}),h.push({animation:w})}let _=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(h):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(d=>{var p;return(p=d.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=hy(),r=!0}}}function MP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fw(e,t):!1}function Er(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hy(){return{animate:Er(!0),whileInView:Er(),whileHover:Er(),whileTap:Er(),whileDrag:Er(),whileFocus:Er(),exit:Er()}}class Sr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class DP extends Sr{constructor(e){super(e),e.animationState||(e.animationState=LP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let OP=0;class jP extends Sr{constructor(){super(...arguments),this.id=OP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const FP={animation:{Feature:DP},exit:{Feature:jP}};function Do(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ia(t){return{point:{x:t.pageX,y:t.pageY}}}const VP=t=>e=>pp(e)&&t(e,ia(e));function to(t,e,n,r){return Do(t,e,VP(n),r)}const fy=(t,e)=>Math.abs(t-e);function UP(t,e){const n=fy(t.x,e.x),r=fy(t.y,e.y);return Math.sqrt(n**2+r**2)}class t1{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ku(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=UP(h.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:m}=h,{timestamp:_}=ze;this.history.push({...m,timestamp:_});const{onStart:w,onMove:y}=this.handlers;d||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,d)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Gu(d,this.transformPagePoint),fe.update(this.updatePoint,!0)},this.handlePointerUp=(h,d)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ku(h.type==="pointercancel"?this.lastMoveEventInfo:Gu(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,w),m&&m(h,w)},!pp(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=ia(e),a=Gu(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ze;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Ku(a,this.history)),this.removeListeners=ra(to(this.contextWindow,"pointermove",this.handlePointerMove),to(this.contextWindow,"pointerup",this.handlePointerUp),to(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fr(this.updatePoint)}}function Gu(t,e){return e?{point:e(t.point)}:t}function py(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ku({point:t},e){return{point:t,delta:py(t,n1(e)),offset:py(t,BP(e)),velocity:zP(e,.1)}}function BP(t){return t[0]}function n1(t){return t[t.length-1]}function zP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=n1(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>kn(e)));)n--;if(!r)return{x:0,y:0};const s=Cn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const r1=1e-4,WP=1-r1,$P=1+r1,i1=.01,HP=0-i1,GP=0+i1;function kt(t){return t.max-t.min}function KP(t,e,n){return Math.abs(t-e)<=n}function my(t,e,n,r=.5){t.origin=r,t.originPoint=ve(e.min,e.max,t.origin),t.scale=kt(n)/kt(e),t.translate=ve(n.min,n.max,t.origin)-t.originPoint,(t.scale>=WP&&t.scale<=$P||isNaN(t.scale))&&(t.scale=1),(t.translate>=HP&&t.translate<=GP||isNaN(t.translate))&&(t.translate=0)}function no(t,e,n,r){my(t.x,e.x,n.x,r?r.originX:void 0),my(t.y,e.y,n.y,r?r.originY:void 0)}function gy(t,e,n){t.min=n.min+e.min,t.max=t.min+kt(e)}function qP(t,e,n){gy(t.x,e.x,n.x),gy(t.y,e.y,n.y)}function yy(t,e,n){t.min=e.min-n.min,t.max=t.min+kt(e)}function ro(t,e,n){yy(t.x,e.x,n.x),yy(t.y,e.y,n.y)}function QP(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ve(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ve(n,t,r.max):Math.min(t,n)),t}function vy(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function YP(t,{top:e,left:n,bottom:r,right:i}){return{x:vy(t.x,n,i),y:vy(t.y,e,r)}}function _y(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function JP(t,e){return{x:_y(t.x,e.x),y:_y(t.y,e.y)}}function XP(t,e){let n=.5;const r=kt(t),i=kt(e);return i>r?n=Yi(e.min,e.max-r,t.min):r>i&&(n=Yi(t.min,t.max-i,e.min)),Nn(0,1,n)}function ZP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ch=.35;function eN(t=Ch){return t===!1?t=0:t===!0&&(t=Ch),{x:xy(t,"left","right"),y:xy(t,"top","bottom")}}function xy(t,e,n){return{min:wy(t,e),max:wy(t,n)}}function wy(t,e){return typeof t=="number"?t:t[e]||0}const Sy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ti=()=>({x:Sy(),y:Sy()}),ky=()=>({min:0,max:0}),Ee=()=>({x:ky(),y:ky()});function Pt(t){return[t("x"),t("y")]}function s1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function tN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function qu(t){return t===void 0||t===1}function bh({scale:t,scaleX:e,scaleY:n}){return!qu(t)||!qu(e)||!qu(n)}function Pr(t){return bh(t)||o1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function o1(t){return Cy(t.x)||Cy(t.y)}function Cy(t){return t&&t!=="0%"}function Bl(t,e,n){const r=t-n,i=e*r;return n+i}function by(t,e,n,r,i){return i!==void 0&&(t=Bl(t,i,r)),Bl(t,n,r)+e}function Eh(t,e=0,n=1,r,i){t.min=by(t.min,e,n,r,i),t.max=by(t.max,e,n,r,i)}function a1(t,{x:e,y:n}){Eh(t.x,e.translate,e.scale,e.originPoint),Eh(t.y,n.translate,n.scale,n.originPoint)}const Ey=.999999999999,Ty=1.0000000000001;function rN(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Pi(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,a1(t,o)),r&&Pr(s.latestValues)&&Pi(t,s.latestValues))}e.x<Ty&&e.x>Ey&&(e.x=1),e.y<Ty&&e.y>Ey&&(e.y=1)}function Ii(t,e){t.min=t.min+e,t.max=t.max+e}function Iy(t,e,n,r,i=.5){const s=ve(t.min,t.max,i);Eh(t,e,n,s,r)}function Pi(t,e){Iy(t.x,e.x,e.scaleX,e.scale,e.originX),Iy(t.y,e.y,e.scaleY,e.scale,e.originY)}function l1(t,e){return s1(nN(t.getBoundingClientRect(),e))}function iN(t,e,n){const r=l1(t,n),{scroll:i}=e;return i&&(Ii(r.x,i.offset.x),Ii(r.y,i.offset.y)),r}const c1=({current:t})=>t?t.ownerDocument.defaultView:null,sN=new WeakMap;class oN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ia(u).point)},s=(u,h)=>{const{drag:d,dragPropagation:p,onDragStart:m}=this.getProps();if(d&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XT(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pt(w=>{let y=this.getAxisMotionValue(w).get()||0;if(cn.test(y)){const{projection:g}=this.visualElement;if(g&&g.layout){const v=g.layout.layoutBox[w];v&&(y=kt(v)*(parseFloat(y)/100))}}this.originPoint[w]=y}),m&&fe.postRender(()=>m(u,h)),gh(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:m,onDrag:_}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:w}=h;if(p&&this.currentDirection===null){this.currentDirection=aN(w),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),_&&_(u,h)},a=(u,h)=>this.stop(u,h),l=()=>Pt(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new t1(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:c1(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&fe.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ua(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=QP(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&bi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=YP(i.layoutBox,n):this.constraints=!1,this.elastic=eN(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Pt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ZP(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!bi(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=iN(r,i.root,this.visualElement.getTransformPagePoint());let o=JP(i.layout.layoutBox,s);if(n){const a=n(tN(o));this.hasMutatedConstraints=!!a,a&&(o=s1(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Pt(u=>{if(!Ua(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return gh(this.visualElement,e),r.start(Ep(e,r,0,n,this.visualElement,!1))}stopAnimation(){Pt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Pt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Pt(n=>{const{drag:r}=this.getProps();if(!Ua(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ve(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!bi(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Pt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=XP({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Pt(o=>{if(!Ua(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ve(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;sN.set(this.visualElement,this);const e=this.visualElement.current,n=to(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();bi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),fe.read(r);const o=Do(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Pt(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Ch,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ua(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aN(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class lN extends Sr{constructor(e){super(e),this.removeGroupControls=wt,this.removeListeners=wt,this.controls=new oN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Py=t=>(e,n)=>{t&&fe.postRender(()=>t(e,n))};class cN extends Sr{constructor(){super(...arguments),this.removePointerDownListener=wt}onPointerDown(e){this.session=new t1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:c1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Py(e),onStart:Py(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&fe.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=to(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ny(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ns={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(U.test(t))t=parseFloat(t);else return t;const n=Ny(t,e.target.x),r=Ny(t,e.target.y);return`${n}% ${r}%`}},uN={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=pr.parse(t);if(i.length>5)return r;const s=pr.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=ve(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class dN extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;AT(hN),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),sl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||fe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function u1(t){const[e,n]=Gx(),r=b.useContext(Kf);return f.jsx(dN,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(ew),isPresent:e,safeToRemove:n})}const hN={borderRadius:{...Ns,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ns,borderTopRightRadius:Ns,borderBottomLeftRadius:Ns,borderBottomRightRadius:Ns,boxShadow:uN};function fN(t,e,n){const r=Je(t)?t:Lo(t);return r.start(Ep("",r,e,n)),r.animation}function pN(t){return t instanceof SVGElement&&t.tagName!=="svg"}const mN=(t,e)=>t.depth-e.depth;class gN{constructor(){this.children=[],this.isDirty=!1}add(e){mp(this.children,e),this.isDirty=!0}remove(e){gp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mN),this.isDirty=!1,this.children.forEach(e)}}function yN(t,e){const n=un.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(fr(r),t(s-e))};return fe.read(r,!0),()=>fr(r)}const d1=["TopLeft","TopRight","BottomLeft","BottomRight"],vN=d1.length,Ay=t=>typeof t=="string"?parseFloat(t):t,Ry=t=>typeof t=="number"||U.test(t);function _N(t,e,n,r,i,s){i?(t.opacity=ve(0,n.opacity!==void 0?n.opacity:1,xN(r)),t.opacityExit=ve(e.opacity!==void 0?e.opacity:1,0,wN(r))):s&&(t.opacity=ve(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<vN;o++){const a=`border${d1[o]}Radius`;let l=Ly(e,a),c=Ly(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Ry(l)===Ry(c)?(t[a]=Math.max(ve(Ay(l),Ay(c),r),0),(cn.test(c)||cn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ve(e.rotate||0,n.rotate||0,r))}function Ly(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const xN=h1(0,.5,Nw),wN=h1(.5,.95,wt);function h1(t,e,n){return r=>r<t?0:r>e?1:n(Yi(t,e,r))}function My(t,e){t.min=e.min,t.max=e.max}function It(t,e){My(t.x,e.x),My(t.y,e.y)}function Dy(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Oy(t,e,n,r,i){return t-=e,t=Bl(t,1/n,r),i!==void 0&&(t=Bl(t,1/i,r)),t}function SN(t,e=0,n=1,r=.5,i,s=t,o=t){if(cn.test(e)&&(e=parseFloat(e),e=ve(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ve(s.min,s.max,r);t===s&&(a-=e),t.min=Oy(t.min,e,n,a,i),t.max=Oy(t.max,e,n,a,i)}function jy(t,e,[n,r,i],s,o){SN(t,e[n],e[r],e[i],e.scale,s,o)}const kN=["x","scaleX","originX"],CN=["y","scaleY","originY"];function Fy(t,e,n,r){jy(t.x,e,kN,n?n.x:void 0,r?r.x:void 0),jy(t.y,e,CN,n?n.y:void 0,r?r.y:void 0)}function Vy(t){return t.translate===0&&t.scale===1}function f1(t){return Vy(t.x)&&Vy(t.y)}function Uy(t,e){return t.min===e.min&&t.max===e.max}function bN(t,e){return Uy(t.x,e.x)&&Uy(t.y,e.y)}function By(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function p1(t,e){return By(t.x,e.x)&&By(t.y,e.y)}function zy(t){return kt(t.x)/kt(t.y)}function Wy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class EN{constructor(){this.members=[]}add(e){mp(this.members,e),e.scheduleRender()}remove(e){if(gp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TN(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:d,skewX:p,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),d&&(r+=`rotateY(${d}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Nr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},zs=typeof window<"u"&&window.MotionDebug!==void 0,Qu=["","X","Y","Z"],IN={visibility:"hidden"},$y=1e3;let PN=0;function Yu(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function m1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=kw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",fe,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&m1(r)}function g1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=PN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zs&&(Nr.totalNodes=Nr.resolvedTargetDeltas=Nr.recalculatedProjection=0),this.nodes.forEach(RN),this.nodes.forEach(jN),this.nodes.forEach(FN),this.nodes.forEach(LN),zs&&window.MotionDebug.record(Nr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new gN)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yp),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=pN(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=yN(d,250),sl.hasAnimatedSinceResize&&(sl.hasAnimatedSinceResize=!1,this.nodes.forEach(Gy))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||u.getDefaultTransition()||WN,{onLayoutAnimationStart:w,onLayoutAnimationComplete:y}=u.getProps(),g=!this.targetLayout||!p1(this.targetLayout,m)||p,v=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const S={...dp(_,"layout"),onPlay:w,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else d||Gy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VN),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&m1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hy);return}this.isUpdating||this.nodes.forEach(DN),this.isUpdating=!1,this.nodes.forEach(ON),this.nodes.forEach(NN),this.nodes.forEach(AN),this.clearAllSnapshots();const a=un.now();ze.delta=Nn(0,1e3/60,a-ze.timestamp),ze.timestamp=a,ze.isProcessing=!0,Uu.update.process(ze),Uu.preRender.process(ze),Uu.render.process(ze),ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(MN),this.sharedNodes.forEach(UN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!f1(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Pr(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),$N(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ee();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(HN))){const{scroll:u}=this.root;u&&(Ii(l.x,u.offset.x),Ii(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Ee();if(It(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:d}=u;u!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&It(l,o),Ii(l.x,h.offset.x),Ii(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Ee();It(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Pi(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Pr(u.latestValues)&&Pi(l,u.latestValues)}return Pr(this.latestValues)&&Pi(l,this.latestValues),l}removeTransform(o){const a=Ee();It(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Pr(c.latestValues))continue;bh(c.latestValues)&&c.updateSnapshot();const u=Ee(),h=c.measurePageBox();It(u,h),Fy(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Pr(this.latestValues)&&Fy(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=ze.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),ro(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),It(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):It(this.target,this.layout.layoutBox),a1(this.target,this.targetDelta)):It(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),ro(this.relativeTargetOrigin,this.target,p.target),It(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zs&&Nr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bh(this.parent.latestValues)||o1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ze.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;It(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;rN(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ee());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dy(this.prevProjectionDelta.x,this.projectionDelta.x),Dy(this.prevProjectionDelta.y,this.projectionDelta.y)),no(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!Wy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Wy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),zs&&Nr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ti(),this.projectionDelta=Ti(),this.projectionDeltaWithTransform=Ti()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=Ti();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Ee(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,_=p!==m,w=this.getStack(),y=!w||w.members.length<=1,g=!!(_&&!y&&this.options.crossfade===!0&&!this.path.some(zN));this.animationProgress=0;let v;this.mixTargetDelta=S=>{const C=S/1e3;Ky(h.x,o.x,C),Ky(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ro(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BN(this.relativeTarget,this.relativeTargetOrigin,d,C),v&&bN(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Ee()),It(v,this.relativeTarget)),_&&(this.animationValues=u,_N(u,c,this.latestValues,C,g,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fe.update(()=>{sl.hasAnimatedSinceResize=!0,this.currentAnimation=fN(0,$y,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($y),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&y1(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ee();const h=kt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=kt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}It(a,l),Pi(a,u),no(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new EN),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Yu("z",o,c,this.animationValues);for(let u=0;u<Qu.length;u++)Yu(`rotate${Qu[u]}`,o,c,this.animationValues),Yu(`skew${Qu[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return IN;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=rl(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=rl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Pr(this.latestValues)&&(_.transform=u?u({},""):"none",this.hasProjected=!1),_}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=TN(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const _ in Ol){if(d[_]===void 0)continue;const{correct:w,applyTo:y}=Ol[_],g=c.transform==="none"?d[_]:w(d[_],h);if(y){const v=y.length;for(let S=0;S<v;S++)c[y[S]]=g}else c[_]=g}return this.options.layoutId&&(c.pointerEvents=h===this?rl(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Hy),this.root.sharedNodes.clear()}}}function NN(t){t.updateLayout()}function AN(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Pt(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],p=kt(d);d.min=r[h].min,d.max=d.min+p}):y1(s,n.layoutBox,r)&&Pt(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],p=kt(r[h]);d.max=d.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Ti();no(a,r,n.layoutBox);const l=Ti();o?no(l,t.applyTransform(i,!0),n.measuredBox):no(l,r,n.layoutBox);const c=!f1(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:p}=h;if(d&&p){const m=Ee();ro(m,n.layoutBox,d.layoutBox);const _=Ee();ro(_,r,p.layoutBox),p1(m,_)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function RN(t){zs&&Nr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function LN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function MN(t){t.clearSnapshot()}function Hy(t){t.clearMeasurements()}function DN(t){t.isLayoutDirty=!1}function ON(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Gy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jN(t){t.resolveTargetDelta()}function FN(t){t.calcProjection()}function VN(t){t.resetSkewAndRotation()}function UN(t){t.removeLeadSnapshot()}function Ky(t,e,n){t.translate=ve(e.translate,0,n),t.scale=ve(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function qy(t,e,n,r){t.min=ve(e.min,n.min,r),t.max=ve(e.max,n.max,r)}function BN(t,e,n,r){qy(t.x,e.x,n.x,r),qy(t.y,e.y,n.y,r)}function zN(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const WN={duration:.45,ease:[.4,0,.1,1]},Qy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Yy=Qy("applewebkit/")&&!Qy("chrome/")?Math.round:wt;function Jy(t){t.min=Yy(t.min),t.max=Yy(t.max)}function $N(t){Jy(t.x),Jy(t.y)}function y1(t,e,n){return t==="position"||t==="preserve-aspect"&&!KP(zy(e),zy(n),.2)}function HN(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const GN=g1({attachResizeListener:(t,e)=>Do(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ju={current:void 0},v1=g1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ju.current){const t=new GN({});t.mount(window),t.setOptions({layoutScroll:!0}),Ju.current=t}return Ju.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),KN={pan:{Feature:cN},drag:{Feature:lN,ProjectionNode:v1,MeasureLayout:u1}};function Xy(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&fe.postRender(()=>s(e,ia(e)))}class qN extends Sr{mount(){const{current:e}=this.node;e&&(this.unmount=KT(e,n=>(Xy(this.node,n,"Start"),r=>Xy(this.node,r,"End"))))}unmount(){}}class QN extends Sr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ra(Do(this.node.current,"focus",()=>this.onFocus()),Do(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zy(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&fe.postRender(()=>s(e,ia(e)))}class YN extends Sr{mount(){const{current:e}=this.node;e&&(this.unmount=JT(e,n=>(Zy(this.node,n,"Start"),(r,{success:i})=>Zy(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Th=new WeakMap,Xu=new WeakMap,JN=t=>{const e=Th.get(t.target);e&&e(t)},XN=t=>{t.forEach(JN)};function ZN({root:t,...e}){const n=t||document;Xu.has(n)||Xu.set(n,{});const r=Xu.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(XN,{root:t,...e})),r[i]}function eA(t,e,n){const r=ZN(e);return Th.set(t,n),r.observe(t),()=>{Th.delete(t),r.unobserve(t)}}const tA={some:0,all:1};class nA extends Sr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:tA[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),d=c?u:h;d&&d(l)};return eA(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rA(e,n))&&this.startObserver()}unmount(){}}function rA({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const iA={inView:{Feature:nA},tap:{Feature:YN},focus:{Feature:QN},hover:{Feature:qN}},sA={layout:{ProjectionNode:v1,MeasureLayout:u1}},Ih={current:null},_1={current:!1};function oA(){if(_1.current=!0,!!Yf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ih.current=t.matches;t.addListener(e),e()}else Ih.current=!1}const aA=[...$w,Qe,pr],lA=t=>aA.find(Ww(t)),ev=new WeakMap;function cA(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Je(i))t.addValue(r,i);else if(Je(s))t.addValue(r,Lo(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Lo(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const tv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uA{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=un.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,fe.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=zc(n),this.isVariantNode=Xx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const m=d[p];l[p]!==void 0&&Je(m)&&m.set(l[p],!1)}}mount(e){this.current=e,ev.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),_1.current||oA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ih.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ev.delete(this.current),this.projection&&this.projection.unmount(),fr(this.notifyUpdate),fr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ii.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&fe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ji){const n=Ji[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<tv.length;r++){const i=tv[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=cA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Lo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Bw(i)||Rw(i))?i=parseFloat(i):!lA(i)&&pr.test(n)&&(i=Fw(e,n)),this.setBaseTarget(e,Je(i)?i.get():i)),Je(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=rp(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Je(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class x1 extends uA{constructor(){super(...arguments),this.KeyframeResolver=Hw}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Je(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dA(t){return window.getComputedStyle(t)}class hA extends x1{constructor(){super(...arguments),this.type="html",this.renderInstance=aw}readValueFromInstance(e,n){if(ii.has(n)){const r=Sp(n);return r&&r.default||0}else{const r=dA(e),i=(iw(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return l1(e,n)}build(e,n,r){op(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return up(e,n,r)}}class fA extends x1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ee}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ii.has(n)){const r=Sp(n);return r&&r.default||0}return n=lw.has(n)?n:ep(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return dw(e,n,r)}build(e,n,r){ap(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){cw(e,n,r,i)}mount(e){this.isSVGTag=cp(e.tagName),super.mount(e)}}const pA=(t,e)=>np(t)?new fA(e):new hA(e,{allowProjection:t!==b.Fragment}),mA=UT({...FP,...iA,...KN,...sA},pA),L=tT(mA);var w1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nv=Yn.createContext&&Yn.createContext(w1),gA=["attr","size","title"];function yA(t,e){if(t==null)return{};var n=vA(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vA(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zl.apply(this,arguments)}function rv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rv(Object(n),!0).forEach(function(r){_A(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _A(t,e,n){return e=xA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xA(t){var e=wA(t,"string");return typeof e=="symbol"?e:e+""}function wA(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S1(t){return t&&t.map((e,n)=>Yn.createElement(e.tag,Wl({key:n},e.attr),S1(e.child)))}function X(t){return e=>Yn.createElement(SA,zl({attr:Wl({},t.attr)},e),S1(t.child))}function SA(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=yA(t,gA),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Yn.createElement("svg",zl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Wl(Wl({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Yn.createElement("title",null,s),t.children)};return nv!==void 0?Yn.createElement(nv.Consumer,null,n=>e(n)):e(w1)}function io(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(t)}function kA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(t)}function Zi(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(t)}function $l(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function CA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function bA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function k1(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function C1(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function EA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function iv(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"},child:[]},{tag:"polyline",attr:{points:"8 6 2 12 8 18"},child:[]}]})(t)}function TA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(t)}function IA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function b1(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function Fi(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function PA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function NA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"6",y1:"3",x2:"6",y2:"15"},child:[]},{tag:"circle",attr:{cx:"18",cy:"6",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"path",attr:{d:"M18 9a9 9 0 0 1-9 9"},child:[]}]})(t)}function Hc(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(t)}function AA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function Tp(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function RA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function sa(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"},child:[]},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"},child:[]},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"},child:[]}]})(t)}function sv(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function LA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Gc(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function MA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function DA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function E1(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function OA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(t)}function jA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function FA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function VA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(t)}function UA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(t)}function BA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function zA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function T1(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function Hl(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function WA(t){return X({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}const $A=({isDark:t,toggleTheme:e})=>{const{t:n,i18n:r}=gt(),[i,s]=b.useState(!1),[o,a]=b.useState(!1),[l,c]=b.useState("hero"),u=[{id:"hero",label:"",icon:RA},{id:"overview",label:n("nav.overview")},{id:"skills",label:n("nav.skills")},{id:"education",label:n("nav.education")},{id:"experience",label:n("nav.experience")},{id:"certifications",label:n("nav.certifications")},{id:"projects",label:n("nav.projects")},{id:"research",label:n("nav.research")},{id:"opensource",label:n("nav.opensource")},{id:"showcase",label:n("nav.showcase")}];b.useEffect(()=>{const p=()=>{s(window.scrollY>50);const m=u.map(w=>document.getElementById(w.id)),_=window.scrollY+100;for(let w=m.length-1;w>=0;w--){const y=m[w];if(y&&y.offsetTop<=_){c(u[w].id);break}}};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const h=p=>{const m=document.getElementById(p);if(m){const w=m.offsetTop-80;window.scrollTo({top:w,behavior:"smooth"}),a(!1)}},d=()=>{const p=r.language==="en"?"fr":"en";r.changeLanguage(p),localStorage.setItem("language",p)};return f.jsxs(f.Fragment,{children:[f.jsx(L.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${i?"bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg shadow-lg":"bg-transparent"}`,children:f.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20 gap-4",children:[f.jsxs("div",{className:"relative group",children:[f.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h("contact"),className:"flex-shrink-0 px-4 md:px-6 py-2 rounded-lg font-semibold text-sm md:text-base bg-gradient-to-r from-primary-light to-accent-light dark:from-primary-dark dark:to-accent-dark text-white shadow-lg hover:shadow-xl transition-all duration-300",children:"Hire Me"}),f.jsx("div",{className:"absolute left-0 top-full mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-50",children:f.jsx("div",{className:"bg-gray-900 dark:bg-gray-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl whitespace-nowrap",children:n("tooltips.hireMe")})})]}),f.jsx("div",{className:"hidden lg:flex items-center space-x-1 flex-shrink-0",children:u.map(p=>f.jsx("button",{onClick:()=>h(p.id),className:`px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all duration-300 ${l===p.id?"bg-primary-light/10 dark:bg-primary-dark/10 text-primary-light dark:text-primary-dark":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,"aria-label":p.icon?"Home":p.label,children:p.icon?f.jsx(p.icon,{size:18}):p.label},p.id))}),f.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[f.jsxs("div",{className:"relative group",children:[f.jsxs(L.a,{href:"https://github.com/jermiah/portfolio",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-primary-light to-accent-light dark:from-primary-dark dark:to-accent-dark text-white text-sm font-medium shadow-md hover:shadow-lg transition-all duration-300","aria-label":"Fork this website",children:[f.jsx(NA,{size:16}),f.jsx("span",{children:"Fork"})]}),f.jsx("div",{className:"absolute right-0 top-full mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-50",children:f.jsx("div",{className:"bg-gray-900 dark:bg-gray-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl whitespace-nowrap",children:n("tooltips.fork")})})]}),f.jsxs("div",{className:"relative group",children:[f.jsx(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"Toggle theme",children:t?f.jsx(UA,{size:20}):f.jsx(OA,{size:20})}),f.jsx("div",{className:"absolute right-0 top-full mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-50",children:f.jsx("div",{className:"bg-gray-900 dark:bg-gray-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl whitespace-nowrap",children:n("tooltips.theme")})})]}),f.jsxs("div",{className:"relative group",children:[f.jsx(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:d,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"Toggle language",children:f.jsx(AA,{size:20})}),f.jsx("div",{className:"absolute right-0 top-full mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-50",children:f.jsx("div",{className:"bg-gray-900 dark:bg-gray-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl whitespace-nowrap",children:n("tooltips.language")})})]}),f.jsx(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a(!o),className:"lg:hidden p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300","aria-label":"Toggle menu",children:o?f.jsx(Hl,{size:20}):f.jsx(DA,{size:20})})]})]})})}),o&&f.jsx(L.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-16 md:top-20 left-0 right-0 z-40 lg:hidden bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg shadow-lg",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 space-y-2",children:u.map(p=>f.jsxs("button",{onClick:()=>h(p.id),className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-all duration-300 flex items-center gap-2 ${l===p.id?"bg-primary-light/10 dark:bg-primary-dark/10 text-primary-light dark:text-primary-dark":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[p.icon&&f.jsx(p.icon,{size:18}),p.label||"Home"]},p.id))})})]})},HA=({texts:t=[],loop:e=!0,typingSpeed:n=100,deletingSpeed:r=50,pauseDuration:i=2e3})=>{const[s,o]=b.useState(""),[a,l]=b.useState(0),[c,u]=b.useState(!1),[h,d]=b.useState(!1);return!t||t.length===0?f.jsx("span",{children:"Data Scientist & AI Engineer"}):(b.useEffect(()=>{const p=t[a];if(h){const _=setTimeout(()=>{d(!1),u(!0)},i);return()=>clearTimeout(_)}if(!c&&s===p){if(t.length===1&&!e)return;d(!0);return}if(c&&s===""){u(!1),l(_=>(_+1)%t.length);return}const m=setTimeout(()=>{o(c?p.substring(0,s.length-1):p.substring(0,s.length+1))},c?r:n);return()=>clearTimeout(m)},[s,c,h,a,t,e,n,r,i]),f.jsxs("span",{children:[s,f.jsx("span",{className:"typing-cursor"})]}))},GA=()=>{};var ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R=function(t,e){if(!t)throw hs(e)},hs=function(t){return new Error("Firebase Database ("+I1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ip={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(d=64)),r.push(n[u],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new qA;const d=s<<2|a>>4;if(r.push(d),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N1=function(t){const e=P1(t);return Ip.encodeByteArray(e,!0)},Gl=function(t){return N1(t).replace(/\./g,"")},Kl=function(t){try{return Ip.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t){return A1(void 0,t)}function A1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!YA(n)||(t[n]=A1(t[n],e[n]));return t}function YA(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=()=>JA().__FIREBASE_DEFAULTS__,ZA=()=>{if(typeof process>"u"||typeof ov>"u")return;const t=ov.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kl(t[1]);return e&&JSON.parse(e)},Pp=()=>{try{return GA()||XA()||ZA()||eR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},R1=t=>{var e,n;return(n=(e=Pp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},tR=t=>{const e=R1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},L1=()=>{var t;return(t=Pp())==null?void 0:t.config},M1=t=>{var e;return(e=Pp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function D1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gl(JSON.stringify(n)),Gl(JSON.stringify(o)),""].join(".")}const so={};function rR(){const t={prod:[],emulator:[]};for(const e of Object.keys(so))so[e]?t.emulator.push(e):t.prod.push(e);return t}function iR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let av=!1;function O1(t,e){if(typeof window>"u"||typeof document>"u"||!ps(window.location.host)||so[t]===e||so[t]||av)return;so[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",s=rR().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{av=!0,o()},d}function u(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=iR(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),_=n("learnmore"),w=document.getElementById(_)||document.createElement("a"),y=n("preprendIcon"),g=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const v=d.element;a(v),u(w,_);const S=c();l(g,y),v.append(g,m,w,S),document.body.appendChild(v)}s?(m.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Np(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function sR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aR(){const t=st();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lR(){return I1.NODE_ADMIN===!0}function cR(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="FirebaseError";class kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dR,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?hR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new kr(i,a,r)}}function hR(t,e){return t.replace(fR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t){return JSON.parse(t)}function Le(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Oo(Kl(s[0])||""),n=Oo(Kl(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},pR=function(t){const e=F1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},mR=function(t){const e=F1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ph(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ql(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Yr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(lv(s)&&lv(o)){if(!Yr(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ws(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $s(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):h<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const d=(i<<5|i>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function yR(t,e){const n=new vR(t,e);return n.subscribe.bind(n)}class vR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_R(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zu),i.error===void 0&&(i.error=Zu),i.complete===void 0&&(i.complete=Zu);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _R(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zu(){}function Kc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,R(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fs;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kR(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ar){return this.instances.has(e)}getOptions(e=Ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ar){return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SR(t){return t===Ar?void 0:t}function kR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const bR={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},ER=se.INFO,TR={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},IR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Ap=class{constructor(e){this.name=e,this._logLevel=ER,this._logHandler=IR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};const PR=(t,e)=>e.some(n=>t instanceof n);let cv,uv;function NR(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return uv||(uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V1=new WeakMap,Nh=new WeakMap,U1=new WeakMap,ed=new WeakMap,Rp=new WeakMap;function RR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(sr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&V1.set(n,t)}).catch(()=>{}),Rp.set(e,t),e}function LR(t){if(Nh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Nh.set(t,e)}let Ah={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||U1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MR(t){Ah=t(Ah)}function DR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(td(this),e,...n);return U1.set(r,e.sort?e.sort():[e]),sr(r)}:AR().includes(t)?function(...e){return t.apply(td(this),e),sr(V1.get(this))}:function(...e){return sr(t.apply(td(this),e))}}function OR(t){return typeof t=="function"?DR(t):(t instanceof IDBTransaction&&LR(t),PR(t,NR())?new Proxy(t,Ah):t)}function sr(t){if(t instanceof IDBRequest)return RR(t);if(ed.has(t))return ed.get(t);const e=OR(t);return e!==t&&(ed.set(t,e),Rp.set(e,t)),e}const td=t=>Rp.get(t);function jR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=sr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(sr(o.result),l.oldVersion,l.newVersion,sr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const FR=["get","getKey","getAll","getAllKeys","count"],VR=["put","add","delete","clear"],nd=new Map;function dv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nd.get(e))return nd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return nd.set(e,s),s}MR(t=>({...t,get:(e,n,r)=>dv(e,n)||t.get(e,n,r),has:(e,n)=>!!dv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rh="@firebase/app",hv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new Ap("@firebase/app"),zR="@firebase/app-compat",WR="@firebase/analytics-compat",$R="@firebase/analytics",HR="@firebase/app-check-compat",GR="@firebase/app-check",KR="@firebase/auth",qR="@firebase/auth-compat",QR="@firebase/database",YR="@firebase/data-connect",JR="@firebase/database-compat",XR="@firebase/functions",ZR="@firebase/functions-compat",e2="@firebase/installations",t2="@firebase/installations-compat",n2="@firebase/messaging",r2="@firebase/messaging-compat",i2="@firebase/performance",s2="@firebase/performance-compat",o2="@firebase/remote-config",a2="@firebase/remote-config-compat",l2="@firebase/storage",c2="@firebase/storage-compat",u2="@firebase/firestore",d2="@firebase/ai",h2="@firebase/firestore-compat",f2="firebase",p2="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh="[DEFAULT]",m2={[Rh]:"fire-core",[zR]:"fire-core-compat",[$R]:"fire-analytics",[WR]:"fire-analytics-compat",[GR]:"fire-app-check",[HR]:"fire-app-check-compat",[KR]:"fire-auth",[qR]:"fire-auth-compat",[QR]:"fire-rtdb",[YR]:"fire-data-connect",[JR]:"fire-rtdb-compat",[XR]:"fire-fn",[ZR]:"fire-fn-compat",[e2]:"fire-iid",[t2]:"fire-iid-compat",[n2]:"fire-fcm",[r2]:"fire-fcm-compat",[i2]:"fire-perf",[s2]:"fire-perf-compat",[o2]:"fire-rc",[a2]:"fire-rc-compat",[l2]:"fire-gcs",[c2]:"fire-gcs-compat",[u2]:"fire-fst",[h2]:"fire-fst-compat",[d2]:"fire-vertex","fire-js":"fire-js",[f2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new Map,g2=new Map,Mh=new Map;function fv(t,e){try{t.container.addComponent(e)}catch(n){An.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function es(t){const e=t.name;if(Mh.has(e))return An.debug(`There were multiple attempts to register component ${e}.`),!1;Mh.set(e,t);for(const n of Ql.values())fv(n,t);for(const n of g2.values())fv(n,t);return!0}function Lp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $t(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new oa("app","Firebase",y2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=p2;function B1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Lh,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw or.create("bad-app-name",{appName:String(i)});if(n||(n=L1()),!n)throw or.create("no-options");const s=Ql.get(i);if(s){if(Yr(n,s.options)&&Yr(r,s.config))return s;throw or.create("duplicate-app",{appName:i})}const o=new CR(i);for(const l of Mh.values())o.addComponent(l);const a=new v2(n,r,o);return Ql.set(i,a),a}function z1(t=Lh){const e=Ql.get(t);if(!e&&t===Lh&&L1())return B1();if(!e)throw or.create("no-app",{appName:t});return e}function ar(t,e,n){let r=m2[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),An.warn(o.join(" "));return}es(new Jr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="firebase-heartbeat-database",x2=1,jo="firebase-heartbeat-store";let rd=null;function W1(){return rd||(rd=jR(_2,x2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jo)}catch(n){console.warn(n)}}}}).catch(t=>{throw or.create("idb-open",{originalErrorMessage:t.message})})),rd}async function w2(t){try{const n=(await W1()).transaction(jo),r=await n.objectStore(jo).get($1(t));return await n.done,r}catch(e){if(e instanceof kr)An.warn(e.message);else{const n=or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});An.warn(n.message)}}}async function pv(t,e){try{const r=(await W1()).transaction(jo,"readwrite");await r.objectStore(jo).put(e,$1(t)),await r.done}catch(n){if(n instanceof kr)An.warn(n.message);else{const r=or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});An.warn(r.message)}}}function $1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=1024,k2=30;class C2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>k2){const o=T2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){An.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mv(),{heartbeatsToSend:r,unsentEntries:i}=b2(this._heartbeatsCache.heartbeats),s=Gl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return An.warn(n),""}}}function mv(){return new Date().toISOString().substring(0,10)}function b2(t,e=S2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class E2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cR()?uR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await w2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gv(t){return Gl(JSON.stringify({version:2,heartbeats:t})).length}function T2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){es(new Jr("platform-logger",e=>new UR(e),"PRIVATE")),es(new Jr("heartbeat",e=>new C2(e),"PRIVATE")),ar(Rh,hv,t),ar(Rh,hv,"esm2020"),ar("fire-js","")}I2("");var P2="firebase",N2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(P2,N2,"app");var yv={};const vv="@firebase/database",_v="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H1="";function A2(t){H1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Le(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Oo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Zt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new R2(e)}}catch{}return new L2},Fr=G1("localStorage"),M2=G1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Ap("@firebase/database"),K1=function(){let t=1;return function(){return t++}}(),q1=function(t){const e=xR(t),n=new gR;n.update(e);const r=n.digest();return Ip.encodeByteArray(r)},aa=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=aa.apply(null,r):typeof r=="object"?e+=Le(r):e+=r,e+=" "}return e};let oo=null,xv=!0;const D2=function(t,e){R(!0,"Can't turn on custom loggers persistently."),Vi.logLevel=se.VERBOSE,oo=Vi.log.bind(Vi)},We=function(...t){if(xv===!0&&(xv=!1,oo===null&&M2.get("logging_enabled")===!0&&D2()),oo){const e=aa.apply(null,t);oo(e)}},la=function(t){return function(...e){We(t,...e)}},Dh=function(...t){const e="FIREBASE INTERNAL ERROR: "+aa(...t);Vi.error(e)},Rn=function(...t){const e=`FIREBASE FATAL ERROR: ${aa(...t)}`;throw Vi.error(e),new Error(e)},it=function(...t){const e="FIREBASE WARNING: "+aa(...t);Vi.warn(e)},O2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&it("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Mp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},j2=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xr="[MIN_NAME]",mr="[MAX_NAME]",si=function(t,e){if(t===e)return 0;if(t===Xr||e===mr)return-1;if(e===Xr||t===mr)return 1;{const n=wv(t),r=wv(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},F2=function(t,e){return t===e?0:t<e?-1:1},As=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Le(e))},Dp=function(t){if(typeof t!="object"||t===null)return Le(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Le(e[r]),n+=":",n+=Dp(t[e[r]]);return n+="}",n},Q1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ge(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Y1=function(t){R(!Mp(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let d=parseInt(u.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},V2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},U2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function B2(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const z2=new RegExp("^-?(0*)\\d{1,10}$"),W2=-2147483648,$2=2147483647,wv=function(t){if(z2.test(t)){const e=Number(t);if(e>=W2&&e<=$2)return e}return null},ys=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw it("Exception was thrown by user callback.",n),e},Math.floor(0))}},H2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ao=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,$t(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){it(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(We("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',it(e)}}class ol{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ol.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="5",J1="v",X1="s",Z1="r",eS="f",tS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nS="ls",rS="p",Oh="ac",iS="websocket",sS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function q2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function aS(t,e,n){R(typeof e=="string","typeof type must == string"),R(typeof n=="object","typeof params must == object");let r;if(e===iS)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===sS)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);q2(t)&&(n.ns=t.namespace);const i=[];return Ge(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.counters_={}}incrementCounter(e,n=1){Zt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return QA(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id={},sd={};function jp(t){const e=t.toString();return id[e]||(id[e]=new Q2),id[e]}function Y2(t,e){const n=t.toString();return sd[n]||(sd[n]=e()),sd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ys(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="start",X2="close",Z2="pLPCommand",eL="pRTLPCB",lS="id",cS="pw",uS="ser",tL="cb",nL="seg",rL="ts",iL="d",sL="dframe",dS=1870,hS=30,oL=dS-hS,aL=25e3,lL=3e4;class Ni{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=la(e),this.stats_=jp(n),this.urlFn=l=>(this.appCheckToken&&(l[Oh]=this.appCheckToken),aS(n,sS,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new J2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lL)),j2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fp((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Sv)this.id=a,this.password=l;else if(o===X2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Sv]="t",r[uS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[tL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[J1]=Op,this.transportSessionId&&(r[X1]=this.transportSessionId),this.lastSessionId&&(r[nS]=this.lastSessionId),this.applicationId&&(r[rS]=this.applicationId),this.appCheckToken&&(r[Oh]=this.appCheckToken),typeof location<"u"&&location.hostname&&tS.test(location.hostname)&&(r[Z1]=eS);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ni.forceAllow_=!0}static forceDisallow(){Ni.forceDisallow_=!0}static isAvailable(){return Ni.forceAllow_?!0:!Ni.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!V2()&&!U2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=N1(n),i=Q1(r,oL);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[sL]="t",r[lS]=e,r[cS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Le(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Fp{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=K1(),window[Z2+this.uniqueCallbackIdentifier]=e,window[eL+this.uniqueCallbackIdentifier]=n,this.myIFrame=Fp.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){We("frame writing exception"),a.stack&&We(a.stack),We(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||We("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lS]=this.myID,e[cS]=this.myPW,e[uS]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hS+r.length<=dS;){const o=this.pendingSegs.shift();r=r+"&"+nL+i+"="+o.seg+"&"+rL+i+"="+o.ts+"&"+iL+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(aL)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{We("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=16384,uL=45e3;let Yl=null;typeof MozWebSocket<"u"?Yl=MozWebSocket:typeof WebSocket<"u"&&(Yl=WebSocket);class Ht{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=la(this.connId),this.stats_=jp(n),this.connURL=Ht.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[J1]=Op,typeof location<"u"&&location.hostname&&tS.test(location.hostname)&&(o[Z1]=eS),n&&(o[X1]=n),r&&(o[nS]=r),i&&(o[Oh]=i),s&&(o[rS]=s),aS(e,iS,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fr.set("previous_websocket_failure",!0);try{let r;lR(),this.mySock=new Yl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ht.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Yl!==null&&!Ht.forceDisallow_}static previouslyFailed(){return Fr.isInMemoryStorage||Fr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Oo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(R(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Q1(n,cL);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uL))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ht.responsesRequiredToBeHealthy=2;Ht.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{static get ALL_TRANSPORTS(){return[Ni,Ht]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ht&&Ht.isAvailable();let r=n&&!Ht.previouslyFailed();if(e.webSocketOnly&&(n||it("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ht];else{const i=this.transports_=[];for(const s of Fo.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Fo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Fo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=6e4,hL=5e3,fL=10*1024,pL=100*1024,od="t",kv="d",mL="s",Cv="r",gL="e",bv="o",Ev="a",Tv="n",Iv="p",yL="h";class vL{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=la("c:"+this.id+":"),this.transportManager_=new Fo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ao(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>pL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>fL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(od in e){const n=e[od];n===Ev?this.upgradeIfSecondaryHealthy_():n===Cv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===bv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=As("t",e),r=As("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Iv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ev,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Tv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=As("t",e),r=As("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=As(od,e);if(kv in e){const r=e[kv];if(n===yL){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Tv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===mL?this.onConnectionShutdown_(r):n===Cv?this.onReset_(r):n===gL?Dh("Server Error: "+r):n===bv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Op!==r&&it("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ao(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dL))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ao(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hL))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Iv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pS=class{constructor(e){this.allowedEvents_=e,this.listeners_={},R(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){R(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends pS{static getInstance(){return new Jl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Np()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return R(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=32,Nv=768;class ie{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ne(){return new ie("")}function q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gr(t){return t.pieces_.length-t.pieceNum_}function le(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ie(t.pieces_,e)}function Vp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _L(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Vo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ie(e,0)}function be(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ie)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ie(n,0)}function Q(t){return t.pieceNum_>=t.pieces_.length}function nt(t,e){const n=q(t),r=q(e);if(n===null)return e;if(n===r)return nt(le(t),le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function xL(t,e){const n=Vo(t,0),r=Vo(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=si(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Up(t,e){if(gr(t)!==gr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Lt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(gr(t)>gr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class wL{constructor(e,n){this.errorPrefix_=n,this.parts_=Vo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=qc(this.parts_[r]);gS(this)}}function SL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=qc(e),gS(t)}function kL(t){const e=t.parts_.pop();t.byteLength_-=qc(e),t.parts_.length>0&&(t.byteLength_-=1)}function gS(t){if(t.byteLength_>Nv)throw new Error(t.errorPrefix_+"has a key path longer than "+Nv+" bytes ("+t.byteLength_+").");if(t.parts_.length>Pv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Pv+") or object contains a cycle "+Rr(t))}function Rr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends pS{static getInstance(){return new Bp}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return R(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=1e3,CL=60*5*1e3,Av=30*1e3,bL=1.3,EL=3e4,TL="server_kill",Rv=3;class bn extends fS{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=bn.nextPersistentConnectionId_++,this.log_=la("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Rs,this.maxReconnectDelay_=CL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Bp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Jl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Le(s)),R(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new fs,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),R(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),R(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;bn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Zt(e,"w")){const r=Qr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();it(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||mR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Av)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=pR(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),R(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Le(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Dh("Unrecognized action received from server: "+Le(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){R(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Rs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>EL&&(this.reconnectDelay_=Rs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*bL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+bn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){R(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?We("getToken() completed but was canceled"):(We("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,a=new vL(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{it(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(TL)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&it(h),l())}}}interrupt(e){We("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){We("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ph(this.interruptReasons_)&&(this.reconnectDelay_=Rs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Dp(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ie(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){We("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Rv&&(this.reconnectDelay_=Av,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){We("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Rv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+H1.replace(/\./g,"-")]=1,Np()?e["framework.cordova"]=1:j1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Jl.getInstance().currentlyOnline();return Ph(this.interruptReasons_)&&e}}bn.nextPersistentConnectionId_=0;bn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Y(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Y(Xr,e),i=new Y(Xr,n);return this.compare(r,i)!==0}minPost(){return Y.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba;class yS extends Qc{static get __EMPTY_NODE(){return Ba}static set __EMPTY_NODE(e){Ba=e}compare(e,n){return si(e.name,n.name)}isDefinedOn(e){throw hs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(mr,Ba)}makePost(e,n){return R(typeof e=="string","KeyIndex indexValue must always be a string."),new Y(e,Ba)}toString(){return".key"}}const Wr=new yS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class je{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??je.RED,this.left=i??ht.EMPTY_NODE,this.right=s??ht.EMPTY_NODE}copy(e,n,r,i,s){return new je(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ht.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ht.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}je.RED=!0;je.BLACK=!1;class IL{copy(e,n,r,i,s){return this}insert(e,n,r){return new je(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ht{constructor(e,n=ht.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ht(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,je.BLACK,null,null))}remove(e){return new ht(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,je.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new za(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new za(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new za(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new za(this.root_,null,this.comparator_,!0,e)}}ht.EMPTY_NODE=new IL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e){return si(t.name,e.name)}function zp(t,e){return si(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh;function NL(t){jh=t}const vS=function(t){return typeof t=="number"?"number:"+Y1(t):"string:"+t},_S=function(t){if(t.isLeafNode()){const e=t.val();R(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Zt(e,".sv"),"Priority must be a string or number.")}else R(t===jh||t.isEmpty(),"priority of unexpected type.");R(t===jh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv;class De{static set __childrenNodeConstructor(e){Lv=e}static get __childrenNodeConstructor(){return Lv}constructor(e,n=De.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,R(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_S(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new De(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Q(e)?this:q(e)===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:De.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=q(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(R(r!==".priority"||gr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,De.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+vS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Y1(this.value_):e+=this.value_,this.lazyHash_=q1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===De.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof De.__childrenNodeConstructor?-1:(R(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=De.VALUE_TYPE_ORDER.indexOf(n),s=De.VALUE_TYPE_ORDER.indexOf(r);return R(i>=0,"Unknown leaf type: "+n),R(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}De.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xS,wS;function AL(t){xS=t}function RL(t){wS=t}class LL extends Qc{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?si(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(mr,new De("[PRIORITY-POST]",wS))}makePost(e,n){const r=xS(e);return new Y(n,new De("[PRIORITY-POST]",r))}toString(){return".priority"}}const ge=new LL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=Math.log(2);class DL{constructor(e){const n=s=>parseInt(Math.log(s)/ML,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xl=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let h,d;if(u===0)return null;if(u===1)return h=t[l],d=n?n(h):h,new je(d,h.node,je.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=i(l,p),_=i(p+1,c);return h=t[p],d=n?n(h):h,new je(d,h.node,je.BLACK,m,_)}},s=function(l){let c=null,u=null,h=t.length;const d=function(m,_){const w=h-m,y=h;h-=m;const g=i(w+1,y),v=t[w],S=n?n(v):v;p(new je(S,v.node,_,null,g))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const _=l.nextBitIsOne(),w=Math.pow(2,l.count-(m+1));_?d(w,je.BLACK):(d(w,je.BLACK),d(w,je.RED))}return u},o=new DL(t.length),a=s(o);return new ht(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad;const ui={};class _n{static get Default(){return R(ui&&ge,"ChildrenNode.ts has not been loaded"),ad=ad||new _n({".priority":ui},{".priority":ge}),ad}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Qr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ht?n:null}hasIndex(e){return Zt(this.indexSet_,e.toString())}addIndex(e,n){R(e!==Wr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Y.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Xl(r,e.getCompare()):a=ui;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=a,new _n(u,c)}addToIndexes(e,n){const r=ql(this.indexes_,(i,s)=>{const o=Qr(this.indexSet_,s);if(R(o,"Missing index implementation for "+s),i===ui)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Y.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Xl(a,o.getCompare())}else return ui;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Y(e.name,a))),l.insert(e,e.node)}});return new _n(r,this.indexSet_)}removeFromIndexes(e,n){const r=ql(this.indexes_,i=>{if(i===ui)return i;{const s=n.get(e.name);return s?i.remove(new Y(e.name,s)):i}});return new _n(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ls;class B{static get EMPTY_NODE(){return Ls||(Ls=new B(new ht(zp),null,_n.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_S(this.priorityNode_),this.children_.isEmpty()&&R(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ls}updatePriority(e){return this.children_.isEmpty()?this:new B(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ls:n}}getChild(e){const n=q(e);return n===null?this:this.getImmediateChild(n).getChild(le(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(R(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Y(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ls:this.priorityNode_;return new B(i,o,s)}}updateChild(e,n){const r=q(e);if(r===null)return n;{R(q(e)!==".priority"||gr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(le(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ge,(o,a)=>{n[o]=a.val(e),r++,s&&B.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+vS(this.getPriority().val())+":"),this.forEachChild(ge,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":q1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Y(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Y(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Y(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Y.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Y.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ca?-1:0}withIndex(e){if(e===Wr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new B(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Wr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ge),i=n.getIterator(ge);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Wr?null:this.indexMap_.get(e.toString())}}B.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class OL extends B{constructor(){super(new ht(zp),B.EMPTY_NODE,_n.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return B.EMPTY_NODE}isEmpty(){return!1}}const ca=new OL;Object.defineProperties(Y,{MIN:{value:new Y(Xr,B.EMPTY_NODE)},MAX:{value:new Y(mr,ca)}});yS.__EMPTY_NODE=B.EMPTY_NODE;De.__childrenNodeConstructor=B;NL(ca);RL(ca);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=!0;function Ie(t,e=null){if(t===null)return B.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),R(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new De(n,Ie(e))}if(!(t instanceof Array)&&jL){const n=[];let r=!1;if(Ge(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ie(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Y(o,l)))}}),n.length===0)return B.EMPTY_NODE;const s=Xl(n,PL,o=>o.name,zp);if(r){const o=Xl(n,ge.getCompare());return new B(s,Ie(e),new _n({".priority":o},{".priority":ge}))}else return new B(s,Ie(e),_n.Default)}else{let n=B.EMPTY_NODE;return Ge(t,(r,i)=>{if(Zt(t,r)&&r.substring(0,1)!=="."){const s=Ie(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ie(e))}}AL(Ie);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends Qc{constructor(e){super(),this.indexPath_=e,R(!Q(e)&&q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?si(e.name,n.name):s}makePost(e,n){const r=Ie(e),i=B.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,i)}maxPost(){const e=B.EMPTY_NODE.updateChild(this.indexPath_,ca);return new Y(mr,e)}toString(){return Vo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL extends Qc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?si(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(e,n){const r=Ie(e);return new Y(n,r)}toString(){return".value"}}const SS=new FL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){return{type:"value",snapshotNode:t}}function ts(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Uo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Bo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function VL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){R(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Uo(n,a)):R(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ts(n,r)):o.trackChildChange(Bo(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ge,(i,s)=>{n.hasChild(i)||r.trackChildChange(Uo(i,s))}),n.isLeafNode()||n.forEachChild(ge,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Bo(i,s,o))}else r.trackChildChange(ts(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?B.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.indexedFilter_=new $p(e.getIndex()),this.index_=e.getIndex(),this.startPost_=zo.getStartPost_(e),this.endPost_=zo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Y(n,r))||(r=B.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=B.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(B.EMPTY_NODE);const s=this;return n.forEachChild(ge,(o,a)=>{s.matches(new Y(o,a))||(i=i.updateImmediateChild(o,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new zo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Y(n,r))||(r=B.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=B.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(B.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,p)=>h(p,d)}else o=this.index_.getCompare();const a=e;R(a.numChildren()===this.limit_,"");const l=new Y(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const p=d==null?1:o(d,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(Bo(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Uo(n,h));const _=a.updateImmediateChild(n,B.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(ts(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Uo(c.name,c.node)),s.trackChildChange(ts(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,B.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return R(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return R(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xr}hasEnd(){return this.endSet_}getIndexEndValue(){return R(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return R(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return R(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ge}copy(){const e=new Hp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function BL(t){return t.loadsAllData()?new $p(t.getIndex()):t.hasLimit()?new UL(t):new zo(t)}function zL(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function WL(t,e){const n=t.copy();return n.index_=e,n}function Mv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ge?n="$priority":t.index_===SS?n="$value":t.index_===Wr?n="$key":(R(t.index_ instanceof Wp,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Le(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Le(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Le(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Le(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Le(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Dv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ge&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends fS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(R(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=la("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Zl.getListenId_(e,r),a={};this.listens_[o]=a;const l=Mv(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),Qr(this.listens_,o)===a){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",i(d,null)}})}unlisten(e,n){const r=Zl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Mv(e._queryParams),r=e._path.toString(),i=new fs;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ms(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Oo(a.responseText)}catch{it("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&it("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(){return{value:null,children:new Map}}function CS(t,e,n){if(Q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=q(e);t.children.has(r)||t.children.set(r,ec());const i=t.children.get(r);e=le(e),CS(i,e,n)}}function Fh(t,e,n){t.value!==null?n(e,t.value):HL(t,(r,i)=>{const s=new ie(e.toString()+"/"+r);Fh(i,s,n)})}function HL(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Ge(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=10*1e3,KL=30*1e3,qL=5*60*1e3;class QL{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new GL(e);const r=Ov+(KL-Ov)*Math.random();ao(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ge(e,(i,s)=>{s>0&&Zt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ao(this.reportStats_.bind(this),Math.floor(Math.random()*2*qL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gt||(Gt={}));function Gp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Kp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Gt.ACK_USER_WRITE,this.source=Gp()}operationForChild(e){if(Q(this.path)){if(this.affectedTree.value!=null)return R(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ie(e));return new tc(ne(),n,this.revert)}}else return R(q(this.path)===e,"operationForChild called for unrelated child."),new tc(le(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.source=e,this.path=n,this.type=Gt.LISTEN_COMPLETE}operationForChild(e){return Q(this.path)?new Wo(this.source,ne()):new Wo(this.source,le(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Gt.OVERWRITE}operationForChild(e){return Q(this.path)?new Zr(this.source,ne(),this.snap.getImmediateChild(e)):new Zr(this.source,le(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Gt.MERGE}operationForChild(e){if(Q(this.path)){const n=this.children.subtree(new ie(e));return n.isEmpty()?null:n.value?new Zr(this.source,ne(),n.value):new ns(this.source,ne(),n)}else return R(q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ns(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Q(e))return this.isFullyInitialized()&&!this.filtered_;const n=q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function JL(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(VL(o.childName,o.snapshotNode))}),Ms(t,i,"child_removed",e,r,n),Ms(t,i,"child_added",e,r,n),Ms(t,i,"child_moved",s,r,n),Ms(t,i,"child_changed",e,r,n),Ms(t,i,"value",e,r,n),i}function Ms(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>ZL(t,a,l)),o.forEach(a=>{const l=XL(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function XL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ZL(t,e,n){if(e.childName==null||n.childName==null)throw hs("Should only compare child_ events.");const r=new Y(e.childName,e.snapshotNode),i=new Y(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t,e){return{eventCache:t,serverCache:e}}function lo(t,e,n,r){return Yc(new yr(e,n,r),t.serverCache)}function bS(t,e,n,r){return Yc(t.eventCache,new yr(e,n,r))}function nc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ei(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld;const eM=()=>(ld||(ld=new ht(F2)),ld);class ae{static fromObject(e){let n=new ae(null);return Ge(e,(r,i)=>{n=n.set(new ie(r),i)}),n}constructor(e,n=eM()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ne(),value:this.value};if(Q(e))return null;{const r=q(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(le(e),n);return s!=null?{path:be(new ie(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Q(e))return this;{const n=q(e),r=this.children.get(n);return r!==null?r.subtree(le(e)):new ae(null)}}set(e,n){if(Q(e))return new ae(n,this.children);{const r=q(e),s=(this.children.get(r)||new ae(null)).set(le(e),n),o=this.children.insert(r,s);return new ae(this.value,o)}}remove(e){if(Q(e))return this.children.isEmpty()?new ae(null):new ae(null,this.children);{const n=q(e),r=this.children.get(n);if(r){const i=r.remove(le(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ae(null):new ae(this.value,s)}else return this}}get(e){if(Q(e))return this.value;{const n=q(e),r=this.children.get(n);return r?r.get(le(e)):null}}setTree(e,n){if(Q(e))return n;{const r=q(e),s=(this.children.get(r)||new ae(null)).setTree(le(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ae(this.value,o)}}fold(e){return this.fold_(ne(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(be(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ne(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Q(e))return null;{const s=q(e),o=this.children.get(s);return o?o.findOnPath_(le(e),be(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ne(),n)}foreachOnPath_(e,n,r){if(Q(e))return this;{this.value&&r(n,this.value);const i=q(e),s=this.children.get(i);return s?s.foreachOnPath_(le(e),be(n,i),r):new ae(null)}}foreach(e){this.foreach_(ne(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(be(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.writeTree_=e}static empty(){return new Yt(new ae(null))}}function co(t,e,n){if(Q(e))return new Yt(new ae(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=nt(i,e);return s=s.updateChild(o,n),new Yt(t.writeTree_.set(i,s))}else{const i=new ae(n),s=t.writeTree_.setTree(e,i);return new Yt(s)}}}function Vh(t,e,n){let r=t;return Ge(n,(i,s)=>{r=co(r,be(e,i),s)}),r}function jv(t,e){if(Q(e))return Yt.empty();{const n=t.writeTree_.setTree(e,new ae(null));return new Yt(n)}}function Uh(t,e){return oi(t,e)!=null}function oi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(nt(n.path,e)):null}function Fv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ge,(r,i)=>{e.push(new Y(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Y(r,i.value))}),e}function lr(t,e){if(Q(e))return t;{const n=oi(t,e);return n!=null?new Yt(new ae(n)):new Yt(t.writeTree_.subtree(e))}}function Bh(t){return t.writeTree_.isEmpty()}function rs(t,e){return ES(ne(),t.writeTree_,e)}function ES(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(R(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=ES(be(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(be(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t,e){return NS(e,t)}function tM(t,e,n,r,i){R(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=co(t.visibleWrites,e,n)),t.lastWriteId=r}function nM(t,e,n,r){R(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Vh(t.visibleWrites,e,n),t.lastWriteId=r}function rM(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function iM(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);R(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&sM(a,r.path)?i=!1:Lt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return oM(t),!0;if(r.snap)t.visibleWrites=jv(t.visibleWrites,r.path);else{const a=r.children;Ge(a,l=>{t.visibleWrites=jv(t.visibleWrites,be(r.path,l))})}return!0}else return!1}function sM(t,e){if(t.snap)return Lt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Lt(be(t.path,n),e))return!0;return!1}function oM(t){t.visibleWrites=TS(t.allWrites,aM,ne()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function aM(t){return t.visible}function TS(t,e,n){let r=Yt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Lt(n,o)?(a=nt(n,o),r=co(r,a,s.snap)):Lt(o,n)&&(a=nt(o,n),r=co(r,ne(),s.snap.getChild(a)));else if(s.children){if(Lt(n,o))a=nt(n,o),r=Vh(r,a,s.children);else if(Lt(o,n))if(a=nt(o,n),Q(a))r=Vh(r,ne(),s.children);else{const l=Qr(s.children,q(a));if(l){const c=l.getChild(le(a));r=co(r,ne(),c)}}}else throw hs("WriteRecord should have .snap or .children")}}return r}function IS(t,e,n,r,i){if(!r&&!i){const s=oi(t.visibleWrites,e);if(s!=null)return s;{const o=lr(t.visibleWrites,e);if(Bh(o))return n;if(n==null&&!Uh(o,ne()))return null;{const a=n||B.EMPTY_NODE;return rs(o,a)}}}else{const s=lr(t.visibleWrites,e);if(!i&&Bh(s))return n;if(!i&&n==null&&!Uh(s,ne()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Lt(c.path,e)||Lt(e,c.path))},a=TS(t.allWrites,o,e),l=n||B.EMPTY_NODE;return rs(a,l)}}}function lM(t,e,n){let r=B.EMPTY_NODE;const i=oi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ge,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=lr(t.visibleWrites,e);return n.forEachChild(ge,(o,a)=>{const l=rs(lr(s,new ie(o)),a);r=r.updateImmediateChild(o,l)}),Fv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=lr(t.visibleWrites,e);return Fv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function cM(t,e,n,r,i){R(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=be(e,n);if(Uh(t.visibleWrites,s))return null;{const o=lr(t.visibleWrites,s);return Bh(o)?i.getChild(n):rs(o,i.getChild(n))}}function uM(t,e,n,r){const i=be(e,n),s=oi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=lr(t.visibleWrites,i);return rs(o,r.getNode().getImmediateChild(n))}else return null}function dM(t,e){return oi(t.visibleWrites,e)}function hM(t,e,n,r,i,s,o){let a;const l=lr(t.visibleWrites,e),c=oi(l,ne());if(c!=null)a=c;else if(n!=null)a=rs(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=d.getNext();for(;p&&u.length<i;)h(p,r)!==0&&u.push(p),p=d.getNext();return u}else return[]}function fM(){return{visibleWrites:Yt.empty(),allWrites:[],lastWriteId:-1}}function rc(t,e,n,r){return IS(t.writeTree,t.treePath,e,n,r)}function Qp(t,e){return lM(t.writeTree,t.treePath,e)}function Vv(t,e,n,r){return cM(t.writeTree,t.treePath,e,n,r)}function ic(t,e){return dM(t.writeTree,be(t.treePath,e))}function pM(t,e,n,r,i,s){return hM(t.writeTree,t.treePath,e,n,r,i,s)}function Yp(t,e,n){return uM(t.writeTree,t.treePath,e,n)}function PS(t,e){return NS(be(t.treePath,e),t.writeTree)}function NS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;R(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),R(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Bo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Uo(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ts(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Bo(r,e.snapshotNode,i.oldSnap));else throw hs("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const AS=new gM;class Jp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new yr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ei(this.viewCache_),s=pM(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){return{filter:t}}function vM(t,e){R(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),R(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function _M(t,e,n,r,i){const s=new mM;let o,a;if(n.type===Gt.OVERWRITE){const c=n;c.source.fromUser?o=zh(t,e,c.path,c.snap,r,i,s):(R(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Q(c.path),o=sc(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Gt.MERGE){const c=n;c.source.fromUser?o=wM(t,e,c.path,c.children,r,i,s):(R(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Wh(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Gt.ACK_USER_WRITE){const c=n;c.revert?o=CM(t,e,c.path,r,i,s):o=SM(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Gt.LISTEN_COMPLETE)o=kM(t,e,n.path,r,s);else throw hs("Unknown operation type: "+n.type);const l=s.getChanges();return xM(e,o,l),{viewCache:o,changes:l}}function xM(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=nc(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(kS(nc(e)))}}function RS(t,e,n,r,i,s){const o=e.eventCache;if(ic(r,n)!=null)return e;{let a,l;if(Q(n))if(R(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ei(e),u=c instanceof B?c:B.EMPTY_NODE,h=Qp(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=rc(r,ei(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=q(n);if(c===".priority"){R(gr(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=Vv(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=le(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const d=Vv(r,n,o.getNode(),l);d!=null?h=o.getNode().getImmediateChild(c).updateChild(u,d):h=o.getNode().getImmediateChild(c)}else h=Yp(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,i,s):a=o.getNode()}}return lo(e,a,o.isFullyInitialized()||Q(n),t.filter.filtersNodes())}}function sc(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Q(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=q(n);if(!l.isCompleteForPath(n)&&gr(n)>1)return e;const m=le(n),w=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),p,w,m,AS,null)}const h=bS(e,c,l.isFullyInitialized()||Q(n),u.filtersNodes()),d=new Jp(i,h,s);return RS(t,h,n,i,d,a)}function zh(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new Jp(i,e,s);if(Q(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=lo(e,c,!0,t.filter.filtersNodes());else{const h=q(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=lo(e,c,a.isFullyInitialized(),a.isFiltered());else{const d=le(n),p=a.getNode().getImmediateChild(h);let m;if(Q(d))m=r;else{const _=u.getCompleteChild(h);_!=null?Vp(d)===".priority"&&_.getChild(mS(d)).isEmpty()?m=_:m=_.updateChild(d,r):m=B.EMPTY_NODE}if(p.equals(m))l=e;else{const _=t.filter.updateChild(a.getNode(),h,m,d,u,o);l=lo(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Uv(t,e){return t.eventCache.isCompleteForChild(e)}function wM(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=be(n,l);Uv(e,q(u))&&(a=zh(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=be(n,l);Uv(e,q(u))||(a=zh(t,a,u,c,i,s,o))}),a}function Bv(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Wh(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Q(n)?c=r:c=new ae(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,d)=>{if(u.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),m=Bv(t,p,d);l=sc(t,l,new ie(h),m,i,s,o,a)}}),c.children.inorderTraversal((h,d)=>{const p=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!u.hasChild(h)&&!p){const m=e.serverCache.getNode().getImmediateChild(h),_=Bv(t,m,d);l=sc(t,l,new ie(h),_,i,s,o,a)}}),l}function SM(t,e,n,r,i,s,o){if(ic(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Q(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return sc(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Q(n)){let c=new ae(null);return l.getNode().forEachChild(Wr,(u,h)=>{c=c.set(new ie(u),h)}),Wh(t,e,n,c,i,s,a,o)}else return e}else{let c=new ae(null);return r.foreach((u,h)=>{const d=be(n,u);l.isCompleteForPath(d)&&(c=c.set(u,l.getNode().getChild(d)))}),Wh(t,e,n,c,i,s,a,o)}}function kM(t,e,n,r,i){const s=e.serverCache,o=bS(e,s.getNode(),s.isFullyInitialized()||Q(n),s.isFiltered());return RS(t,o,n,r,AS,i)}function CM(t,e,n,r,i,s){let o;if(ic(r,n)!=null)return e;{const a=new Jp(r,e,i),l=e.eventCache.getNode();let c;if(Q(n)||q(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=rc(r,ei(e));else{const h=e.serverCache.getNode();R(h instanceof B,"serverChildren would be complete if leaf node"),u=Qp(r,h)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=q(n);let h=Yp(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,le(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,B.EMPTY_NODE,le(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=rc(r,ei(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||ic(r,ne())!=null,lo(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new $p(r.getIndex()),s=BL(r);this.processor_=yM(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(B.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(B.EMPTY_NODE,a.getNode(),null),u=new yr(l,o.isFullyInitialized(),i.filtersNodes()),h=new yr(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Yc(h,u),this.eventGenerator_=new YL(this.query_)}get query(){return this.query_}}function EM(t){return t.viewCache_.serverCache.getNode()}function TM(t){return nc(t.viewCache_)}function IM(t,e){const n=ei(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Q(e)&&!n.getImmediateChild(q(e)).isEmpty())?n.getChild(e):null}function zv(t){return t.eventRegistrations_.length===0}function PM(t,e){t.eventRegistrations_.push(e)}function Wv(t,e,n){const r=[];if(n){R(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function $v(t,e,n,r){e.type===Gt.MERGE&&e.source.queryId!==null&&(R(ei(t.viewCache_),"We should always have a full cache before handling merges"),R(nc(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=_M(t.processor_,i,e,n,r);return vM(t.processor_,s.viewCache),R(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,LS(t,s.changes,s.viewCache.eventCache.getNode(),null)}function NM(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ge,(s,o)=>{r.push(ts(s,o))}),n.isFullyInitialized()&&r.push(kS(n.getNode())),LS(t,r,n.getNode(),e)}function LS(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return JL(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc;class MS{constructor(){this.views=new Map}}function AM(t){R(!oc,"__referenceConstructor has already been defined"),oc=t}function RM(){return R(oc,"Reference.ts has not been loaded"),oc}function LM(t){return t.views.size===0}function Xp(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return R(s!=null,"SyncTree gave us an op for an invalid query."),$v(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat($v(o,e,n,r));return s}}function DS(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=rc(n,i?r:null),l=!1;a?l=!0:r instanceof B?(a=Qp(n,r),l=!1):(a=B.EMPTY_NODE,l=!1);const c=Yc(new yr(a,l,!1),new yr(r,i,!1));return new bM(e,c)}return o}function MM(t,e,n,r,i,s){const o=DS(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),PM(o,n),NM(o,n)}function DM(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=vr(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(Wv(c,n,r)),zv(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(Wv(l,n,r)),zv(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!vr(t)&&s.push(new(RM())(e._repo,e._path)),{removed:s,events:o}}function OS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function cr(t,e){let n=null;for(const r of t.views.values())n=n||IM(r,e);return n}function jS(t,e){if(e._queryParams.loadsAllData())return Xc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function FS(t,e){return jS(t,e)!=null}function vr(t){return Xc(t)!=null}function Xc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac;function OM(t){R(!ac,"__referenceConstructor has already been defined"),ac=t}function jM(){return R(ac,"Reference.ts has not been loaded"),ac}let FM=1;class Hv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ae(null),this.pendingWriteTree_=fM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Zp(t,e,n,r,i){return tM(t.pendingWriteTree_,e,n,r,i),i?vs(t,new Zr(Gp(),e,n)):[]}function VM(t,e,n,r){nM(t.pendingWriteTree_,e,n,r);const i=ae.fromObject(n);return vs(t,new ns(Gp(),e,i))}function Qn(t,e,n=!1){const r=rM(t.pendingWriteTree_,e);if(iM(t.pendingWriteTree_,e)){let s=new ae(null);return r.snap!=null?s=s.set(ne(),!0):Ge(r.children,o=>{s=s.set(new ie(o),!0)}),vs(t,new tc(r.path,s,n))}else return[]}function ua(t,e,n){return vs(t,new Zr(Kp(),e,n))}function UM(t,e,n){const r=ae.fromObject(n);return vs(t,new ns(Kp(),e,r))}function BM(t,e){return vs(t,new Wo(Kp(),e))}function zM(t,e,n){const r=em(t,n);if(r){const i=tm(r),s=i.path,o=i.queryId,a=nt(s,e),l=new Wo(qp(o),a);return nm(t,s,l)}else return[]}function lc(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||FS(o,e))){const l=DM(o,e,n,r);LM(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(d,p)=>vr(p));if(u&&!h){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const p=HM(d);for(let m=0;m<p.length;++m){const _=p[m],w=_.query,y=zS(t,_);t.listenProvider_.startListening(uo(w),$o(t,w),y.hashFn,y.onComplete)}}}!h&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(uo(e),null):c.forEach(d=>{const p=t.queryToTagMap.get(eu(d));t.listenProvider_.stopListening(uo(d),p)}))}GM(t,c)}return a}function VS(t,e,n,r){const i=em(t,r);if(i!=null){const s=tm(i),o=s.path,a=s.queryId,l=nt(o,e),c=new Zr(qp(a),l,n);return nm(t,o,c)}else return[]}function WM(t,e,n,r){const i=em(t,r);if(i){const s=tm(i),o=s.path,a=s.queryId,l=nt(o,e),c=ae.fromObject(n),u=new ns(qp(a),l,c);return nm(t,o,u)}else return[]}function $h(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,p)=>{const m=nt(d,i);s=s||cr(p,m),o=o||vr(p)});let a=t.syncPointTree_.get(i);a?(o=o||vr(a),s=s||cr(a,ne())):(a=new MS,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=B.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const _=cr(m,ne());_&&(s=s.updateImmediateChild(p,_))}));const c=FS(a,e);if(!c&&!e._queryParams.loadsAllData()){const d=eu(e);R(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const p=KM();t.queryToTagMap.set(d,p),t.tagToQueryMap.set(p,d)}const u=Jc(t.pendingWriteTree_,i);let h=MM(a,e,n,u,s,l);if(!c&&!o&&!r){const d=jS(a,e);h=h.concat(qM(t,e,d))}return h}function Zc(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=nt(o,e),c=cr(a,l);if(c)return c});return IS(i,e,s,n,!0)}function $M(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const h=nt(c,n);r=r||cr(u,h)});let i=t.syncPointTree_.get(n);i?r=r||cr(i,ne()):(i=new MS,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new yr(r,!0,!1):null,a=Jc(t.pendingWriteTree_,e._path),l=DS(i,e,a,s?o.getNode():B.EMPTY_NODE,s);return TM(l)}function vs(t,e){return US(e,t.syncPointTree_,null,Jc(t.pendingWriteTree_,ne()))}function US(t,e,n,r){if(Q(t.path))return BS(t,e,n,r);{const i=e.get(ne());n==null&&i!=null&&(n=cr(i,ne()));let s=[];const o=q(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=PS(r,o);s=s.concat(US(a,l,c,u))}return i&&(s=s.concat(Xp(i,t,r,n))),s}}function BS(t,e,n,r){const i=e.get(ne());n==null&&i!=null&&(n=cr(i,ne()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=PS(r,o),u=t.operationForChild(o);u&&(s=s.concat(BS(u,a,l,c)))}),i&&(s=s.concat(Xp(i,t,r,n))),s}function zS(t,e){const n=e.query,r=$o(t,n);return{hashFn:()=>(EM(e)||B.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?zM(t,n._path,r):BM(t,n._path);{const s=B2(i,n);return lc(t,n,null,s)}}}}function $o(t,e){const n=eu(e);return t.queryToTagMap.get(n)}function eu(t){return t._path.toString()+"$"+t._queryIdentifier}function em(t,e){return t.tagToQueryMap.get(e)}function tm(t){const e=t.indexOf("$");return R(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ie(t.substr(0,e))}}function nm(t,e,n){const r=t.syncPointTree_.get(e);R(r,"Missing sync point for query tag that we're tracking");const i=Jc(t.pendingWriteTree_,e);return Xp(r,n,i,null)}function HM(t){return t.fold((e,n,r)=>{if(n&&vr(n))return[Xc(n)];{let i=[];return n&&(i=OS(n)),Ge(r,(s,o)=>{i=i.concat(o)}),i}})}function uo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(jM())(t._repo,t._path):t}function GM(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=eu(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function KM(){return FM++}function qM(t,e,n){const r=e._path,i=$o(t,e),s=zS(t,n),o=t.listenProvider_.startListening(uo(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)R(!vr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,h)=>{if(!Q(c)&&u&&vr(u))return[Xc(u).query];{let d=[];return u&&(d=d.concat(OS(u).map(p=>p.query))),Ge(h,(p,m)=>{d=d.concat(m)}),d}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(uo(u),$o(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new rm(n)}node(){return this.node_}}class im{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=be(this.path_,e);return new im(this.syncTree_,n)}node(){return Zc(this.syncTree_,this.path_)}}const QM=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Gv=function(t,e,n){if(!t||typeof t!="object")return t;if(R(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return YM(t[".sv"],e,n);if(typeof t[".sv"]=="object")return JM(t[".sv"],e);R(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},YM=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:R(!1,"Unexpected server value: "+t)}},JM=function(t,e,n){t.hasOwnProperty("increment")||R(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&R(!1,"Unexpected increment value: "+r);const i=e.node();if(R(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},WS=function(t,e,n,r){return om(e,new im(n,t),r)},sm=function(t,e,n){return om(t,new rm(e),n)};function om(t,e,n){const r=t.getPriority().val(),i=Gv(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Gv(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new De(a,Ie(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new De(i))),o.forEachChild(ge,(a,l)=>{const c=om(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function tu(t,e){let n=e instanceof ie?e:new ie(e),r=t,i=q(n);for(;i!==null;){const s=Qr(r.node.children,i)||{children:{},childCount:0};r=new am(i,r,s),n=le(n),i=q(n)}return r}function ai(t){return t.node.value}function lm(t,e){t.node.value=e,Hh(t)}function $S(t){return t.node.childCount>0}function XM(t){return ai(t)===void 0&&!$S(t)}function nu(t,e){Ge(t.node.children,(n,r)=>{e(new am(n,t,r))})}function HS(t,e,n,r){n&&e(t),nu(t,i=>{HS(i,e,!0)})}function ZM(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function da(t){return new ie(t.parent===null?t.name:da(t.parent)+"/"+t.name)}function Hh(t){t.parent!==null&&eD(t.parent,t.name,t)}function eD(t,e,n){const r=XM(n),i=Zt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Hh(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Hh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=/[\[\].#$\/\u0000-\u001F\u007F]/,nD=/[\[\].#$\u0000-\u001F\u007F]/,cd=10*1024*1024,cm=function(t){return typeof t=="string"&&t.length!==0&&!tD.test(t)},GS=function(t){return typeof t=="string"&&t.length!==0&&!nD.test(t)},rD=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GS(t)},cc=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Mp(t)||t&&typeof t=="object"&&Zt(t,".sv")},KS=function(t,e,n,r){r&&e===void 0||ha(Kc(t,"value"),e,n)},ha=function(t,e,n){const r=n instanceof ie?new wL(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Rr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Rr(r)+" with contents = "+e.toString());if(Mp(e))throw new Error(t+"contains "+e.toString()+" "+Rr(r));if(typeof e=="string"&&e.length>cd/3&&qc(e)>cd)throw new Error(t+"contains a string greater than "+cd+" utf8 bytes "+Rr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ge(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!cm(o)))throw new Error(t+" contains an invalid key ("+o+") "+Rr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);SL(r,o),ha(t,a,r),kL(r)}),i&&s)throw new Error(t+' contains ".value" child '+Rr(r)+" in addition to actual children.")}},iD=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Vo(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!cm(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(xL);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Lt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},sD=function(t,e,n,r){const i=Kc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Ge(e,(o,a)=>{const l=new ie(o);if(ha(i,a,be(n,l)),Vp(l)===".priority"&&!cc(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),iD(i,s)},um=function(t,e,n,r){if(!GS(n))throw new Error(Kc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},oD=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),um(t,e,n)},dm=function(t,e){if(q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},aD=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!cm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!rD(n))throw new Error(Kc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ru(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Up(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function qS(t,e,n){ru(t,n),QS(t,r=>Up(r,e))}function Ct(t,e,n){ru(t,n),QS(t,r=>Lt(r,e)||Lt(e,r))}function QS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(cD(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function cD(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();oo&&We("event: "+n.toString()),ys(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="repo_interrupt",dD=25;class hD{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ec(),this.transactionQueueTree_=new am,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fD(t,e,n){if(t.stats_=jp(t.repoInfo_),t.forceRestClient_||H2())t.server_=new Zl(t.repoInfo_,(r,i,s,o)=>{Kv(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>qv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Le(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new bn(t.repoInfo_,e,(r,i,s,o)=>{Kv(t,r,i,s,o)},r=>{qv(t,r)},r=>{pD(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Y2(t.repoInfo_,()=>new QL(t.stats_,t.server_)),t.infoData_=new $L,t.infoSyncTree_=new Hv({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ua(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),hm(t,"connected",!1),t.serverSyncTree_=new Hv({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Ct(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function YS(t){const n=t.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function fa(t){return QM({timestamp:YS(t)})}function Kv(t,e,n,r,i){t.dataUpdateCount++;const s=new ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=ql(n,c=>Ie(c));o=WM(t.serverSyncTree_,s,l,i)}else{const l=Ie(n);o=VS(t.serverSyncTree_,s,l,i)}else if(r){const l=ql(n,c=>Ie(c));o=UM(t.serverSyncTree_,s,l)}else{const l=Ie(n);o=ua(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=is(t,s)),Ct(t.eventQueue_,a,o)}function qv(t,e){hm(t,"connected",e),e===!1&&vD(t)}function pD(t,e){Ge(e,(n,r)=>{hm(t,n,r)})}function hm(t,e,n){const r=new ie("/.info/"+e),i=Ie(n);t.infoData_.updateSnapshot(r,i);const s=ua(t.infoSyncTree_,r,i);Ct(t.eventQueue_,r,s)}function iu(t){return t.nextWriteId_++}function mD(t,e,n){const r=$M(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Ie(i).withIndex(e._queryParams.getIndex());$h(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=ua(t.serverSyncTree_,e._path,s);else{const a=$o(t.serverSyncTree_,e);o=VS(t.serverSyncTree_,e._path,s,a)}return Ct(t.eventQueue_,e._path,o),lc(t.serverSyncTree_,e,n,null,!0),s},i=>(_s(t,"get for query "+Le(e)+" failed: "+i),Promise.reject(new Error(i))))}function gD(t,e,n,r,i){_s(t,"set",{path:e.toString(),value:n,priority:r});const s=fa(t),o=Ie(n,r),a=Zc(t.serverSyncTree_,e),l=sm(o,a,s),c=iu(t),u=Zp(t.serverSyncTree_,e,l,c,!0);ru(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(d,p)=>{const m=d==="ok";m||it("set at "+e+" failed: "+d);const _=Qn(t.serverSyncTree_,c,!m);Ct(t.eventQueue_,e,_),Gh(t,i,d,p)});const h=pm(t,e);is(t,h),Ct(t.eventQueue_,h,[])}function yD(t,e,n,r){_s(t,"update",{path:e.toString(),value:n});let i=!0;const s=fa(t),o={};if(Ge(n,(a,l)=>{i=!1,o[a]=WS(be(e,a),Ie(l),t.serverSyncTree_,s)}),i)We("update() called with empty data.  Don't do anything."),Gh(t,r,"ok",void 0);else{const a=iu(t),l=VM(t.serverSyncTree_,e,o,a);ru(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const h=c==="ok";h||it("update at "+e+" failed: "+c);const d=Qn(t.serverSyncTree_,a,!h),p=d.length>0?is(t,e):e;Ct(t.eventQueue_,p,d),Gh(t,r,c,u)}),Ge(n,c=>{const u=pm(t,be(e,c));is(t,u)}),Ct(t.eventQueue_,e,[])}}function vD(t){_s(t,"onDisconnectEvents");const e=fa(t),n=ec();Fh(t.onDisconnect_,ne(),(i,s)=>{const o=WS(i,s,t.serverSyncTree_,e);CS(n,i,o)});let r=[];Fh(n,ne(),(i,s)=>{r=r.concat(ua(t.serverSyncTree_,i,s));const o=pm(t,i);is(t,o)}),t.onDisconnect_=ec(),Ct(t.eventQueue_,ne(),r)}function _D(t,e,n){let r;q(e._path)===".info"?r=$h(t.infoSyncTree_,e,n):r=$h(t.serverSyncTree_,e,n),qS(t.eventQueue_,e._path,r)}function Qv(t,e,n){let r;q(e._path)===".info"?r=lc(t.infoSyncTree_,e,n):r=lc(t.serverSyncTree_,e,n),qS(t.eventQueue_,e._path,r)}function xD(t){t.persistentConnection_&&t.persistentConnection_.interrupt(uD)}function _s(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),We(n,...e)}function Gh(t,e,n,r){e&&ys(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function wD(t,e,n,r,i,s){_s(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:K1(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=fm(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{ha("transaction failed: Data returned ",l,o.path),o.status=0;const c=tu(t.transactionQueueTree_,e),u=ai(c)||[];u.push(o),lm(c,u);let h;typeof l=="object"&&l!==null&&Zt(l,".priority")?(h=Qr(l,".priority"),R(cc(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(Zc(t.serverSyncTree_,e)||B.EMPTY_NODE).getPriority().val();const d=fa(t),p=Ie(l,h),m=sm(p,a,d);o.currentOutputSnapshotRaw=p,o.currentOutputSnapshotResolved=m,o.currentWriteId=iu(t);const _=Zp(t.serverSyncTree_,e,m,o.currentWriteId,o.applyLocally);Ct(t.eventQueue_,e,_),su(t,t.transactionQueueTree_)}}function fm(t,e,n){return Zc(t.serverSyncTree_,e,n)||B.EMPTY_NODE}function su(t,e=t.transactionQueueTree_){if(e||ou(t,e),ai(e)){const n=XS(t,e);R(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&SD(t,da(e),n)}else $S(e)&&nu(e,n=>{su(t,n)})}function SD(t,e,n){const r=n.map(c=>c.currentWriteId),i=fm(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];R(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=nt(e,u.path);s=s.updateChild(h,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{_s(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,u=u.concat(Qn(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();ou(t,tu(t.transactionQueueTree_,e)),su(t,t.transactionQueueTree_),Ct(t.eventQueue_,e,u);for(let d=0;d<h.length;d++)ys(h[d])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{it("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}is(t,e)}},o)}function is(t,e){const n=JS(t,e),r=da(n),i=XS(t,n);return kD(t,i,r),r}function kD(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=nt(n,l.path);let u=!1,h;if(R(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,i=i.concat(Qn(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=dD)u=!0,h="maxretry",i=i.concat(Qn(t.serverSyncTree_,l.currentWriteId,!0));else{const d=fm(t,l.path,o);l.currentInputSnapshot=d;const p=e[a].update(d.val());if(p!==void 0){ha("transaction failed: Data returned ",p,l.path);let m=Ie(p);typeof p=="object"&&p!=null&&Zt(p,".priority")||(m=m.updatePriority(d.getPriority()));const w=l.currentWriteId,y=fa(t),g=sm(m,d,y);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=g,l.currentWriteId=iu(t),o.splice(o.indexOf(w),1),i=i.concat(Zp(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),i=i.concat(Qn(t.serverSyncTree_,w,!0))}else u=!0,h="nodata",i=i.concat(Qn(t.serverSyncTree_,l.currentWriteId,!0))}Ct(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}ou(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ys(r[a]);su(t,t.transactionQueueTree_)}function JS(t,e){let n,r=t.transactionQueueTree_;for(n=q(e);n!==null&&ai(r)===void 0;)r=tu(r,n),e=le(e),n=q(e);return r}function XS(t,e){const n=[];return ZS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function ZS(t,e,n){const r=ai(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);nu(e,i=>{ZS(t,i,n)})}function ou(t,e){const n=ai(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,lm(e,n.length>0?n:void 0)}nu(e,r=>{ou(t,r)})}function pm(t,e){const n=da(JS(t,e)),r=tu(t.transactionQueueTree_,e);return ZM(r,i=>{ud(t,i)}),ud(t,r),HS(r,i=>{ud(t,i)}),n}function ud(t,e){const n=ai(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(R(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(R(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Qn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?lm(e,void 0):n.length=s+1,Ct(t.eventQueue_,da(e),i);for(let o=0;o<r.length;o++)ys(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function bD(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):it(`Invalid query segment '${n}' in query '${t}'`)}return e}const Yv=function(t,e){const n=ED(t),r=n.namespace;n.domain==="firebase.com"&&Rn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Rn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||O2();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new oS(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ie(n.pathString)}},ED=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=CD(t.substring(u,h)));const d=bD(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",TD=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Jv.charAt(n%64),n=Math.floor(n/64);R(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Jv.charAt(e[i]);return R(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Le(this.snapshot.exportVal())}}class PD{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return R(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Q(this._path)?null:Vp(this._path)}get ref(){return new fn(this._repo,this._path)}get _queryIdentifier(){const e=Dv(this._queryParams),n=Dp(e);return n==="{}"?"default":n}get _queryObject(){return Dv(this._queryParams)}isEqual(e){if(e=Ve(e),!(e instanceof pa))return!1;const n=this._repo===e._repo,r=Up(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+_L(this._path)}}function ND(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function AD(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Wr){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Xr)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==mr)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ge){if(e!=null&&!cc(e)||n!=null&&!cc(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(R(t.getIndex()instanceof Wp||t.getIndex()===SS,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class fn extends pa{constructor(e,n){super(e,n,new Hp,!1)}get parent(){const e=mS(this._path);return e===null?null:new fn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ss{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ie(e),r=Ho(this.ref,e);return new ss(this._node.getChild(n),r,ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ss(i,Ho(this.ref,r),ge)))}hasChild(e){const n=new ie(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function sn(t,e){return t=Ve(t),t._checkNotDeleted("ref"),e!==void 0?Ho(t._root,e):t._root}function Ho(t,e){return t=Ve(t),q(t._path)===null?oD("child","path",e):um("child","path",e),new fn(t._repo,be(t._path,e))}function RD(t,e){t=Ve(t),dm("push",t._path),KS("push",e,t._path,!0);const n=YS(t._repo),r=TD(n),i=Ho(t,r),s=Ho(t,r);let o;return o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function tk(t,e){t=Ve(t),dm("set",t._path),KS("set",e,t._path,!1);const n=new fs;return gD(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function dd(t,e){sD("update",e,t._path);const n=new fs;return yD(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function LD(t){t=Ve(t);const e=new ek(()=>{}),n=new au(e);return mD(t._repo,t,n).then(r=>new ss(r,new fn(t._repo,t._path),t._queryParams.getIndex()))}class au{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new ID("value",this,new ss(e.snapshotNode,new fn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new PD(this,e,n):null}matches(e){return e instanceof au?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function MD(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,h)=>{Qv(t._repo,t,a),l(u,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new ek(n,s||void 0),a=new au(o);return _D(t._repo,t,a),()=>Qv(t._repo,t,a)}function ma(t,e,n,r){return MD(t,"value",e,n,r)}class nk{}class DD extends nk{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new pa(e._repo,e._path,zL(e._queryParams,this._limit),e._orderByCalled)}}function OD(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new DD(t)}class jD extends nk{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){ND(e,"orderByChild");const n=new ie(this._path);if(Q(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Wp(n),i=WL(e._queryParams,r);return AD(i),new pa(e._repo,e._path,i,!0)}}function FD(t){return um("orderByChild","path",t),new jD(t)}function VD(t,...e){let n=Ve(t);for(const r of e)n=r._apply(n);return n}AM(fn);OM(fn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="FIREBASE_DATABASE_EMULATOR_HOST",Kh={};let BD=!1;function zD(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=ps(s);t.repoInfo_=new oS(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function WD(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Rn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),We("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Yv(s,i),a=o.repoInfo,l;typeof process<"u"&&yv&&(l=yv[UD]),l?(s=`http://${l}?ns=${a.namespace}`,o=Yv(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new K2(t.name,t.options,e);aD("Invalid Firebase Database URL",o),Q(o.path)||Rn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=HD(a,t,c,new G2(t,n));return new GD(u,t)}function $D(t,e){const n=Kh[e];(!n||n[t.key]!==t)&&Rn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),xD(t),delete n[t.key]}function HD(t,e,n,r){let i=Kh[e.name];i||(i={},Kh[e.name]=i);let s=i[t.toURLString()];return s&&Rn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new hD(t,BD,n,r),i[t.toURLString()]=s,s}class GD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fn(this._repo,ne())),this._rootInternal}_delete(){return this._rootInternal!==null&&($D(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Rn("Cannot call "+e+" on a deleted database.")}}function KD(t=z1(),e){const n=Lp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=tR("database");r&&qD(n,...r)}return n}function qD(t,e,n,r={}){t=Ve(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Yr(r,s.repoInfo_.emulatorOptions))return;Rn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Rn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ol(ol.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:nR(r.mockUserToken,t.app.options.projectId);o=new ol(a)}ps(e)&&(D1(e),O1("Database",!0)),zD(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){A2(gs),es(new Jr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return WD(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ar(vv,_v,t),ar(vv,_v,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function rk(t,e,n){if(t=Ve(t),dm("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=!0,i=new fs,s=(a,l,c)=>{let u=null;a?i.reject(a):(u=new ss(c,new fn(t._repo,t._path),ge),i.resolve(new YD(l,u)))},o=ma(t,()=>{});return wD(t._repo,t._path,e,s,o,r),i.promise}bn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};bn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};QD();function ik(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JD=ik,sk=new oa("auth","Firebase",ik());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Ap("@firebase/auth");function XD(t,...e){uc.logLevel<=se.WARN&&uc.warn(`Auth (${gs}): ${t}`,...e)}function al(t,...e){uc.logLevel<=se.ERROR&&uc.error(`Auth (${gs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,...e){throw mm(t,...e)}function dn(t,...e){return mm(t,...e)}function ok(t,e,n){const r={...JD(),[e]:n};return new oa("auth","Firebase",r).create(e,{appName:t.name})}function ur(t){return ok(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sk.create(t,...e)}function z(t,e,...n){if(!t)throw mm(e,...n)}function xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw al(e),new Error(e)}function Ln(t,e){t||xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function ZD(){return Xv()==="http:"||Xv()==="https:"}function Xv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZD()||oR()||"connection"in navigator)?navigator.onLine:!0}function tO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ln(n>e,"Short delay should be less than long delay!"),this.isMobile=Np()||j1()}get(){return eO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t,e){Ln(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iO=new ga(3e4,6e4);function li(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Cr(t,e,n,r,i={}){return lk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ms({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return sR()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ps(t.emulatorConfig.host)&&(c.credentials="include"),ak.fetch()(await ck(t,t.config.apiHost,n,a),c)})}async function lk(t,e,n){t._canInitEmulator=!1;const r={...nO,...e};try{const i=new oO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Wa(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wa(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Wa(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Wa(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ok(t,u,c);Xt(t,u)}}catch(i){if(i instanceof kr)throw i;Xt(t,"network-request-failed",{message:String(i)})}}async function lu(t,e,n,r,i={}){const s=await Cr(t,e,n,r,i);return"mfaPendingCredential"in s&&Xt(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function ck(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?gm(t.config,i):`${t.config.apiScheme}://${i}`;return rO.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function sO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(dn(this.auth,"network-request-failed")),iO.get())})}}function Wa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=dn(t,e,r);return i.customData._tokenResponse=n,i}function Zv(t){return t!==void 0&&t.enterprise!==void 0}class aO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lO(t,e){return Cr(t,"GET","/v2/recaptchaConfig",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(t,e){return Cr(t,"POST","/v1/accounts:delete",e)}async function dc(t,e){return Cr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uO(t,e=!1){const n=Ve(t),r=await n.getIdToken(e),i=ym(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ho(hd(i.auth_time)),issuedAtTime:ho(hd(i.iat)),expirationTime:ho(hd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function hd(t){return Number(t)*1e3}function ym(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return al("JWT malformed, contained fewer than 3 sections"),null;try{const i=Kl(n);return i?JSON.parse(i):(al("Failed to decode base64 JWT payload"),null)}catch(i){return al("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function e0(t){const e=ym(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kr&&dO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ho(this.lastLoginAt),this.creationTime=ho(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Go(t,dc(e,{idToken:n}));z(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?uk(i.providerUserInfo):[],o=pO(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Qh(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function fO(t){const e=Ve(t);await hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e){const n=await lk(t,{},async()=>{const r=ms({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await ck(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ps(t.emulatorConfig.host)&&(l.credentials="include"),ak.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gO(t,e){return Cr(t,"POST","/v2/accounts:revokeToken",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(e.length!==0,"internal-error");const n=e0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await mO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ui;return r&&(z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ui,this.toJSON())}_performRefresh(){return xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kt{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new hO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Qh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Go(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uO(this,e)}reload(){return fO(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($t(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await Go(this,cO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:h,emailVerified:d,isAnonymous:p,providerData:m,stsTokenManager:_}=n;z(h&&_,e,"internal-error");const w=Ui.fromJSON(this.name,_);z(typeof h=="string",e,"internal-error"),jn(r,e.name),jn(i,e.name),z(typeof d=="boolean",e,"internal-error"),z(typeof p=="boolean",e,"internal-error"),jn(s,e.name),jn(o,e.name),jn(a,e.name),jn(l,e.name),jn(c,e.name),jn(u,e.name);const y=new Kt({uid:h,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:w,createdAt:c,lastLoginAt:u});return m&&Array.isArray(m)&&(y.providerData=m.map(g=>({...g}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ui;i.updateFromServerResponse(n);const s=new Kt({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];z(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?uk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ui;a.updateFromIdToken(r);const l=new Kt({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Qh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;function wn(t){Ln(t instanceof Function,"Expected a class definition");let e=t0.get(t);return e?(Ln(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,t0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dk.type="NONE";const n0=dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(t,e,n){return`firebase:${t}:${e}:${n}`}class Bi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ll(this.userKey,i.apiKey,s),this.fullPersistenceKey=ll("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dc(this.auth,{idToken:e}).catch(()=>{});return n?Kt._fromGetAccountInfoResponse(this.auth,n,e):null}return Kt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bi(wn(n0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||wn(n0);const o=ll(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let h;if(typeof u=="string"){const d=await dc(e,{idToken:u}).catch(()=>{});if(!d)break;h=await Kt._fromGetAccountInfoResponse(e,d,u)}else h=Kt._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Bi(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Bi(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yk(e))return"Blackberry";if(vk(e))return"Webos";if(fk(e))return"Safari";if((e.includes("chrome/")||pk(e))&&!e.includes("edge/"))return"Chrome";if(gk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hk(t=st()){return/firefox\//i.test(t)}function fk(t=st()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pk(t=st()){return/crios\//i.test(t)}function mk(t=st()){return/iemobile/i.test(t)}function gk(t=st()){return/android/i.test(t)}function yk(t=st()){return/blackberry/i.test(t)}function vk(t=st()){return/webos/i.test(t)}function vm(t=st()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yO(t=st()){var e;return vm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function vO(){return aR()&&document.documentMode===10}function _k(t=st()){return vm(t)||gk(t)||vk(t)||yk(t)||/windows phone/i.test(t)||mk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t,e=[]){let n;switch(t){case"Browser":n=r0(st());break;case"Worker":n=`${r0(st())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(t,e={}){return Cr(t,"GET","/v2/passwordPolicy",li(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=6;class SO{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i0(this),this.idTokenSubscription=new i0(this),this.beforeStateQueue=new _O(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wn(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Bi.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dc(this,{idToken:e}),r=await Kt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if($t(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($t(this.app))return Promise.reject(ur(this));const n=e?Ve(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $t(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $t(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xO(this),n=new SO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wn(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=await Bi.create(this,[wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if($t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&XD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function xs(t){return Ve(t)}class i0{constructor(e){this.auth=e,this.observer=null,this.addObserver=yR(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CO(t){cu=t}function wk(t){return cu.loadJS(t)}function bO(){return cu.recaptchaEnterpriseScript}function EO(){return cu.gapiScript}function TO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class IO{constructor(){this.enterprise=new PO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class PO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NO="recaptcha-enterprise",Sk="NO_RECAPTCHA";class AO{constructor(e){this.type=NO,this.auth=xs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{lO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new aO(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Zv(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Sk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IO().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Zv(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=bO();l.length!==0&&(l+=a),wk(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function s0(t,e,n,r=!1,i=!1){const s=new AO(t);let o;if(i)o=Sk;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function o0(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await s0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await s0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t,e){const n=Lp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Yr(s,e??{}))return i;Xt(i,"already-initialized")}return n.initialize({options:e})}function LO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function MO(t,e,n){const r=xs(t);z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=kk(e),{host:o,port:a}=DO(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),z(Yr(c,r.config.emulator)&&Yr(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,ps(o)?(D1(`${s}//${o}${l}`),O1("Auth",!0)):OO()}function kk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DO(t){const e=kk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:a0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:a0(o)}}}function a0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xn("not implemented")}_getIdTokenResponse(e){return xn("not implemented")}_linkToIdToken(e,n){return xn("not implemented")}_getReauthenticationResolver(e){return xn("not implemented")}}async function jO(t,e){return Cr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e){return lu(t,"POST","/v1/accounts:signInWithPassword",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t,e){return lu(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))}async function UO(t,e){return lu(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends _m{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ko(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ko(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return o0(e,n,"signInWithPassword",FO);case"emailLink":return VO(e,{email:this._email,oobCode:this._password});default:Xt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return o0(e,r,"signUpPassword",jO);case"emailLink":return UO(e,{idToken:n,email:this._email,oobCode:this._password});default:Xt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zi(t,e){return lu(t,"POST","/v1/accounts:signInWithIdp",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="http://localhost";class ti extends _m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ti(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new ti(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zi(e,n)}buildRequest(){const e={requestUri:BO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ms(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WO(t){const e=Ws($s(t)).link,n=e?Ws($s(e)).deep_link_id:null,r=Ws($s(t)).deep_link_id;return(r?Ws($s(r)).link:null)||r||n||e||t}class xm{constructor(e){const n=Ws($s(e)),r=n.apiKey??null,i=n.oobCode??null,s=zO(n.mode??null);z(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=WO(e);try{return new xm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.providerId=ws.PROVIDER_ID}static credential(e,n){return Ko._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xm.parseLink(n);return z(r,"argument-error"),Ko._fromEmailAndCode(e,r.code,r.tenantId)}}ws.PROVIDER_ID="password";ws.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ws.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Ck{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends ya{constructor(){super("facebook.com")}static credential(e){return ti._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wn.credentialFromTaggedObject(e)}static credentialFromError(e){return Wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wn.credential(e.oauthAccessToken)}catch{return null}}}Wn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends ya{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ti._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $n.credential(n,r)}catch{return null}}}$n.GOOGLE_SIGN_IN_METHOD="google.com";$n.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends ya{constructor(){super("github.com")}static credential(e){return ti._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hn.credential(e.oauthAccessToken)}catch{return null}}}Hn.GITHUB_SIGN_IN_METHOD="github.com";Hn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn extends ya{constructor(){super("twitter.com")}static credential(e,n){return ti._fromParams({providerId:Gn.PROVIDER_ID,signInMethod:Gn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gn.credentialFromTaggedObject(e)}static credentialFromError(e){return Gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gn.credential(n,r)}catch{return null}}}Gn.TWITTER_SIGN_IN_METHOD="twitter.com";Gn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Kt._fromIdTokenResponse(e,r,i),o=l0(r);return new os({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=l0(r);return new os({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function l0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends kr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fc(e,n,r,i)}}function bk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?fc._fromErrorAndOperation(t,s,e,r):s})}async function $O(t,e,n=!1){const r=await Go(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return os._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t,e,n=!1){const{auth:r}=t;if($t(r.app))return Promise.reject(ur(r));const i="reauthenticate";try{const s=await Go(t,bk(r,i,e,t),n);z(s.idToken,r,"internal-error");const o=ym(s.idToken);z(o,r,"internal-error");const{sub:a}=o;return z(t.uid===a,r,"user-mismatch"),os._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(t,e,n=!1){if($t(t.app))return Promise.reject(ur(t));const r="signIn",i=await bk(t,r,e),s=await os._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function GO(t,e){return Ek(xs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t){const e=xs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function qO(t,e,n){return $t(t.app)?Promise.reject(ur(t)):GO(Ve(t),ws.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&KO(t),r})}function QO(t,e,n,r){return Ve(t).onIdTokenChanged(e,n,r)}function YO(t,e,n){return Ve(t).beforeAuthStateChanged(e,n)}function JO(t,e,n,r){return Ve(t).onAuthStateChanged(e,n,r)}function XO(t){return Ve(t).signOut()}const pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pc,"1"),this.storage.removeItem(pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=1e3,ej=10;class Ik extends Tk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_k(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);vO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ej):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ik.type="LOCAL";const tj=Ik;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk extends Tk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Pk.type="SESSION";const Nk=Pk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new uu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await nj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=wm("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return window}function ij(t){hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}async function sj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function aj(){return Ak()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="firebaseLocalStorageDb",lj=1,mc="firebaseLocalStorage",Lk="fbase_key";class va{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function du(t,e){return t.transaction([mc],e?"readwrite":"readonly").objectStore(mc)}function cj(){const t=indexedDB.deleteDatabase(Rk);return new va(t).toPromise()}function Yh(){const t=indexedDB.open(Rk,lj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mc,{keyPath:Lk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mc)?e(r):(r.close(),await cj(),e(await Yh()))})})}async function c0(t,e,n){const r=du(t,!0).put({[Lk]:e,value:n});return new va(r).toPromise()}async function uj(t,e){const n=du(t,!1).get(e),r=await new va(n).toPromise();return r===void 0?null:r.value}function u0(t,e){const n=du(t,!0).delete(e);return new va(n).toPromise()}const dj=800,hj=3;class Mk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ak()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uu._getInstance(aj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await sj(),!this.activeServiceWorker)return;this.sender=new rj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yh();return await c0(e,pc,"1"),await u0(e,pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>c0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>u0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=du(i,!1).getAll();return new va(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mk.type="LOCAL";const fj=Mk;new ga(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t,e){return e?wn(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends _m{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mj(t){return Ek(t.auth,new Sm(t),t.bypassAuthState)}function gj(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),HO(n,new Sm(t),t.bypassAuthState)}async function yj(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),$O(n,new Sm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mj;case"linkViaPopup":case"linkViaRedirect":return yj;case"reauthViaPopup":case"reauthViaRedirect":return gj;default:Xt(this.auth,"internal-error")}}resolve(e){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=new ga(2e3,1e4);class Ai extends Dk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ai.currentPopupAction&&Ai.currentPopupAction.cancel(),Ai.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return z(e,this.auth,"internal-error"),e}async onExecution(){Ln(this.filter.length===1,"Popup operations only handle one event");const e=wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ai.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vj.get())};e()}}Ai.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="pendingRedirect",cl=new Map;class xj extends Dk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cl.get(this.auth._key());if(!e){try{const r=await wj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cl.set(this.auth._key(),e)}return this.bypassAuthState||cl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wj(t,e){const n=Cj(e),r=kj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Sj(t,e){cl.set(t._key(),e)}function kj(t){return wn(t._redirectPersistence)}function Cj(t){return ll(_j,t.config.apiKey,t.name)}async function bj(t,e,n=!1){if($t(t.app))return Promise.reject(ur(t));const r=xs(t),i=pj(r,e),o=await new xj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=10*60*1e3;class Tj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ij(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ok(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(dn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ej&&this.cachedEventUids.clear(),this.cachedEventUids.has(d0(e))}saveEventToCache(e){this.cachedEventUids.add(d0(e)),this.lastProcessedEventTime=Date.now()}}function d0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ok({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ij(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ok(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(t,e={}){return Cr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aj=/^https?/;async function Rj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Pj(t);for(const n of e)try{if(Lj(n))return}catch{}Xt(t,"unauthorized-domain")}function Lj(t){const e=qh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Aj.test(n))return!1;if(Nj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=new ga(3e4,6e4);function h0(){const t=hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Dj(t){return new Promise((e,n)=>{var i,s,o;function r(){h0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h0(),n(dn(t,"network-request-failed"))},timeout:Mj.get()})}if((s=(i=hn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=hn().gapi)!=null&&o.load)r();else{const a=TO("iframefcb");return hn()[a]=()=>{gapi.load?r():n(dn(t,"network-request-failed"))},wk(`${EO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ul=null,e})}let ul=null;function Oj(t){return ul=ul||Dj(t),ul}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new ga(5e3,15e3),Fj="__/auth/iframe",Vj="emulator/auth/iframe",Uj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zj(t){const e=t.config;z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gm(e,Vj):`https://${t.config.authDomain}/${Fj}`,r={apiKey:e.apiKey,appName:t.name,v:gs},i=Bj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ms(r).slice(1)}`}async function Wj(t){const e=await Oj(t),n=hn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:zj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=dn(t,"network-request-failed"),a=hn().setTimeout(()=>{s(o)},jj.get());function l(){hn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hj=500,Gj=600,Kj="_blank",qj="http://localhost";class f0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qj(t,e,n,r=Hj,i=Gj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...$j,width:r.toString(),height:i.toString(),top:s,left:o},c=st().toLowerCase();n&&(a=pk(c)?Kj:n),hk(c)&&(e=e||qj,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(yO(c)&&a!=="_self")return Yj(e||"",a),new f0(null);const h=window.open(e||"",a,u);z(h,t,"popup-blocked");try{h.focus()}catch{}return new f0(h)}function Yj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj="__/auth/handler",Xj="emulator/auth/handler",Zj=encodeURIComponent("fac");async function p0(t,e,n,r,i,s){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gs,eventId:i};if(e instanceof Ck){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Ph(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof ya){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Zj}=${encodeURIComponent(l)}`:"";return`${e3(t)}?${ms(a).slice(1)}${c}`}function e3({config:t}){return t.emulator?gm(t,Xj):`https://${t.authDomain}/${Jj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="webStorageSupport";class t3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nk,this._completeRedirectFn=bj,this._overrideRedirectResult=Sj}async _openPopup(e,n,r,i){var o;Ln((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await p0(e,n,r,qh(),i);return Qj(e,s,wm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await p0(e,n,r,qh(),i);return ij(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ln(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Wj(e),r=new Tj(e);return n.register("authEvent",i=>(z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fd,{type:fd},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[fd];s!==void 0&&n(!!s),Xt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Rj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _k()||fk()||vm()}}const n3=t3;var m0="@firebase/auth",g0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s3(t){es(new Jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xk(t)},c=new kO(r,i,s,l);return LO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),es(new Jr("auth-internal",e=>{const n=xs(e.getProvider("auth").getImmediate());return(r=>new r3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(m0,g0,i3(t)),ar(m0,g0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=5*60,a3=M1("authIdTokenMaxAge")||o3;let y0=null;const l3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>a3)return;const i=n==null?void 0:n.token;y0!==i&&(y0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function c3(t=z1()){const e=Lp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RO(t,{popupRedirectResolver:n3,persistence:[fj,tj,Nk]}),r=M1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=l3(s.toString());YO(n,o,()=>o(n.currentUser)),QO(n,a=>o(a))}}const i=R1("auth");return i&&MO(n,`http://${i}`),n}function u3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}CO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=dn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",u3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s3("Browser");const d3={apiKey:"AIzaSyDsp1wpU3fvqqYG7S30Iwg3GcmTyKsnKwc",authDomain:"portfolio-recommendation-b5dd3.firebaseapp.com",databaseURL:"https://portfolio-recommendation-b5dd3-default-rtdb.europe-west1.firebasedatabase.app",projectId:"portfolio-recommendation-b5dd3",storageBucket:"portfolio-recommendation-b5dd3.firebasestorage.app",messagingSenderId:"263692658555",appId:"1:263692658555:web:c680fae5d41ad680643fde"};let pd,Re,Lr;try{pd=B1(d3),Re=KD(pd),Lr=c3(pd),console.log("✅ Firebase initialized successfully")}catch(t){console.error("❌ Firebase initialization error:",t),console.log("⚠️ Please update src/firebase.js with your Firebase credentials"),console.log("📖 See FIREBASE_SETUP_GUIDE.md for instructions")}const gc=Re?sn(Re,"recommendations/count"):null,jk=Re?sn(Re,"recommendations/users"):null,yc=Re?sn(Re,"visitors/count"):null,vc=Re?sn(Re,"testimonials"):null,Fk=async t=>{if(!jk)return console.error("Firebase not initialized"),!1;try{const e=sn(Re,`recommendations/users/${t}`),r=(await LD(e)).exists();return console.log(r?"🔍 User fingerprint found in Firebase:":"✨ New user fingerprint:",t),r}catch(e){return console.error("❌ Error checking user fingerprint:",e),!1}},h3=async t=>{if(!gc||!jk)throw console.error("Firebase not initialized"),new Error("Firebase not configured. Please see FIREBASE_SETUP_GUIDE.md");try{if(await Fk(t))throw console.warn("⚠️ User already recommended (fingerprint found)"),new Error("USER_ALREADY_RECOMMENDED");const n=await rk(gc,r=>(r||0)+1);if(n.committed){const r=sn(Re,`recommendations/users/${t}`);return await tk(r,{timestamp:Date.now(),liked:!0}),console.log("✅ Recommendation count incremented:",n.snapshot.val()),console.log("🔐 User fingerprint stored:",t),n.snapshot.val()}else throw new Error("Transaction not committed")}catch(e){throw console.error("❌ Error incrementing recommendations:",e),e}},f3=async()=>{if(!yc)throw console.error("Firebase not initialized"),new Error("Firebase not configured. Please see FIREBASE_SETUP_GUIDE.md");try{const t=await rk(yc,e=>(e||0)+1);if(t.committed)return console.log("✅ Visitor count incremented:",t.snapshot.val()),t.snapshot.val();throw new Error("Transaction not committed")}catch(t){throw console.error("❌ Error incrementing visitors:",t),t}},Vk=t=>gc?ma(gc,e=>{const n=e.val()||0;t(n)}):(console.error("Firebase not initialized"),()=>{}),p3=t=>yc?ma(yc,e=>{const n=e.val()||0;t(n)}):(console.error("Firebase not initialized"),()=>{}),m3=async t=>{if(!vc)throw console.error("Firebase not initialized"),new Error("Firebase not configured. Please see FIREBASE_SETUP_GUIDE.md");try{const e=RD(vc),n={...t,timestamp:Date.now(),approved:!1};return await tk(e,n),console.log("✅ Testimonial submitted:",e.key),e.key}catch(e){throw console.error("❌ Error submitting testimonial:",e),e}},km=(t,e=20)=>{if(!vc)return console.error("Firebase not initialized"),()=>{};const n=VD(vc,FD("timestamp"),OD(e));return ma(n,r=>{const i=[];r.forEach(s=>{const o=s.val();console.log("Testimonial data:",o),(o.approved===!0||o.approved==="true")&&i.push({id:s.key,...o})}),i.reverse(),console.log("📝 Final approved testimonials:",i),t(i)},r=>{console.error("❌ Error fetching testimonials:",r)})},v0=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(0),[i,s]=b.useState(!1),[o,a]=b.useState(!0);b.useEffect(()=>{const d=()=>{s(window.innerWidth<640)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),b.useEffect(()=>{const d=km(p=>{console.log("📝 Testimonials received in carousel:",p),e(p)});return()=>d()},[]),b.useEffect(()=>{if(!o||t.length===0||i)return;const d=setInterval(()=>{r(p=>(p+1)%t.length)},5e3);return()=>clearInterval(d)},[o,t.length,i]);const l=()=>{a(!1),r(d=>(d+1)%t.length)},c=()=>{a(!1),r(d=>(d-1+t.length)%t.length)},u=(d,{offset:p,velocity:m})=>{const _=Math.abs(p.x)*m.x;_<-1e4?l():_>1e4&&c()};if(t.length===0)return null;const h=t[n];return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"relative overflow-hidden flex items-stretch min-h-[200px] sm:min-h-[220px]",children:f.jsx(ea,{mode:"wait",children:f.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.3,onDragEnd:u,className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-900 rounded-xl sm:rounded-2xl p-3 sm:p-4 shadow-xl cursor-grab active:cursor-grabbing w-full flex flex-col",children:[f.jsx("div",{className:"text-3xl sm:text-4xl text-blue-500/20 dark:text-blue-400/20 font-serif mb-2 sm:mb-3",children:'"'}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-xs sm:text-sm leading-relaxed mb-3 sm:mb-4 flex-grow line-clamp-4 sm:line-clamp-5",children:h.text}),f.jsxs("div",{className:"flex items-center justify-between gap-2 mt-auto",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-xs sm:text-sm truncate",children:h.name}),h.role&&f.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:h.role})]}),h.linkedIn&&f.jsx("a",{href:h.linkedIn,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded-full transition-colors flex-shrink-0",title:"View LinkedIn Profile",onClick:d=>d.stopPropagation(),children:f.jsx(sa,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]},n)})}),t.length>1&&f.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mt-3 sm:mt-4",children:[f.jsx("button",{onClick:c,className:"p-1.5 sm:p-2 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full shadow-md transition-colors","aria-label":"Previous testimonial",children:f.jsx(k1,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-700 dark:text-gray-300"})}),f.jsx("div",{className:"flex gap-1 sm:gap-1.5",children:t.map((d,p)=>f.jsx("button",{onClick:()=>{a(!1),r(p)},className:`h-1.5 sm:h-2 rounded-full transition-all duration-300 ${p===n?"bg-blue-500 w-5 sm:w-6":"w-1.5 sm:w-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400"}`,"aria-label":`Go to testimonial ${p+1}`},p))}),f.jsx("button",{onClick:l,className:"p-1.5 sm:p-2 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full shadow-md transition-colors","aria-label":"Next testimonial",children:f.jsx(C1,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-700 dark:text-gray-300"})})]})]})},g3=()=>{const{t}=gt(),[e,n]=b.useState(0),[r,i]=b.useState(0),[s,o]=b.useState(0);b.useEffect(()=>{localStorage.getItem("hasVisited")||(f3().catch(C=>{console.error("Failed to increment visitor count:",C)}),localStorage.setItem("hasVisited","true"));const g=Vk(C=>{n(C)}),v=p3(C=>{i(C)}),S=km(C=>{o(C.length)});return()=>{g(),v(),S()}},[]);const a=t("hero.titles",{returnObjects:!0,defaultValue:null}),l=t("hero.title",{defaultValue:"Data Scientist & AI Engineer"}),c=t("hero.typewriter",{returnObjects:!0,defaultValue:{}}),u=Array.isArray(a)&&a.length>0?a:[l],h=c.speedMs||100,d=c.deleteSpeedMs||50,p=c.pauseMs||2e3,m=c.loop!==void 0?c.loop:!0,_={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}};return f.jsxs("section",{id:"hero",className:"min-h-screen flex items-center justify-center pt-20 pb-16 px-4 relative",children:[f.jsx(L.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.5,duration:.8},className:"hidden lg:block absolute left-4 bottom-8 w-80 max-h-[60vh] overflow-y-auto",children:f.jsx(v0,{})}),f.jsxs(L.div,{variants:_,initial:"hidden",animate:"visible",className:"max-w-5xl mx-auto text-center",children:[f.jsx(L.div,{variants:w,className:"mb-6",children:f.jsx(L.img,{whileHover:{scale:1.05},src:"/portfolio/photo.jpg",alt:"Jermiah Jerome",className:"w-28 h-28 md:w-36 md:h-36 rounded-full mx-auto object-cover border-4 border-primary-light dark:border-primary-dark shadow-2xl"})}),f.jsx(L.p,{variants:w,className:"text-base md:text-lg text-gray-600 dark:text-gray-400 mb-3",children:t("hero.greeting")}),f.jsx(L.h1,{variants:w,className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-5 gradient-text",children:t("hero.name")}),f.jsx(L.div,{variants:w,className:"mb-5",children:f.jsx("h2",{className:"text-lg md:text-2xl lg:text-3xl font-semibold text-gray-800 dark:text-gray-200 min-h-[2.5rem] md:min-h-[3.5rem]",children:f.jsx("span",{className:"inline-block whitespace-nowrap md:whitespace-normal",children:f.jsx(HA,{texts:u,loop:m,typingSpeed:h,deletingSpeed:d,pauseDuration:p})})})}),f.jsx(L.p,{variants:w,className:"text-base md:text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto mb-6",children:t("hero.subtitle")}),f.jsxs(L.div,{variants:w,className:"flex flex-wrap justify-center gap-3 mb-6 text-sm",children:[f.jsxs("a",{href:`mailto:${t("contact.email")}`,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[f.jsx(Gc,{}),f.jsx("span",{className:"hidden sm:inline",children:t("contact.email")})]}),f.jsxs("a",{href:`tel:${t("contact.phone")}`,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[f.jsx(jA,{}),f.jsx("span",{className:"hidden sm:inline",children:t("contact.phone")})]})]}),f.jsxs(L.div,{variants:w,className:"flex flex-wrap items-center justify-center gap-2 mb-6",children:[f.jsxs(L.div,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.05},className:"group relative inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-full shadow-lg cursor-help",title:"Live visitor count tracked via Firebase Realtime Database",children:[f.jsx(T1,{className:"w-4 h-4"}),f.jsxs("span",{className:"font-semibold text-sm",children:[r.toLocaleString()," ",r===1?"Unique Visitor":"Unique Visitors"]}),f.jsxs("div",{className:"absolute bottom-full mb-2 hidden group-hover:block w-64 p-3 bg-gray-900 dark:bg-gray-800 text-white text-xs rounded-lg shadow-xl z-50",children:[f.jsx("p",{className:"font-semibold mb-1",children:"👥 Total Visitors"}),f.jsx("p",{className:"text-gray-300",children:"Total unique visitors to this portfolio, tracked via Firebase Realtime Database. Each device is counted once."})]})]}),f.jsxs(L.div,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.05},className:"group relative inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-pink-500 to-red-500 text-white rounded-full shadow-lg cursor-help",title:"People who loved my profile",children:[f.jsx(Tp,{className:"w-4 h-4 fill-current"}),f.jsxs("span",{className:"font-semibold text-sm",children:[e," ",e===1?"Love":"Loves"]}),f.jsxs("div",{className:"absolute bottom-full mb-2 hidden group-hover:block w-64 p-3 bg-gray-900 dark:bg-gray-800 text-white text-xs rounded-lg shadow-xl z-50",children:[f.jsx("p",{className:"font-semibold mb-1",children:"💖 Profile Loves"}),f.jsx("p",{className:"text-gray-300",children:"People who loved my profile, tracked via Firebase Realtime Database. Each device can love once."})]})]}),f.jsxs(L.div,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.05},className:"group relative inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full shadow-lg cursor-help",title:"Written recommendations received",children:[f.jsx(b1,{className:"w-4 h-4"}),f.jsxs("span",{className:"font-semibold text-sm",children:[s," ",s===1?"Recommendation":"Recommendations"]}),f.jsxs("div",{className:"absolute bottom-full mb-2 hidden group-hover:block w-64 p-3 bg-gray-900 dark:bg-gray-800 text-white text-xs rounded-lg shadow-xl z-50",children:[f.jsx("p",{className:"font-semibold mb-1",children:"✍️ Written Recommendations"}),f.jsx("p",{className:"text-gray-300",children:"Detailed recommendations received on this portfolio, tracked via Firebase Realtime Database. Each person can write once."})]})]})]}),f.jsxs(L.div,{variants:w,className:"flex flex-wrap justify-center gap-3 mb-6",children:[f.jsxs(L.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:t("hero.links.github"),target:"_blank",rel:"noopener noreferrer",className:"btn-primary flex items-center gap-2",children:[f.jsx(Hc,{}),t("hero.cta.github")]}),f.jsxs(L.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:t("hero.links.linkedin"),target:"_blank",rel:"noopener noreferrer",className:"btn-primary flex items-center gap-2",children:[f.jsx(sa,{}),t("hero.cta.linkedin")]})]}),f.jsx(L.div,{variants:w,className:"lg:hidden max-w-md mx-auto",children:f.jsx(v0,{})}),f.jsx(L.div,{variants:w,className:"mt-12",children:f.jsx(L.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0},className:"w-6 h-10 border-2 border-gray-400 dark:border-gray-600 rounded-full mx-auto flex items-start justify-center p-2",children:f.jsx(L.div,{animate:{y:[0,12,0]},transition:{duration:1.5,repeat:1/0},className:"w-1.5 h-1.5 bg-gray-400 dark:bg-gray-600 rounded-full"})})})]})]})},Dn=({id:t,title:e,children:n,className:r=""})=>{const[i,s]=b.useState(!1),o=b.useRef(null);return b.useEffect(()=>{const a=new IntersectionObserver(([l])=>{l.isIntersecting&&s(!0)},{threshold:.1});return o.current&&a.observe(o.current),()=>{o.current&&a.unobserve(o.current)}},[]),f.jsx("section",{id:t,ref:o,className:`section-container ${r}`,children:f.jsxs(L.div,{initial:{opacity:0,y:30},animate:i?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.6},children:[e&&f.jsx(L.h2,{initial:{opacity:0,x:-20},animate:i?{opacity:1,x:0}:{opacity:0,x:-20},transition:{duration:.6,delay:.2},className:"text-2xl md:text-3xl lg:text-4xl font-bold mb-8 gradient-text",children:e}),n]})})},y3=()=>{const{t}=gt(),e=t("overview.highlights.items",{returnObjects:!0}),n={0:f.jsx(io,{className:"w-8 h-8"}),1:f.jsx(BA,{className:"w-8 h-8"}),2:f.jsx(kA,{className:"w-8 h-8"})};return f.jsx(Dn,{id:"overview",title:t("overview.title"),children:f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"space-y-3 text-base text-gray-700 dark:text-gray-300",children:t("overview.content",{returnObjects:!0}).map((r,i)=>f.jsx(L.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},children:r},i))}),f.jsxs("div",{className:"mt-8",children:[f.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100",children:t("overview.highlights.title")}),f.jsx("div",{className:"grid md:grid-cols-3 gap-5",children:e.map((r,i)=>f.jsxs(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.2},whileHover:{y:-5},className:"card p-5",children:[f.jsx("div",{className:"text-primary-light dark:text-primary-dark mb-3",children:n[i]}),f.jsx("h4",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:r.title}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.description})]},i))})]}),t("overview.featured.title",{defaultValue:""})&&f.jsxs(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"card p-5 md:p-6 mt-8 bg-gradient-to-br from-primary-light/10 to-accent-light/10 dark:from-primary-dark/10 dark:to-accent-dark/10",children:[f.jsx("h3",{className:"text-xl font-bold mb-3 text-gray-900 dark:text-gray-100",children:t("overview.featured.title")}),f.jsx("p",{className:"text-base text-gray-700 dark:text-gray-300 mb-3",children:t("overview.featured.description")}),t("overview.featured.link",{defaultValue:""})&&f.jsxs("a",{href:t("overview.featured.link"),target:"_blank",rel:"noopener noreferrer",className:"inline-block text-primary-light dark:text-primary-dark font-semibold hover:underline text-base",children:[t("overview.featured.linkText")," →"]})]}),(t("overview.closing",{defaultValue:""})||t("overview.note",{defaultValue:""}))&&f.jsxs(L.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-center mt-8 space-y-3",children:[t("overview.closing",{defaultValue:""})&&f.jsx("p",{className:"text-lg font-medium text-gray-800 dark:text-gray-200",children:t("overview.closing")}),t("overview.note",{defaultValue:""})&&f.jsx("p",{className:"text-gray-600 dark:text-gray-400 italic",children:t("overview.note")})]})]})})},v3=()=>{const{t}=gt(),e=t("skills.categories",{returnObjects:!0}),n={Expertise:f.jsx(TA,{className:"w-6 h-6"}),Professional:f.jsx(Zi,{className:"w-6 h-6"}),Technical:f.jsx(iv,{className:"w-6 h-6"}),Professionnel:f.jsx(Zi,{className:"w-6 h-6"}),Technique:f.jsx(iv,{className:"w-6 h-6"})};return f.jsx(Dn,{id:"skills",title:t("skills.title"),children:f.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((r,i)=>f.jsxs(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.2},className:"card p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"text-primary-light dark:text-primary-dark",children:n[r.name]}),f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100",children:r.name})]}),f.jsx("ul",{className:"space-y-3",children:r.items.map((s,o)=>f.jsxs(L.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:i*.2+o*.05},className:"flex items-start gap-2 text-gray-700 dark:text-gray-300",children:[f.jsx("span",{className:"text-primary-light dark:text-primary-dark mt-1",children:"•"}),f.jsx("span",{children:s})]},o))})]},i))})})},_3=()=>{const{t}=gt(),e=t("education.items",{returnObjects:!0});return f.jsx(Dn,{id:"education",title:t("education.title"),children:f.jsx("div",{className:"space-y-8",children:e.map((n,r)=>f.jsxs(L.div,{initial:{opacity:0,x:r%2===0?-30:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:r*.2},whileHover:{scale:1.02},className:"card p-6 md:p-8",children:[f.jsx("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-4",children:f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:n.school}),f.jsx("p",{className:"text-lg font-semibold text-primary-light dark:text-primary-dark mb-2",children:n.degree}),f.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx($l,{className:"w-4 h-4"}),f.jsx("span",{children:n.period})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(MA,{className:"w-4 h-4"}),f.jsx("span",{children:n.location})]})]})]})}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4 italic",children:n.description}),n.links&&f.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(n.links).map(([i,s])=>f.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-light dark:text-primary-dark hover:underline",children:[f.jsx(Fi,{className:"w-4 h-4"}),i==="school"?"Website":i==="emlyon"?"emlyon":"McGill"]},i))})]},r))})})},x3=()=>{const{t}=gt(),e=t("experience.items",{returnObjects:!0}),n=[];let r=[];return e.forEach((i,s)=>{const o=i.period.includes("Present");if(s===0)r.push(i);else{const l=e[s-1].period.includes("Present");o&&l?r.push(i):(r.length>0&&n.push([...r]),r=[i])}s===e.length-1&&r.length>0&&n.push(r)}),f.jsx(Dn,{id:"experience",title:t("experience.title"),children:f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"hidden md:block absolute left-1/2 transform -translate-x-1/2 w-0.5 h-full bg-gradient-to-b from-primary-light to-accent-light dark:from-primary-dark dark:to-accent-dark"}),f.jsx("div",{className:"space-y-12",children:n.map((i,s)=>f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"hidden md:flex absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-primary-light dark:bg-primary-dark rounded-full border-4 border-white dark:border-gray-900 z-10"}),i.length>1?f.jsx("div",{className:"grid md:grid-cols-2 gap-6 md:gap-8",children:i.map((o,a)=>f.jsx(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:a*.2},children:f.jsxs(L.div,{whileHover:{scale:1.02},className:"card p-6 h-full",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"p-2 bg-primary-light/10 dark:bg-primary-dark/10 rounded-lg",children:f.jsx(Zi,{className:"w-6 h-6 text-primary-light dark:text-primary-dark"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:o.company}),f.jsx("p",{className:"text-base font-semibold text-primary-light dark:text-primary-dark",children:o.position})]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[f.jsx($l,{className:"w-4 h-4"}),f.jsx("span",{children:o.period})]}),f.jsx("ul",{className:"space-y-3 text-gray-700 dark:text-gray-300",children:o.description.map((l,c)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-primary-light dark:text-primary-dark mt-1",children:"•"}),f.jsx("span",{className:"text-sm",children:l})]},c))})]})},a))}):f.jsxs(L.div,{initial:{opacity:0,x:s%2===0?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:`relative flex flex-col md:flex-row gap-8 ${s%2===0?"md:flex-row-reverse":""}`,children:[f.jsx("div",{className:"flex-1",children:f.jsxs(L.div,{whileHover:{scale:1.02},className:"card p-6 md:p-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"p-2 bg-primary-light/10 dark:bg-primary-dark/10 rounded-lg",children:f.jsx(Zi,{className:"w-6 h-6 text-primary-light dark:text-primary-dark"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100",children:i[0].company}),f.jsx("p",{className:"text-lg font-semibold text-primary-light dark:text-primary-dark",children:i[0].position})]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[f.jsx($l,{className:"w-4 h-4"}),f.jsx("span",{children:i[0].period})]}),f.jsx("ul",{className:"space-y-3 text-gray-700 dark:text-gray-300",children:i[0].description.map((o,a)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-primary-light dark:text-primary-dark mt-1",children:"•"}),f.jsx("span",{children:o})]},a))})]})}),f.jsx("div",{className:"hidden md:block flex-1"})]})]},s))})]})})},w3=()=>{const{t}=gt(),e=t("certifications.items",{returnObjects:!0});return f.jsx(Dn,{id:"certifications",title:t("certifications.title"),children:f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((n,r)=>f.jsx(L.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:r*.1},whileHover:{y:-5},className:"card p-6",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"p-3 bg-primary-light/10 dark:bg-primary-dark/10 rounded-lg",children:f.jsx(io,{className:"w-8 h-8 text-primary-light dark:text-primary-dark"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-2",children:n.name}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:n.issuer}),f.jsx("div",{className:"flex items-center gap-2",children:n.status.toLowerCase().includes("certified")||n.status.toLowerCase().includes("certifié")?f.jsxs(f.Fragment,{children:[f.jsx(CA,{className:"w-4 h-4 text-green-500"}),f.jsx("span",{className:"text-sm text-green-500 font-medium",children:n.status})]}):f.jsxs(f.Fragment,{children:[f.jsx(EA,{className:"w-4 h-4 text-red-500"}),f.jsx("span",{className:"text-sm text-red-500 font-medium",children:n.status})]})})]})]})},r))})})},S3=()=>{var m,_,w,y,g;const{t}=gt(),e=t("projects",{returnObjects:!0}),[n,r]=b.useState("professional"),[i,s]=b.useState(0),[o,a]=b.useState(0),l=e[n],c=(l==null?void 0:l.categories)||[],u=v=>{r(v),s(0),a(0)},h=(v,{offset:S,velocity:C})=>{const E=Math.abs(S.x)*C.x;E<-1e4?(a(1),s(T=>T<c.length-1?T+1:0)):E>1e4&&(a(-1),s(T=>T>0?T-1:c.length-1))},d=()=>{a(1),s(v=>v<c.length-1?v+1:0)},p=()=>{a(-1),s(v=>v>0?v-1:c.length-1)};return f.jsxs(Dn,{id:"projects",title:e.title,children:[f.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[f.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u("professional"),className:`px-8 py-3 rounded-lg font-semibold text-lg transition-all duration-300 ${n==="professional"?"bg-gradient-to-r from-primary-light to-accent-light dark:from-primary-dark dark:to-accent-dark text-white shadow-lg":"bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700"}`,children:(m=e.professional)==null?void 0:m.title}),f.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u("personal"),className:`px-8 py-3 rounded-lg font-semibold text-lg transition-all duration-300 ${n==="personal"?"bg-gradient-to-r from-primary-light to-accent-light dark:from-primary-dark dark:to-accent-dark text-white shadow-lg":"bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700"}`,children:(_=e.personal)==null?void 0:_.title})]}),f.jsx("div",{className:"flex flex-wrap gap-3 mb-8 justify-center",children:c.map((v,S)=>f.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{a(S>i?1:-1),s(S)},className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${i===S?"bg-primary-light dark:bg-primary-dark text-white shadow-lg":"bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700"}`,children:v.name},S))}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsx(ea,{mode:"wait",children:f.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.3,onDragEnd:h,className:"grid md:grid-cols-2 gap-6 cursor-grab active:cursor-grabbing",children:(w=c[i])!=null&&w.categories?f.jsx(f.Fragment,{children:c[i].categories.map((v,S)=>f.jsxs("div",{className:"col-span-full",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6 mt-4",children:v.name}),f.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:v.items.map((C,E)=>f.jsxs(L.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!1},transition:{delay:E*.1},whileHover:{scale:1.02},className:"card p-6 border-l-4 border-accent-light dark:border-accent-dark",children:[f.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3",children:C.title}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:C.description}),C.tags&&f.jsx("div",{className:"flex flex-wrap gap-2",children:C.tags.map((T,I)=>f.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-accent-light/10 dark:bg-accent-dark/10 text-accent-light dark:text-accent-dark rounded-full",children:T},I))})]},`sub-${S}-${E}`))})]},`sub-cat-${S}`))}):f.jsx(f.Fragment,{children:(g=(y=c[i])==null?void 0:y.items)==null?void 0:g.map((v,S)=>f.jsxs(L.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!1},transition:{delay:S*.1},whileHover:{scale:1.02},className:"card p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3",children:v.title}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:v.description}),v.tags&&f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:v.tags.map((C,E)=>f.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-primary-light/10 dark:bg-primary-dark/10 text-primary-light dark:text-primary-dark rounded-full",children:C},E))}),v.links&&f.jsxs("div",{className:"flex flex-wrap gap-3",children:[v.links.code&&f.jsxs("a",{href:v.links.code,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-light dark:text-primary-dark hover:underline",onClick:C=>C.stopPropagation(),children:[f.jsx(Hc,{className:"w-4 h-4"}),"Code"]}),v.links.demo&&f.jsxs("a",{href:v.links.demo,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-light dark:text-primary-dark hover:underline",onClick:C=>C.stopPropagation(),children:[f.jsx(Fi,{className:"w-4 h-4"}),"Demo"]})]})]},S))})},`${n}-${i}`)})}),f.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[f.jsx(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p,className:"p-3 rounded-full bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors","aria-label":"Previous category",children:f.jsx(k1,{className:"w-6 h-6"})}),f.jsx(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:d,className:"p-3 rounded-full bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors","aria-label":"Next category",children:f.jsx(C1,{className:"w-6 h-6"})})]})]})},_0=({sectionKey:t})=>{const{t:e}=gt(),n=e(t,{returnObjects:!0}),[r,i]=b.useState(0);if(!n||!n.categories||n.categories.length===0)return null;const s=n.categories[r];return f.jsxs(Dn,{id:t,title:n.title,children:[f.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:n.categories.map((o,a)=>f.jsx("button",{onClick:()=>i(a),className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${r===a?"bg-primary-light dark:bg-primary-dark text-white shadow-lg scale-105":"bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700"}`,children:o.name},a))}),f.jsx(ea,{mode:"wait",children:f.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:s.items&&s.items.length>0?f.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:s.items.map((o,a)=>f.jsxs(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!1},transition:{delay:a*.1},whileHover:{y:-5},className:"card p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3",children:o.title}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:o.description}),o.tags&&o.tags.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:o.tags.map((l,c)=>f.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-primary-light/10 dark:bg-primary-dark/10 text-primary-light dark:text-primary-dark rounded-full",children:l},c))}),o.links&&f.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.links.code&&f.jsxs("a",{href:o.links.code,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-light dark:text-primary-dark hover:underline",children:[f.jsx(Hc,{className:"w-4 h-4"}),"Code"]}),o.links.demo&&f.jsxs("a",{href:o.links.demo,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-light dark:text-primary-dark hover:underline",children:[f.jsx(Fi,{className:"w-4 h-4"}),"Demo"]})]})]},a))}):f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No items in this category yet. Check back soon!"})})},r)})]})},k3=()=>{const{t}=gt(),e=t("showcase",{returnObjects:!0});return!e||typeof e!="object"?null:f.jsx(Dn,{id:"showcase",title:e.title||"Showcase",children:f.jsxs("div",{className:"space-y-12",children:[e.awards&&e.awards.items&&f.jsxs(L.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"card p-6 md:p-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-3 bg-yellow-500/10 rounded-lg",children:f.jsx(io,{className:"w-8 h-8 text-yellow-500"})}),f.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:e.awards.title})]}),f.jsx("ul",{className:"space-y-3",children:e.awards.items.map((n,r)=>f.jsxs(L.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.4,delay:r*.1},className:"flex items-start gap-3 text-gray-700 dark:text-gray-300",children:[f.jsx(io,{className:"w-5 h-5 text-yellow-500 mt-1 flex-shrink-0"}),f.jsx("span",{children:n})]},r))})]}),e.sports&&e.sports.length>0&&f.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.sports.map((n,r)=>f.jsx(L.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:r*.1},className:"card p-6",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-primary-light/10 dark:bg-primary-dark/10 rounded-lg",children:f.jsx(io,{className:"w-6 h-6 text-primary-light dark:text-primary-dark"})}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:n})]})},r))}),e.community&&f.jsxs(L.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5},className:"card p-6 md:p-8 bg-gradient-to-br from-primary-light/10 to-accent-light/10 dark:from-primary-dark/10 dark:to-accent-dark/10",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"p-3 bg-primary-light/20 dark:bg-primary-dark/20 rounded-lg",children:f.jsx(T1,{className:"w-8 h-8 text-primary-light dark:text-primary-dark"})}),f.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:e.community.title})]}),f.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-4",children:e.community.description}),f.jsx("a",{href:e.community.link,target:"_blank",rel:"noopener noreferrer",className:"inline-block text-primary-light dark:text-primary-dark font-semibold hover:underline",children:"View Community Post →"})]}),e.hackathons&&e.hackathons.items&&f.jsxs(L.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"card p-6 md:p-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-3 bg-accent-light/10 dark:bg-accent-dark/10 rounded-lg",children:f.jsx(WA,{className:"w-8 h-8 text-accent-light dark:text-accent-dark"})}),f.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:e.hackathons.title})]}),f.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:e.hackathons.items.map((n,r)=>{const i=typeof n=="string"?{name:n,link:""}:n,s=i.link&&i.link.trim()!=="";return f.jsxs(L.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.3,delay:r*.05},className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-between gap-3 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[f.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:i.name}),s&&f.jsx("a",{href:i.link,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",title:"View hackathon link",children:f.jsx(Fi,{className:"w-4 h-4 text-accent-light dark:text-accent-dark"})})]},r)})})]}),e.events&&(e.events.attended||e.events.conducted)&&f.jsxs(L.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"card p-6 md:p-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg",children:f.jsx($l,{className:"w-8 h-8 text-green-500"})}),f.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:e.events.title})]}),e.events.attended&&e.events.attended.items&&e.events.attended.items.length>0&&f.jsxs("div",{className:"mb-8",children:[f.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:e.events.attended.title}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.events.attended.items.map((n,r)=>{const i=typeof n=="string"?{name:n,link:""}:n,s=i.link&&i.link.trim()!=="";return f.jsxs(L.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.3,delay:r*.05},className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-between gap-3 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[f.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:i.name}),s&&f.jsx("a",{href:i.link,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",title:"View event link",children:f.jsx(Fi,{className:"w-4 h-4 text-green-500"})})]},r)})})]}),e.events.conducted&&e.events.conducted.items&&e.events.conducted.items.length>0&&f.jsxs("div",{children:[f.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:e.events.conducted.title}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.events.conducted.items.map((n,r)=>{const i=typeof n=="string"?{name:n,link:""}:{name:n.title||n.name,link:n.link||""},s=i.link&&i.link.trim()!=="";return f.jsxs(L.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.3,delay:r*.05},className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-between gap-3 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[f.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:i.name}),s&&f.jsx("a",{href:i.link,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",title:"View event link",children:f.jsx(Fi,{className:"w-4 h-4 text-green-500"})})]},r)})})]})]})]})})},C3=()=>{const{t}=gt(),[e,n]=b.useState({email:"",role:"",message:""}),r=s=>{n({...e,[s.target.name]:s.target.value})},i=s=>{s.preventDefault();const o=`Resume Request from ${e.role||"Potential Employer"}`,a=`Hi Jermiah,

I'd like to request your tailored resume for the following role:

Role: ${e.role}
Description: ${e.message}
Contact Email: ${e.email}

Looking forward to hearing from you!`,l=`mailto:jermiah.jerome96@gmail.com?subject=${encodeURIComponent(o)}&body=${encodeURIComponent(a)}`;window.location.href=l};return f.jsx(Dn,{id:"contact",children:f.jsxs(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!1},className:"max-w-2xl mx-auto",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-4 gradient-text",children:t("contact.title","Want to Hire Me?")}),f.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-8 text-lg",children:t("contact.subtitle","Fill out the form below and I'll send you a tailored resume for your role.")}),f.jsxs("form",{onSubmit:i,className:"card p-8 space-y-6",children:[f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"email",className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.jsx(Gc,{className:"w-4 h-4"}),"Your Email Address"]}),f.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:r,required:!0,placeholder:"your.email@company.com",className:"w-full px-4 py-3 rounded-lg bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-light dark:focus:ring-primary-dark focus:border-transparent transition-all"})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"role",className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.jsx(Zi,{className:"w-4 h-4"}),"Role / Position"]}),f.jsx("input",{type:"text",id:"role",name:"role",value:e.role,onChange:r,required:!0,placeholder:"e.g., Senior AI Engineer, ML Researcher",className:"w-full px-4 py-3 rounded-lg bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-light dark:focus:ring-primary-dark focus:border-transparent transition-all"})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"message",className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.jsx(E1,{className:"w-4 h-4"}),"Job Description / Message"]}),f.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:r,required:!0,rows:"4",placeholder:"Brief description of the role, company, or any specific requirements...",className:"w-full px-4 py-3 rounded-lg bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-light dark:focus:ring-primary-dark focus:border-transparent transition-all resize-none"})]}),f.jsxs(L.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-primary-light to-accent-light dark:from-primary-dark dark:to-accent-dark text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",children:[f.jsx(VA,{className:"w-5 h-5"}),"Send Request"]}),f.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 mt-4",children:"This will open your default email client with a pre-filled message"})]})]})})};var _a={};(function t(e,n,r,i){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var k=new OffscreenCanvas(1,1),x=k.getContext("2d");x.fillRect(0,0,1,1);var M=k.transferToImageBitmap();try{x.createPattern(M,"no-repeat")}catch{return!1}return!0}();function l(){}function c(k){var x=n.exports.Promise,M=x!==void 0?x:e.Promise;return typeof M=="function"?new M(k):(k(l,l),null)}var u=function(k,x){return{transform:function(M){if(k)return M;if(x.has(M))return x.get(M);var V=new OffscreenCanvas(M.width,M.height),W=V.getContext("2d");return W.drawImage(M,0,0),x.set(M,V),V},clear:function(){x.clear()}}}(a,new Map),h=function(){var k=Math.floor(16.666666666666668),x,M,V={},W=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(x=function(K){var G=Math.random();return V[G]=requestAnimationFrame(function F(Z){W===Z||W+k-1<Z?(W=Z,delete V[G],K()):V[G]=requestAnimationFrame(F)}),G},M=function(K){V[K]&&cancelAnimationFrame(V[K])}):(x=function(K){return setTimeout(K,k)},M=function(K){return clearTimeout(K)}),{frame:x,cancel:M}}(),d=function(){var k,x,M={};function V(W){function K(G,F){W.postMessage({options:G||{},callback:F})}W.init=function(F){var Z=F.transferControlToOffscreen();W.postMessage({canvas:Z},[Z])},W.fire=function(F,Z,oe){if(x)return K(F,null),x;var we=Math.random().toString(36).slice(2);return x=c(function(ue){function Se(Ue){Ue.data.callback===we&&(delete M[we],W.removeEventListener("message",Se),x=null,u.clear(),oe(),ue())}W.addEventListener("message",Se),K(F,we),M[we]=Se.bind(null,{data:{callback:we}})}),x},W.reset=function(){W.postMessage({reset:!0});for(var F in M)M[F](),delete M[F]}}return function(){if(k)return k;if(!r&&s){var W=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{k=new Worker(URL.createObjectURL(new Blob([W])))}catch(K){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",K),null}V(k)}return k}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function m(k,x){return x?x(k):k}function _(k){return k!=null}function w(k,x,M){return m(k&&_(k[x])?k[x]:p[x],M)}function y(k){return k<0?0:Math.floor(k)}function g(k,x){return Math.floor(Math.random()*(x-k))+k}function v(k){return parseInt(k,16)}function S(k){return k.map(C)}function C(k){var x=String(k).replace(/[^0-9a-f]/gi,"");return x.length<6&&(x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]),{r:v(x.substring(0,2)),g:v(x.substring(2,4)),b:v(x.substring(4,6))}}function E(k){var x=w(k,"origin",Object);return x.x=w(x,"x",Number),x.y=w(x,"y",Number),x}function T(k){k.width=document.documentElement.clientWidth,k.height=document.documentElement.clientHeight}function I(k){var x=k.getBoundingClientRect();k.width=x.width,k.height=x.height}function H(k){var x=document.createElement("canvas");return x.style.position="fixed",x.style.top="0px",x.style.left="0px",x.style.pointerEvents="none",x.style.zIndex=k,x}function P(k,x,M,V,W,K,G,F,Z){k.save(),k.translate(x,M),k.rotate(K),k.scale(V,W),k.arc(0,0,1,G,F,Z),k.restore()}function O(k){var x=k.angle*(Math.PI/180),M=k.spread*(Math.PI/180);return{x:k.x,y:k.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:k.startVelocity*.5+Math.random()*k.startVelocity,angle2D:-x+(.5*M-Math.random()*M),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:k.color,shape:k.shape,tick:0,totalTicks:k.ticks,decay:k.decay,drift:k.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:k.gravity*3,ovalScalar:.6,scalar:k.scalar,flat:k.flat}}function yt(k,x){x.x+=Math.cos(x.angle2D)*x.velocity+x.drift,x.y+=Math.sin(x.angle2D)*x.velocity+x.gravity,x.velocity*=x.decay,x.flat?(x.wobble=0,x.wobbleX=x.x+10*x.scalar,x.wobbleY=x.y+10*x.scalar,x.tiltSin=0,x.tiltCos=0,x.random=1):(x.wobble+=x.wobbleSpeed,x.wobbleX=x.x+10*x.scalar*Math.cos(x.wobble),x.wobbleY=x.y+10*x.scalar*Math.sin(x.wobble),x.tiltAngle+=.1,x.tiltSin=Math.sin(x.tiltAngle),x.tiltCos=Math.cos(x.tiltAngle),x.random=Math.random()+2);var M=x.tick++/x.totalTicks,V=x.x+x.random*x.tiltCos,W=x.y+x.random*x.tiltSin,K=x.wobbleX+x.random*x.tiltCos,G=x.wobbleY+x.random*x.tiltSin;if(k.fillStyle="rgba("+x.color.r+", "+x.color.g+", "+x.color.b+", "+(1-M)+")",k.beginPath(),o&&x.shape.type==="path"&&typeof x.shape.path=="string"&&Array.isArray(x.shape.matrix))k.fill(pe(x.shape.path,x.shape.matrix,x.x,x.y,Math.abs(K-V)*.1,Math.abs(G-W)*.1,Math.PI/10*x.wobble));else if(x.shape.type==="bitmap"){var F=Math.PI/10*x.wobble,Z=Math.abs(K-V)*.1,oe=Math.abs(G-W)*.1,we=x.shape.bitmap.width*x.scalar,ue=x.shape.bitmap.height*x.scalar,Se=new DOMMatrix([Math.cos(F)*Z,Math.sin(F)*Z,-Math.sin(F)*oe,Math.cos(F)*oe,x.x,x.y]);Se.multiplySelf(new DOMMatrix(x.shape.matrix));var Ue=k.createPattern(u.transform(x.shape.bitmap),"no-repeat");Ue.setTransform(Se),k.globalAlpha=1-M,k.fillStyle=Ue,k.fillRect(x.x-we/2,x.y-ue/2,we,ue),k.globalAlpha=1}else if(x.shape==="circle")k.ellipse?k.ellipse(x.x,x.y,Math.abs(K-V)*x.ovalScalar,Math.abs(G-W)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI):P(k,x.x,x.y,Math.abs(K-V)*x.ovalScalar,Math.abs(G-W)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI);else if(x.shape==="star")for(var ee=Math.PI/2*3,ct=4*x.scalar,jt=8*x.scalar,Ft=x.x,pn=x.y,br=5,en=Math.PI/br;br--;)Ft=x.x+Math.cos(ee)*jt,pn=x.y+Math.sin(ee)*jt,k.lineTo(Ft,pn),ee+=en,Ft=x.x+Math.cos(ee)*ct,pn=x.y+Math.sin(ee)*ct,k.lineTo(Ft,pn),ee+=en;else k.moveTo(Math.floor(x.x),Math.floor(x.y)),k.lineTo(Math.floor(x.wobbleX),Math.floor(W)),k.lineTo(Math.floor(K),Math.floor(G)),k.lineTo(Math.floor(V),Math.floor(x.wobbleY));return k.closePath(),k.fill(),x.tick<x.totalTicks}function et(k,x,M,V,W){var K=x.slice(),G=k.getContext("2d"),F,Z,oe=c(function(we){function ue(){F=Z=null,G.clearRect(0,0,V.width,V.height),u.clear(),W(),we()}function Se(){r&&!(V.width===i.width&&V.height===i.height)&&(V.width=k.width=i.width,V.height=k.height=i.height),!V.width&&!V.height&&(M(k),V.width=k.width,V.height=k.height),G.clearRect(0,0,V.width,V.height),K=K.filter(function(Ue){return yt(G,Ue)}),K.length?F=h.frame(Se):ue()}F=h.frame(Se),Z=ue});return{addFettis:function(we){return K=K.concat(we),oe},canvas:k,promise:oe,reset:function(){F&&h.cancel(F),Z&&Z()}}}function Ne(k,x){var M=!k,V=!!w(x||{},"resize"),W=!1,K=w(x,"disableForReducedMotion",Boolean),G=s&&!!w(x||{},"useWorker"),F=G?d():null,Z=M?T:I,oe=k&&F?!!k.__confetti_initialized:!1,we=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ue;function Se(ee,ct,jt){for(var Ft=w(ee,"particleCount",y),pn=w(ee,"angle",Number),br=w(ee,"spread",Number),en=w(ee,"startVelocity",Number),zk=w(ee,"decay",Number),Wk=w(ee,"gravity",Number),$k=w(ee,"drift",Number),Cm=w(ee,"colors",S),Hk=w(ee,"ticks",Number),bm=w(ee,"shapes"),Gk=w(ee,"scalar"),Kk=!!w(ee,"flat"),Em=E(ee),Tm=Ft,fu=[],qk=k.width*Em.x,Qk=k.height*Em.y;Tm--;)fu.push(O({x:qk,y:Qk,angle:pn,spread:br,startVelocity:en,color:Cm[Tm%Cm.length],shape:bm[g(0,bm.length)],ticks:Hk,decay:zk,gravity:Wk,drift:$k,scalar:Gk,flat:Kk}));return ue?ue.addFettis(fu):(ue=et(k,fu,Z,ct,jt),ue.promise)}function Ue(ee){var ct=K||w(ee,"disableForReducedMotion",Boolean),jt=w(ee,"zIndex",Number);if(ct&&we)return c(function(en){en()});M&&ue?k=ue.canvas:M&&!k&&(k=H(jt),document.body.appendChild(k)),V&&!oe&&Z(k);var Ft={width:k.width,height:k.height};F&&!oe&&F.init(k),oe=!0,F&&(k.__confetti_initialized=!0);function pn(){if(F){var en={getBoundingClientRect:function(){if(!M)return k.getBoundingClientRect()}};Z(en),F.postMessage({resize:{width:en.width,height:en.height}});return}Ft.width=Ft.height=null}function br(){ue=null,V&&(W=!1,e.removeEventListener("resize",pn)),M&&k&&(document.body.contains(k)&&document.body.removeChild(k),k=null,oe=!1)}return V&&!W&&(W=!0,e.addEventListener("resize",pn,!1)),F?F.fire(ee,Ft,br):Se(ee,Ft,br)}return Ue.reset=function(){F&&F.reset(),ue&&ue.reset()},Ue}var lt;function Tt(){return lt||(lt=Ne(null,{useWorker:!0,resize:!0})),lt}function pe(k,x,M,V,W,K,G){var F=new Path2D(k),Z=new Path2D;Z.addPath(F,new DOMMatrix(x));var oe=new Path2D;return oe.addPath(Z,new DOMMatrix([Math.cos(G)*W,Math.sin(G)*W,-Math.sin(G)*K,Math.cos(G)*K,M,V])),oe}function A(k){if(!o)throw new Error("path confetti are not supported in this browser");var x,M;typeof k=="string"?x=k:(x=k.path,M=k.matrix);var V=new Path2D(x),W=document.createElement("canvas"),K=W.getContext("2d");if(!M){for(var G=1e3,F=G,Z=G,oe=0,we=0,ue,Se,Ue=0;Ue<G;Ue+=2)for(var ee=0;ee<G;ee+=2)K.isPointInPath(V,Ue,ee,"nonzero")&&(F=Math.min(F,Ue),Z=Math.min(Z,ee),oe=Math.max(oe,Ue),we=Math.max(we,ee));ue=oe-F,Se=we-Z;var ct=10,jt=Math.min(ct/ue,ct/Se);M=[jt,0,0,jt,-Math.round(ue/2+F)*jt,-Math.round(Se/2+Z)*jt]}return{type:"path",path:x,matrix:M}}function j(k){var x,M=1,V="#000000",W='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof k=="string"?x=k:(x=k.text,M="scalar"in k?k.scalar:M,W="fontFamily"in k?k.fontFamily:W,V="color"in k?k.color:V);var K=10*M,G=""+K+"px "+W,F=new OffscreenCanvas(K,K),Z=F.getContext("2d");Z.font=G;var oe=Z.measureText(x),we=Math.ceil(oe.actualBoundingBoxRight+oe.actualBoundingBoxLeft),ue=Math.ceil(oe.actualBoundingBoxAscent+oe.actualBoundingBoxDescent),Se=2,Ue=oe.actualBoundingBoxLeft+Se,ee=oe.actualBoundingBoxAscent+Se;we+=Se+Se,ue+=Se+Se,F=new OffscreenCanvas(we,ue),Z=F.getContext("2d"),Z.font=G,Z.fillStyle=V,Z.fillText(x,Ue,ee);var ct=1/M;return{type:"bitmap",bitmap:F.transferToImageBitmap(),matrix:[ct,0,0,ct,-we*ct/2,-ue*ct/2]}}n.exports=function(){return Tt().apply(this,arguments)},n.exports.reset=function(){Tt().reset()},n.exports.create=Ne,n.exports.shapeFromPath=A,n.exports.shapeFromText=j})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),_a,!1);const md=_a.exports;_a.exports.create;const b3=()=>{try{const t=document.createElement("canvas"),e=t.getContext("2d"),n="Portfolio Fingerprint 🎨";return e.textBaseline="top",e.font="14px Arial",e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.fillText(n,2,15),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText(n,4,17),t.toDataURL()}catch{return"canvas_unsupported"}},E3=()=>{try{const t=document.createElement("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl");if(!e)return"webgl_unsupported";const n=e.getExtension("WEBGL_debug_renderer_info"),r=e.getParameter(n.UNMASKED_VENDOR_WEBGL),i=e.getParameter(n.UNMASKED_RENDERER_WEBGL);return`${r}~${i}`}catch{return"webgl_unsupported"}},T3=()=>`${screen.width}x${screen.height}x${screen.colorDepth}`,I3=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,P3=()=>{var t;return`${navigator.language}|${((t=navigator.languages)==null?void 0:t.join(","))||""}`},N3=()=>`${navigator.platform}|${navigator.userAgent}`,A3=()=>{try{return navigator.plugins&&navigator.plugins.length>0?Array.from(navigator.plugins).map(t=>t.name).join(","):"no_plugins"}catch{return"plugins_error"}},R3=t=>{let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return Math.abs(e).toString(36)},L3=()=>{try{const e=[b3(),E3(),T3(),I3(),P3(),N3(),A3()].join("|"),n=R3(e);return console.log("🔐 Browser fingerprint generated:",n),n}catch(t){return console.error("❌ Error generating fingerprint:",t),"fallback_"+Math.random().toString(36).substring(2,15)}},M3=()=>{const t="browser_fingerprint";let e=localStorage.getItem(t);return e||(e=L3(),localStorage.setItem(t,e)),e},D3=({isOpen:t,onClose:e})=>{const[n,r]=b.useState({name:"",linkedIn:"",role:"",text:""}),[i,s]=b.useState(!1),[o,a]=b.useState(!1),[l,c]=b.useState(""),[u,h]=b.useState(!1);b.useEffect(()=>{localStorage.getItem("hasWrittenTestimonial")==="true"&&h(!0)},[]);const d=async m=>{if(m.preventDefault(),c(""),u){c("You have already written a recommendation. Thank you! 💖");return}if(!n.name.trim()||!n.text.trim()){c("Name and testimonial text are required");return}if(n.text.length<20){c("Testimonial must be at least 20 characters");return}if(n.text.length>500){c("Testimonial must be less than 500 characters");return}s(!0);try{await m3({name:n.name.trim(),linkedIn:n.linkedIn.trim(),role:n.role.trim(),text:n.text.trim()}),localStorage.setItem("hasWrittenTestimonial","true"),h(!0),a(!0),setTimeout(()=>{r({name:"",linkedIn:"",role:"",text:""}),a(!1),e()},2e3)}catch(_){c("Failed to submit testimonial. Please try again."),console.error(_)}finally{s(!1)}},p=m=>{r({...n,[m.target.name]:m.target.value})};return t?f.jsx(ea,{children:f.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:f.jsxs(L.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",onClick:m=>m.stopPropagation(),children:[f.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Write a Recommendation"}),f.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:f.jsx(Hl,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),u&&!o?f.jsxs(L.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"p-8 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"w-10 h-10 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Already Recommended! 💖"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You have already written a recommendation. Thank you so much for your support!"}),f.jsx("button",{onClick:e,className:"mt-6 px-6 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-colors",children:"Close"})]}):o?f.jsxs(L.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"p-8 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Thank You!"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your recommendation has been submitted and will be reviewed soon."})]}):f.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.jsx(zA,{className:"inline w-4 h-4 mr-1"}),"Your Name *"]}),f.jsx("input",{type:"text",name:"name",value:n.name,onChange:p,placeholder:"John Doe",required:!0,maxLength:50,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.jsx(sa,{className:"inline w-4 h-4 mr-1"}),"LinkedIn Profile"]}),f.jsx("input",{type:"url",name:"linkedIn",value:n.linkedIn,onChange:p,placeholder:"https://linkedin.com/in/johndoe",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.jsx(Zi,{className:"inline w-4 h-4 mr-1"}),"Your Role/Title (optional)"]}),f.jsx("input",{type:"text",name:"role",value:n.role,onChange:p,placeholder:"Software Engineer at Company",maxLength:100,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.jsx(E1,{className:"inline w-4 h-4 mr-1"}),"Your Recommendation *"]}),f.jsx("textarea",{name:"text",value:n.text,onChange:p,placeholder:"Share your experience working with Jermiah...",required:!0,rows:5,minLength:20,maxLength:500,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[n.text.length,"/500 characters (minimum 20)"]})]}),l&&f.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:f.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),f.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:f.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Your recommendation will be reviewed before appearing on the site."})}),f.jsx("button",{type:"submit",disabled:i,className:"w-full py-3 px-6 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Submitting...":"Submit Recommendation"})]})]})})}):null},O3=()=>{const{t}=gt(),[e,n]=b.useState(0),[r,i]=b.useState(0),[s,o]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState(!1),[h,d]=b.useState(!1);b.useEffect(()=>{localStorage.getItem("hasRecommended")==="true"&&o(!0);const _=Vk(y=>{n(y)}),w=km(y=>{i(y.length)});return()=>{_(),w()}},[]);const p=async()=>{if(s){console.log("🚫 Blocked by localStorage: User already recommended"),l(!0),setTimeout(()=>l(!1),3e3);return}if(!c){u(!0);try{const m=M3();if(console.log("🔐 Checking fingerprint:",m),await Fk(m)){console.log("🚫 Blocked by Firebase: User already recommended"),o(!0),localStorage.setItem("hasRecommended","true"),l(!0),setTimeout(()=>l(!1),3e3);return}console.log("✅ New user - Adding recommendation");const w=await h3(m);n(w),o(!0),localStorage.setItem("hasRecommended","true"),md({particleCount:100,spread:70,origin:{y:.6},colors:["#3b82f6","#8b5cf6","#ec4899","#f59e0b"]}),setTimeout(()=>{md({particleCount:50,angle:60,spread:55,origin:{x:0},colors:["#3b82f6","#8b5cf6"]})},200),setTimeout(()=>{md({particleCount:50,angle:120,spread:55,origin:{x:1},colors:["#ec4899","#f59e0b"]})},400)}catch(m){console.error("Failed to increment recommendations:",m),m.message==="USER_ALREADY_RECOMMENDED"?(o(!0),localStorage.setItem("hasRecommended","true"),l(!0),setTimeout(()=>l(!1),3e3)):alert("Failed to save recommendation. Please check your internet connection and Firebase configuration.")}finally{u(!1)}}};return f.jsxs("div",{className:"fixed bottom-4 right-4 md:bottom-8 md:right-8 z-40 flex flex-col gap-3 md:gap-4",children:[f.jsxs(L.button,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>d(!0),className:"group relative p-3 md:p-4 rounded-full shadow-2xl transition-all duration-300 bg-gradient-to-r from-purple-500 to-pink-500 hover:shadow-purple-500/50 text-white",children:[f.jsx(b1,{className:"w-5 h-5 md:w-8 md:h-8"}),localStorage.getItem("hasWrittenTestimonial")!=="true"&&f.jsx(L.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},className:"absolute right-full mr-2 md:mr-3 top-1/2 -translate-y-1/2 bg-gray-800/70 dark:bg-gray-700/70 backdrop-blur-sm text-white/90 px-2 py-1 md:px-3 md:py-1.5 rounded-md shadow-md whitespace-nowrap font-medium text-[10px] md:text-xs",children:"Write Recommendation"}),r>0&&f.jsx(L.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-white dark:bg-gray-900 text-purple-500 dark:text-purple-400 rounded-full w-6 h-6 md:w-8 md:h-8 flex items-center justify-center text-xs md:text-sm font-bold border-2 border-purple-500 shadow-lg",children:r}),localStorage.getItem("hasWrittenTestimonial")==="true"&&f.jsx("div",{className:"absolute right-full mr-3 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:f.jsxs("div",{className:"bg-gray-900 dark:bg-gray-800 text-white text-sm px-4 py-2 rounded-lg shadow-xl whitespace-nowrap",children:[f.jsx("p",{className:"font-medium",children:"Already Written! 💖"}),f.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Thank you for your recommendation"})]})})]}),f.jsxs(L.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},className:"relative",children:[f.jsx(ea,{children:a&&f.jsxs(L.div,{initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.8},className:"absolute bottom-full right-0 mb-4 bg-gradient-to-r from-pink-500 to-red-500 text-white px-6 py-3 rounded-lg shadow-2xl whitespace-nowrap",children:[f.jsx("p",{className:"font-semibold text-sm",children:"You already loved my profile! 💖"}),f.jsx("p",{className:"text-xs mt-1",children:"Heartful thanks with love ❤️"})]})}),f.jsxs(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p,disabled:c,className:`group relative p-3 md:p-4 rounded-full shadow-2xl transition-all duration-300 ${s?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-red-500 hover:shadow-pink-500/50"} ${c?"opacity-50 cursor-wait":""} text-white`,children:[!s&&!c&&f.jsx(L.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},className:"absolute right-full mr-2 md:mr-3 top-1/2 -translate-y-1/2 bg-gray-800/70 dark:bg-gray-700/70 backdrop-blur-sm text-white/90 px-2 py-1 md:px-3 md:py-1.5 rounded-md shadow-md whitespace-nowrap font-medium text-[10px] md:text-xs",children:"Love My Profile"}),c&&f.jsx(L.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},className:"absolute right-full mr-2 md:mr-3 top-1/2 -translate-y-1/2 bg-blue-500/70 backdrop-blur-sm text-white px-2 py-1 md:px-3 md:py-1.5 rounded-md shadow-md whitespace-nowrap font-medium text-[10px] md:text-xs",children:"Saving..."}),f.jsx(L.div,{animate:s||c?{}:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:f.jsx(Tp,{className:"w-5 h-5 md:w-8 md:h-8 fill-current"})}),e>0&&f.jsx(L.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-white dark:bg-gray-900 text-pink-500 dark:text-pink-400 rounded-full w-6 h-6 md:w-8 md:h-8 flex items-center justify-center text-xs md:text-sm font-bold border-2 border-pink-500 shadow-lg",children:e})]}),s&&f.jsx("div",{className:"absolute right-full mr-3 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:f.jsxs("div",{className:"bg-gray-900 dark:bg-gray-800 text-white text-sm px-4 py-2 rounded-lg shadow-xl whitespace-nowrap",children:[f.jsx("p",{className:"font-medium",children:"Already Loved! 💖"}),f.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Thank you for your love"})]})})]}),f.jsx(D3,{isOpen:h,onClose:()=>d(!1)})]})},j3=()=>{const{t}=gt(),e=[{name:"GitHub",url:"https://github.com/jermiah",icon:f.jsx(Hc,{className:"w-5 h-5"})},{name:"LinkedIn",url:"https://www.linkedin.com/in/jermiah-jerome/",icon:f.jsx(sa,{className:"w-5 h-5"})},{name:"Email",url:"mailto:jermiah.jerome96@gmail.com",icon:f.jsx(Gc,{className:"w-5 h-5"})}];return f.jsx("footer",{className:"bg-gray-100 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-3 md:py-5",children:[f.jsx(L.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-3",children:f.jsx("div",{className:"inline-block p-2 md:p-3 bg-gradient-to-r from-primary-light/10 to-accent-light/10 dark:from-primary-dark/10 dark:to-accent-dark/10 rounded-xl",children:f.jsx("p",{className:"text-xs md:text-sm text-gray-700 dark:text-gray-300 max-w-2xl mx-auto",children:t("footer.message")})})}),f.jsx(L.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"flex justify-center gap-3 mb-3",children:e.map((n,r)=>f.jsx(L.a,{whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},href:n.url,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 bg-white dark:bg-gray-800 rounded-full shadow-md hover:shadow-lg transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-primary-light dark:hover:text-primary-dark","aria-label":n.name,children:n.icon},r))}),f.jsx(L.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.4},className:"text-center text-gray-600 dark:text-gray-400",children:f.jsxs("p",{className:"flex items-center justify-center gap-1.5 text-xs",children:[t("footer.copyright").split("❤️")[0],f.jsx(Tp,{className:"w-2.5 h-2.5 text-red-500 fill-current animate-pulse"}),t("footer.copyright").split("❤️")[1]]})}),f.jsx(L.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.6},className:"text-center mt-3",children:f.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-primary-light dark:text-primary-dark font-medium hover:underline text-xs",children:"↑ Back to Top"})})]})})},F3=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,a]=b.useState(""),[l,c]=b.useState([]),[u,h]=b.useState(!1),[d,p]=b.useState(null),[m,_]=b.useState({}),[w,y]=b.useState(!0);b.useEffect(()=>{if(!Lr){y(!1);return}const P=JO(Lr,O=>{O?(console.log("✅ User authenticated:",O.email),e(!0)):(console.log("❌ User not authenticated"),e(!1)),y(!1)});return()=>P()},[]),b.useEffect(()=>{if(!t||!Re)return;const P=sn(Re,"testimonials"),O=ma(P,yt=>{const et=[];yt.forEach(Ne=>{et.push({id:Ne.key,...Ne.val()})}),et.sort((Ne,lt)=>(lt.timestamp||0)-(Ne.timestamp||0)),c(et)});return()=>O()},[t]);const g=async P=>{if(P.preventDefault(),a(""),h(!0),!Lr){a("Firebase Authentication not initialized"),h(!1);return}try{await qO(Lr,n,i),console.log("✅ Login successful"),r(""),s("")}catch(O){console.error("❌ Login error:",O),O.code==="auth/invalid-credential"||O.code==="auth/wrong-password"?a("Invalid email or password"):O.code==="auth/user-not-found"?a("No admin account found. Please create one in Firebase Console."):O.code==="auth/invalid-email"?a("Invalid email address"):O.code==="auth/too-many-requests"?a("Too many failed attempts. Please try again later."):a(`Login failed: ${O.message}`)}finally{h(!1)}},v=async()=>{if(Lr)try{await XO(Lr),console.log("✅ Logout successful")}catch(P){console.error("❌ Logout error:",P)}},S=async P=>{if(Re){h(!0);try{const O=sn(Re,`testimonials/${P}`);await dd(O,{approved:!0}),console.log("✅ Testimonial approved:",P)}catch(O){console.error("❌ Error approving testimonial:",O),alert("Failed to approve testimonial")}finally{h(!1)}}},C=async P=>{if(Re){h(!0);try{const O=sn(Re,`testimonials/${P}`);await dd(O,{approved:!1}),console.log("✅ Testimonial rejected:",P)}catch(O){console.error("❌ Error rejecting testimonial:",O),alert("Failed to reject testimonial")}finally{h(!1)}}},E=P=>{p(P.id),_({name:P.name||"",role:P.role||"",linkedIn:P.linkedIn||"",text:P.text||""})},T=()=>{p(null),_({})},I=async P=>{if(Re){h(!0);try{const O=sn(Re,`testimonials/${P}`);await dd(O,{name:m.name,role:m.role,linkedIn:m.linkedIn,text:m.text}),console.log("✅ Testimonial updated:",P),p(null),_({}),alert("✅ Testimonial updated successfully!")}catch(O){console.error("❌ Error updating testimonial:",O),alert(`❌ Failed to update testimonial: ${O.message}`)}finally{h(!1)}}},H=P=>P?new Date(P).toLocaleString():"Unknown date";return w?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:f.jsxs("div",{className:"text-white text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"Loading..."})]})}):t?f.jsx("div",{className:"min-h-screen bg-gray-900 py-8 px-4",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-white",children:"Testimonial Management"}),f.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-lg transition-colors",children:[f.jsx(LA,{className:"w-4 h-4"}),"Logout"]})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[f.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[f.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total"}),f.jsx("p",{className:"text-3xl font-bold text-white",children:l.length})]}),f.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-lg p-6",children:[f.jsx("p",{className:"text-green-400 text-sm mb-1",children:"Approved"}),f.jsx("p",{className:"text-3xl font-bold text-green-400",children:l.filter(P=>P.approved===!0).length})]}),f.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-lg p-6",children:[f.jsx("p",{className:"text-yellow-400 text-sm mb-1",children:"Pending"}),f.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:l.filter(P=>P.approved!==!0).length})]})]}),f.jsx("div",{className:"space-y-4",children:l.length===0?f.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[f.jsx(PA,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"No testimonials yet"})]}):l.map(P=>f.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gray-800 rounded-lg p-6 border-l-4 ${P.approved===!0?"border-green-500":"border-yellow-500"}`,children:d===P.id?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),f.jsx("input",{type:"text",value:m.name,onChange:O=>_({...m,name:O.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Role"}),f.jsx("input",{type:"text",value:m.role,onChange:O=>_({...m,role:O.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"LinkedIn"}),f.jsx("input",{type:"url",value:m.linkedIn,onChange:O=>_({...m,linkedIn:O.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Testimonial"}),f.jsx("textarea",{value:m.text,onChange:O=>_({...m,text:O.target.value}),rows:4,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white resize-none"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("button",{onClick:()=>I(P.id),disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(FA,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:T,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(Hl,{className:"w-4 h-4"}),"Cancel"]})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("h3",{className:"text-xl font-semibold text-white",children:P.name}),P.linkedIn&&f.jsx("a",{href:P.linkedIn,target:"_blank",rel:"noopener noreferrer",className:"p-1 hover:bg-gray-700 rounded transition-colors",children:f.jsx(sa,{className:"w-4 h-4 text-blue-400"})})]}),P.role&&f.jsx("p",{className:"text-gray-400 text-sm mb-2",children:P.role}),f.jsx("p",{className:"text-xs text-gray-500",children:H(P.timestamp)})]}),f.jsx("div",{children:P.approved===!0?f.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 text-xs font-medium rounded-full",children:"Approved"}):f.jsx("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-400 text-xs font-medium rounded-full",children:"Pending"})})]}),f.jsx("div",{className:"bg-gray-900 rounded-lg p-4 mb-4",children:f.jsxs("p",{className:"text-gray-300 text-sm leading-relaxed",children:['"',P.text,'"']})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("button",{onClick:()=>E(P),disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(IA,{className:"w-4 h-4"}),"Edit"]}),P.approved!==!0&&f.jsxs("button",{onClick:()=>S(P.id),disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(bA,{className:"w-4 h-4"}),"Approve"]}),P.approved===!0&&f.jsxs("button",{onClick:()=>C(P.id),disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(Hl,{className:"w-4 h-4"}),"Reject"]})]})]})},P.id))})]})}):f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 px-4",children:f.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[f.jsx("div",{className:"flex items-center justify-center mb-6",children:f.jsx("div",{className:"p-4 bg-blue-500/20 rounded-full",children:f.jsx(sv,{className:"w-8 h-8 text-blue-400"})})}),f.jsx("h1",{className:"text-2xl font-bold text-white text-center mb-2",children:"Admin Panel"}),f.jsx("p",{className:"text-sm text-gray-400 text-center mb-6",children:"Sign in with your Firebase admin account"}),f.jsxs("form",{onSubmit:g,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[f.jsx(Gc,{className:"inline mr-2"}),"Email Address"]}),f.jsx("input",{type:"email",value:n,onChange:P=>r(P.target.value),placeholder:"admin@example.com",className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:u})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[f.jsx(sv,{className:"inline mr-2"}),"Password"]}),f.jsx("input",{type:"password",value:i,onChange:P=>s(P.target.value),placeholder:"Enter your password",className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:u})]}),o&&f.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500 rounded-lg",children:f.jsx("p",{className:"text-sm text-red-400",children:o})}),f.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-500/50 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",children:u?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Signing in..."]}):"Sign In"})]}),f.jsxs("div",{className:"mt-6 p-4 bg-gray-900 rounded-lg border border-gray-700",children:[f.jsx("p",{className:"text-xs text-gray-400 mb-2",children:f.jsx("strong",{className:"text-gray-300",children:"First time setup?"})}),f.jsxs("ol",{className:"text-xs text-gray-400 space-y-1 list-decimal list-inside",children:[f.jsx("li",{children:"Go to Firebase Console"}),f.jsx("li",{children:"Navigate to Authentication"}),f.jsx("li",{children:"Enable Email/Password sign-in"}),f.jsx("li",{children:"Add a new user with admin email"})]})]})]})})};function V3(){const{i18n:t}=gt(),[e,n]=b.useState(!0),[r,i]=b.useState(!1);b.useEffect(()=>{const o=window.location.hash;i(o==="#admin");const a=()=>{i(window.location.hash==="#admin")};return window.addEventListener("hashchange",a),()=>window.removeEventListener("hashchange",a)},[]),b.useEffect(()=>{const a=localStorage.getItem("theme")!=="light";n(a),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const s=()=>{const o=!e;n(o),o?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return r?f.jsx(F3,{}):f.jsxs("div",{className:"min-h-screen relative",children:[f.jsx(WE,{isDark:e}),f.jsx($A,{isDark:e,toggleTheme:s}),f.jsxs("main",{children:[f.jsx(g3,{}),f.jsx(y3,{}),f.jsx(v3,{}),f.jsx(_3,{}),f.jsx(x3,{}),f.jsx(w3,{}),f.jsx(S3,{}),f.jsx(_0,{sectionKey:"research"}),f.jsx(_0,{sectionKey:"opensource"}),f.jsx(k3,{}),f.jsx(C3,{})]}),f.jsx(j3,{}),f.jsx(O3,{})]})}const $=t=>typeof t=="string",Ds=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},x0=t=>t==null?"":""+t,U3=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},B3=/###/g,w0=t=>t&&t.indexOf("###")>-1?t.replace(B3,"."):t,S0=t=>!t||$(t),fo=(t,e,n)=>{const r=$(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(S0(t))return{};const s=w0(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return S0(t)?{}:{obj:t,k:w0(r[i])}},k0=(t,e,n)=>{const{obj:r,k:i}=fo(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=fo(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=fo(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},z3=(t,e,n,r)=>{const{obj:i,k:s}=fo(t,e,Object);i[s]=i[s]||[],i[s].push(n)},_c=(t,e)=>{const{obj:n,k:r}=fo(t,e);if(n)return n[r]},W3=(t,e,n)=>{const r=_c(t,n);return r!==void 0?r:_c(e,n)},Uk=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?$(t[r])||t[r]instanceof String||$(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Uk(t[r],e[r],n):t[r]=e[r]);return t},di=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var $3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const H3=t=>$(t)?t.replace(/[&<>"'\/]/g,e=>$3[e]):t;class G3{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const K3=[" ",",","?","!",";"],q3=new G3(20),Q3=(t,e,n)=>{e=e||"",n=n||"";const r=K3.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=q3.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},Jh=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},xc=t=>t&&t.replace("_","-"),Y3={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class wc{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||Y3,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:($(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new wc(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new wc(this.logger,e)}}var on=new wc;class hu{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a.apply(a,[e,...r])})}}class C0 extends hu{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):$(r)&&s?a.push(...r.split(s)):a.push(r)));const l=_c(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!$(r)?l:Jh(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),k0(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)($(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=_c(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Uk(l,r,s):l={...l,...r},k0(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var Bk={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const b0={};class Sc extends hu{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),U3(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=on.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Q3(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:$(s)?[s]:s};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return{key:e,namespaces:$(s)?[s]:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1],c=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const S=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${S}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${S}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const h=this.resolve(e,n);let d=h&&h.res;const p=h&&h.usedKey||o,m=h&&h.exactUsedKey||o,_=Object.prototype.toString.apply(d),w=["[object Number]","[object Function]","[object RegExp]"],y=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,v=!$(d)&&typeof d!="boolean"&&typeof d!="number";if(g&&d&&v&&w.indexOf(_)<0&&!($(y)&&Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(h.res=S,h.usedParams=this.getUsedParamsDetails(n),h):S}if(s){const S=Array.isArray(d),C=S?[]:{},E=S?m:p;for(const T in d)if(Object.prototype.hasOwnProperty.call(d,T)){const I=`${E}${s}${T}`;C[T]=this.translate(I,{...n,joinArrays:!1,ns:a}),C[T]===I&&(C[T]=d[T])}d=C}}else if(g&&$(y)&&Array.isArray(d))d=d.join(y),d&&(d=this.extendTranslation(d,e,n,r));else{let S=!1,C=!1;const E=n.count!==void 0&&!$(n.count),T=Sc.hasDefaultValue(n),I=E?this.pluralResolver.getSuffix(c,n.count,n):"",H=n.ordinal&&E?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",P=E&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),O=P&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${I}`]||n[`defaultValue${H}`]||n.defaultValue;!this.isValidLookup(d)&&T&&(S=!0,d=O),this.isValidLookup(d)||(C=!0,d=o);const et=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&C?void 0:d,Ne=T&&O!==d&&this.options.updateMissing;if(C||S||Ne){if(this.logger.log(Ne?"updateKey":"missingKey",c,l,o,Ne?O:d),s){const A=this.resolve(o,{...n,keySeparator:!1});A&&A.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let lt=[];const Tt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Tt&&Tt[0])for(let A=0;A<Tt.length;A++)lt.push(Tt[A]);else this.options.saveMissingTo==="all"?lt=this.languageUtils.toResolveHierarchy(n.lng||this.language):lt.push(n.lng||this.language);const pe=(A,j,k)=>{const x=T&&k!==d?k:et;this.options.missingKeyHandler?this.options.missingKeyHandler(A,l,j,x,Ne,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(A,l,j,x,Ne,n),this.emit("missingKey",A,l,j,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?lt.forEach(A=>{const j=this.pluralResolver.getSuffixes(A,n);P&&n[`defaultValue${this.options.pluralSeparator}zero`]&&j.indexOf(`${this.options.pluralSeparator}zero`)<0&&j.push(`${this.options.pluralSeparator}zero`),j.forEach(k=>{pe([A],o+k,n[`defaultValue${k}`]||O)})}):pe(lt,o,O))}d=this.extendTranslation(d,e,n,h,r),C&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${o}`),(C||S)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,S?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(h.res=d,h.usedParams=this.getUsedParamsDetails(n),h):d}extendTranslation(e,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=$(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const d=e.match(this.interpolator.nestingRegexp);u=d&&d.length}let h=r.replace&&!$(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),c){const d=e.match(this.interpolator.nestingRegexp),p=d&&d.length;u<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return s&&s[0]===p[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):o.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=$(a)?[a]:a;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=Bk.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,a;return $(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const d=n.count!==void 0&&!$(n.count),p=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),m=n.context!==void 0&&($(n.context)||typeof n.context=="number")&&n.context!=="",_=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(w=>{this.isValidLookup(r)||(a=w,!b0[`${_[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(b0[`${_[0]}-${w}`]=!0,this.logger.warn(`key "${i}" for languages "${_.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),_.forEach(y=>{if(this.isValidLookup(r))return;o=y;const g=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(g,u,y,w,n);else{let S;d&&(S=this.pluralResolver.getSuffix(y,n.count,n));const C=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(g.push(u+S),n.ordinal&&S.indexOf(E)===0&&g.push(u+S.replace(E,this.options.pluralSeparator)),p&&g.push(u+C)),m){const T=`${u}${this.options.contextSeparator}${n.context}`;g.push(T),d&&(g.push(T+S),n.ordinal&&S.indexOf(E)===0&&g.push(T+S.replace(E,this.options.pluralSeparator)),p&&g.push(T+C))}}let v;for(;v=g.pop();)this.isValidLookup(r)||(s=v,r=this.getResource(y,w,v,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!$(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const gd=t=>t.charAt(0).toUpperCase()+t.slice(1);class E0{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=on.create("languageUtils")}getScriptPartFromCode(e){if(e=xc(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=xc(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if($(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=gd(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=gd(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=gd(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),$(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return $(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):$(e)&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let J3=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],X3={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Z3=["v1","v2","v3"],eF=["v4"],T0={zero:0,one:1,two:2,few:3,many:4,other:5},tF=()=>{const t={};return J3.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:X3[e.fc]}})}),t};class nF{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=on.create("pluralResolver"),(!this.options.compatibilityJSON||eF.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=tF(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=xc(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[s]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>T0[i]-T0[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Z3.includes(this.options.compatibilityJSON)}}const I0=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=W3(t,e,n);return!s&&i&&$(n)&&(s=Jh(t,n,r),s===void 0&&(s=Jh(e,n,r))),s},yd=t=>t.replace(/\$/g,"$$$$");class rF{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=on.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:_,nestingOptionsSeparator:w,maxReplaces:y,alwaysFormat:g}=e.interpolation;this.escape=n!==void 0?n:H3,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?di(s):o||"{{",this.suffix=a?di(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=d?di(d):p||di("$t("),this.nestingSuffix=m?di(m):_||di(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=y||1e3,this.alwaysFormat=g!==void 0?g:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=p=>{if(p.indexOf(this.formatSeparator)<0){const y=I0(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...n,interpolationkey:p}):y}const m=p.split(this.formatSeparator),_=m.shift().trim(),w=m.join(this.formatSeparator).trim();return this.format(I0(n,l,_,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...i,...n,interpolationkey:_})};this.resetRegExp();const u=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>yd(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?yd(this.escape(p)):yd(p)}].forEach(p=>{for(a=0;s=p.regex.exec(e);){const m=s[1].trim();if(o=c(m),o===void 0)if(typeof u=="function"){const w=u(e,s,i);o=$(w)?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,m))o="";else if(h){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),o="";else!$(o)&&!this.useRawValueToEscape&&(o=x0(o));const _=p.safeValue(o);if(e=e.replace(s[0],_),h?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;const a=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const h=l.split(new RegExp(`${u}[ ]*{`));let d=`{${h[1]}`;l=h[0],d=this.interpolate(d,o);const p=d.match(/'/g),m=d.match(/"/g);(p&&p.length%2===0&&!m||m.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),c&&(o={...c,...o})}catch(_){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,_),`${l}${u}${d}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!$(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const u=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=u.shift(),l=u,c=!0}if(s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&!$(s))return s;$(s)||(s=x0(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c&&(s=l.reduce((u,h)=>this.format(u,h,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const iF=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},hi=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=e[o];return a||(a=t(xc(r),i),e[o]=a),a(n)}};class sF{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=on.create("formatter"),this.options=e,this.formats={number:hi((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:hi((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:hi((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:hi((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:hi((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=hi(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{const{formatName:c,formatOptions:u}=iF(l);if(this.formats[c]){let h=a;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},p=d.locale||d.lng||i.locale||i.lng||r;h=this.formats[c](a,p,{...u,...i,...d})}catch(d){this.logger.warn(d)}return h}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const oF=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class aF extends hu{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=on.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},l={};return e.forEach(c=>{let u=!0;n.forEach(h=>{const d=`${c}|${h}`;!r.reload&&this.store.hasResourceBundle(c,h)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,u=!1,o[d]===void 0&&(o[d]=!0),s[d]===void 0&&(s[d]=!0),l[h]===void 0&&(l[h]=!0)))}),u||(a[c]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{z3(l.loaded,[s],o),oF(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(h=>{a[c][h]===void 0&&(a[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();$(e)&&(e=this.languageUtils.toResolveHierarchy(e)),$(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(e,n,r,i,l):u=c(e,n,r,i),u&&typeof u.then=="function"?u.then(h=>a(null,h)).catch(a):a(null,u)}catch(u){a(u)}else c(e,n,r,i,a,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const P0=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),$(t[1])&&(e.defaultValue=t[1]),$(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),N0=t=>($(t.ns)&&(t.ns=[t.ns]),$(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),$(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),$a=()=>{},lF=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class qo extends hu{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=N0(e),this.services={},this.logger=on,this.modules={external:[]},lF(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&($(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=P0();this.options={...i,...this.options,...N0(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?on.init(s(this.modules.logger),this.options):on.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=sF);const h=new E0(this.options);this.store=new C0(this.options.resources,this.options);const d=this.services;d.logger=on,d.resourceStore=this.store,d.languageUtils=h,d.pluralResolver=new nF(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=s(u),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new rF(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new aF(s(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(p){for(var m=arguments.length,_=new Array(m>1?m-1:0),w=1;w<m;w++)_[w-1]=arguments[w];e.emit(p,..._)}),this.modules.languageDetector&&(d.languageDetector=s(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=s(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Sc(this.services,this.options),this.translator.on("*",function(p){for(var m=arguments.length,_=new Array(m>1?m-1:0),w=1;w<m;w++)_[w-1]=arguments[w];e.emit(p,..._)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=$a),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const l=Ds(),c=()=>{const u=(h,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),r(h,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$a;const i=$(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const i=Ds();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=$a),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Bk.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=Ds();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=$(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{o(u,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,n,r){var i=this;const s=function(o,a){let l;if(typeof a!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),h=2;h<c;h++)u[h-2]=arguments[h];l=i.options.overloadTranslationOptionHandler([o,a].concat(u))}else l={...a};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const d=i.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(o)?p=o.map(m=>`${l.keyPrefix}${d}${m}`):p=l.keyPrefix?`${l.keyPrefix}${d}${o}`:o,i.t(p,l)};return $(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=Ds();return this.options.ns?($(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Ds();$(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new E0(P0());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new qo(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$a;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new qo(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new C0(this.store.data,i),s.services.resourceStore=s.store),s.translator=new Sc(s.services,i),s.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];s.emit(a,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ze=qo.createInstance();Ze.createInstance=qo.createInstance;Ze.createInstance;Ze.dir;Ze.init;Ze.loadResources;Ze.reloadResources;Ze.use;Ze.changeLanguage;Ze.getFixedT;Ze.t;Ze.exists;Ze.setDefaultNamespace;Ze.hasLoadedNamespace;Ze.loadNamespaces;Ze.loadLanguages;const cF={greeting:"Hi, I'm",name:"Jermiah Jerome",title:"AI & ML Engineer",titles:["AI & ML Engineer","Multi-Agent Systems Developer","Language Models and NLP Specialist"],typewriter:{loop:!0,speedMs:100,deleteSpeedMs:50,pauseMs:2e3},subtitle:"Forever learning, forever deploying — shaping the future of efficient AI and intelligent agents.",cta:{github:"GitHub",linkedin:"LinkedIn"},links:{resume:"https://drive.google.com/file/d/1LeRR5GtDGdwTmHqf8iuWJakWj5OQ3cnT/view?usp=sharing",github:"https://github.com/jermiah",linkedin:"https://www.linkedin.com/in/jermiah-jerome/"}},uF={overview:"Overview",skills:"Skills",education:"Education",experience:"Experience",certifications:"Certifications",projects:"Projects",research:"Research & Thesis",opensource:"Open Source",showcase:"Showcase"},dF={title:"Want to Hire Me?",subtitle:"Fill out the form below and I'll send you a tailored resume for your role.",email:"jermiah.jerome96@gmail.com",phone:"+33 783719197"},hF={title:"Overview",content:["I’m an AI Engineer passionate about building compact, efficient systems that blend rules, retrieval, and generation. My interests span supervised fine-tuning of small language models, reinforcement-driven reasoning, and multi-agent orchestration for business-focused AI automation","My technical expertise includes supervised fine-tuning (SFT), policy-gradient reinforcement learning, retrieval-augmented generation (RAG), and agent orchestration. I focus on designing cost-efficient yet interpretable systems for applied reasoning and conversational workflows."],highlights:{title:"Core Focus Areas",items:[{title:"Small & Efficient Language Models",description:"Designing compact SLMs with supervised fine-tuning (SFT) and Group Relative Policy Optimization (GRPO) for domain-specific automation."},{title:"Multi-Agent Orchestration",description:"Developing modular, auditable agent systems for contextual decision-making and workflow automation."},{title:"Hybrid AI Research",description:"Exploring rule-first and LLM-fallback architectures that improve reliability, cost-efficiency, and interpretability in production."}]},featured:{title:"Research Highlight",description:"Exploring efficient intent-routing agent and recursive reasoning in small models"},closing:"My goal is to bridge applied AI engineering with practical use cases — building systems that are faster, safer, and smarter."},fF={title:"Skills",categories:[{name:"Expertise",items:["Machine Learning & Deep Learning","Fine Tuning & Prompt Engineering","Natural Language Processing (NLP)","Language Models (LLMs & SLMs)","Reinforcement Leanring (GRPO)","Retrieval-Augmented Generation (RAG)","Multi-Agent Systems & Orchestration","Evaluation and Benchmarking","Applied AI for Business Automation"]},{name:"Professional",items:["AI System Design","Technical Research & Prototyping","Cross-functional Collaboration","Product Management","Problem Solving & Decision Making","Agile & Scrum Methodologies","Data Analysis & Visualization","Technical Communication","Mentoring & Leadership"]},{name:"Technical",items:["Python, R, SQL, NoSQL","PyTorch, Transformers, LangChain, LangGraph","FastAPI, Streamlit, Gradio","Arize, Weights & Biases, LangFuse","LoRA, QLoRA, bitsandbytes","Git, Docker, Hugging Face, MCP, A2A","AWS, GCP, Firebase","Power BI, Tableau, Advance Excel"]}]},pF={title:"Education",items:[{school:"emlyon business school × McGill University",degree:"MSc in Data Science & AI Strategy",period:"2024–2025",location:"Paris, France & Montreal, Canada",description:"emlyon: CGE Accredited, EQUIS/AMBA/AACSB Triple Crown. McGill: globally recognized for AI and data science excellence.",links:{emlyon:"https://em-lyon.com/en",mcgill:"https://www.mcgill.ca/"}},{school:"Thiagarajar School of Management",degree:"MBA in Finance & Analytics",period:"2019–2021",location:"Madurai, India",description:"Ranked among the top private B-schools in South India.",links:{school:"https://tsm.ac.in"}},{school:"National Institute of Technology, Tiruchirappalli",degree:"BTech in Computer Science and Engineering",period:"2014–2018",location:"Tiruchirappalli, India",description:"One of India’s top 10 engineering institutes (NIRF Rankings).",links:{school:"https://www.nitt.edu/"}}]},mF={title:"Experience",items:[{company:"Daijobu AI",position:"AI Engineer (Intern)",period:"July 2025 – Present",location:"Paris, France",description:["Researching efficient small language model (SLM) architectures for real-world deployment and reasoning efficiency.","Developing end-to-end ML solutions — data pipelines, API integrations, and fine-tuning small models using SFT, GRPO, and quantization.","Building a dynamic questionnaire-to-solution agent framework that captures business pain points and generates automated deliverables.","Collaborating with clients to refine agentic AI workflows aligned with responsible AI principles and cost-efficient inference."]},{company:"Conversy AI",position:"Student Founder",period:"August 2025 – Present",location:"Paris, France",description:["Designing a multi-agent orchestration platform using MCP servers for dynamic task routing, evaluation, and observability.","Leading an international dev team to build scalable SaaS infrastructure enabling small businesses to create custom AI agents within minutes.","Developing agentic features such as intent routing, RAG-based product search, and automated booking & payment workflows.","Driving research on hybrid rules + LLM architectures for intent-aware automation and conversational commerce."]},{company:"HSBC",position:"Assistant Manager – Product Management",period:"December 2022 – August 2024",location:"Bangalore, India",description:["Ensured compliance and mitigated regulatory risks for global electronic and audio communication surveillance across two products, minimizing operational vulnerabilities.","Led data assurance projects including deployments, migrations, and integrations, reducing data issues by 80%, optimizing workflows to ensure data accuracy, reliability, and regulatory compliance, and maintaining seamless data delivery by global stakeholders.","Designed and automated global KPI dashboards for data quality reporting, collectively saving 0.2 FTE annually while enhancing transparency across stakeholders.","Configured JIRA for issue backlogs and custodian processes, streamlining workflows and improving operational efficiency by 20%."]},{company:"BNP Paribas GSO",position:"Data Quality Associate",period:"June 2021 – October 2022",location:"Chennai, India",description:["Enhanced trade reference data accuracy through data profiling, achieving 100% NAV calculation precision.","Automated data quality workflows, reducing manual processing time by 80% and errors by 95%, earning the Kaizen Award for Innovation.","Built interactive dashboards to monitor data quality KPIs and improve global stakeholder visibility.","Collaborated with cross-functional teams to establish and maintain enterprise-level data quality benchmarks."]},{company:"Enprou Technologies India Pvt. Ltd.",position:"Project Finance Trainee",period:"May 2018 – June 2019",location:"Trichy, India",description:["Performed cash flow analysis and forecasted requirements to ensure smooth financial operations.","Streamlined procurement and financial tracking processes, improving project execution efficiency.","Analysed project budgets and financial reports, identifying cost-saving opportunities and reducing project expenses by 15%."]}]},gF={title:"Certifications",items:[{name:"AWS Certified Cloud Practitioner",issuer:"Amazon Web Services",status:"Certified"},{name:"Certified Scrum Product Owner (CSPO)",issuer:"Scrum.org",status:"Certified"},{name:"AWS Machine Learning Specialty",issuer:"Amazon Web Services",status:"Soon"}]},yF={title:"Projects",professional:{title:"Professional",categories:[{name:"Ongoing Projects",categories:[{name:"Agent Projects",items:[{title:"ConversyAI (Multi-Agent SaaS)",description:"A multi-agent conversational commerce platform with intent routing, RAG-powered product search, and automated booking workflows. Built with LangChain, Qdrant, and FastAPI.",tags:["Multi-Agent","RAG","LangChain","FastAPI","Qdrant"]},{title:"Document Organizer Agent",description:"An intelligent agent that automatically categorizes, tags, and organizes documents using vision-language models and semantic search. Supports PDFs, images, and text files.",tags:["Agent","VLM","Document AI","Automation"]}]},{name:"Research & Development",items:[{title:"Intent-Routing Agent for E-Commerce",description:"Building a hybrid rules-first + LLM fallback system for conversational commerce with sub-100ms latency.",tags:["Intent Routing","Hybrid AI","Low Latency"]}]}]},{name:"In-Company Projects",items:[{title:"AI Strategy Copilot @ Prosol",description:"A Streamlit + LLM-powered assistant for retail product strategy using RAG, unsupervised learning, feedback loops, and advanced prompt engineering.",links:{code:"https://github.com/jermiah/Product-Strategy-App/blob/main/README.md",demo:"https://www.linkedin.com/posts/jermiah-jerome_ai-retail-streamlit-activity-7313457551096827904-baIb"},tags:["LLM","RAG","Streamlit","Product Strategy"]},{title:"Business White Paper Research @ BNP Paribas",description:"Strategic Adoption of Open-Source Multimodal Enterprise RAG: Challenges, KPIs, and Business Impact. Focused on evaluating use cases, performance benchmarks, and implementation pathways for enterprise AI agents in banking.",tags:["Research","RAG","Enterprise AI","Banking"]}]},{name:"AI & Agent Projects",items:[{title:"Prosecting & Diagnostic Agent",description:"An AI-powered prospecting and diagnostic agent that engages website visitors through an intelligent questionnaire to capture business needs and automatically generate tailored AI solution proposals. It leverages structured reasoning, and domain-specific templates to analyze responses, identify pain points, match relevant use cases, and produce a personalized PDF summary with proposed solutions and sent via email.",links:{code:"https://github.com/jermiah/rfp-prospecting-agent"},tags:["B2B","CoT","Reasoning","Agent"]},{title:"OQL Generation Model (Fine-Tuning & GRPO)",description:"Deployed a compact small language model fine-tuned to generate optimized OQL queries from structured schema and natural-language requests. The project involves supervised fine-tuning and GRPO reinforcement to improve logical reasoning, query correctness, and efficiency. It explores advanced inference optimization using quantization and high-performance engines like vLLM for GPU environments, enabling fast, accurate OQL generation across varied schemas, differnet languages, and complex queries.",links:{code:"https://github.com/jermiah/oql-generation-model"},tags:["LLM","Fine-Tuning","GRPO","OQL","Inference","Quantization"]}]}]},personal:{title:"Personal",categories:[{name:"Ongoing Projects",categories:[{name:"AI Projects",items:[{title:"AI Writing Assistant",description:"Developing a context-aware writing assistant that helps with technical documentation, blog posts, and research papers.",tags:["NLP","Writing","Productivity"]}]}]},{name:"AI Projects",items:[{title:"QA Intelligent System",description:"Developed an intelligent cybersecurity question-answering pipeline capable of predicting accurate, personalized responses to unseen compliance questions. The system integrates exact-match lookup, logistic regression classification, hybrid retrieval (BM25 + FAISS), cross-encoder reranking, and controlled LLM answer generation using Mistral-7B. It ensures factual, hallucination-free answers through multi-stage reranking and context-aware inference, achieving >90% accuracy across user-specific predictions.",links:{code:"https://github.com/jermiah/LLM-and-RAG/blob/main/QA_Intelligent_System/README.md"},tags:["RAG","Knowledge Management","Personal AI"]},{title:"Cogniscope – Unified LLM & VLM Evaluation Suite",description:"A lightweight benchmarking and analysis suite for evaluating large language and vision-language models via OpenRouter. Cogniscope provides a unified tool to assess model output quality, reasoning strength, audio/video transcription accuracy, and multimodal understanding. It enables detailed model-to-model comparisons with task-level cost tracking, token usage analytics, latency insights, and capability visualizations — all in one transparent dashboard.",links:{code:"https://github.com/jermiah/Cogniscope"},tags:["OpenRouter","LLM","VLM","Benchmarking","Evaluation","AI Metrics","Model Comparison"]}]},{name:"Machine Learning & Data Science Projects",items:[{title:"Bankruptcy Prediction",description:"Built classification models using ensemble techniques (Logistic Regression + XGBoost) to detect bankruptcy in imbalanced datasets.",links:{code:"https://github.com/jermiah/machine_learning/blob/main/README.md"},tags:["Classification","XGBoost","Ensemble Learning"]},{title:"Length of Stay Prediction",description:"Developed classification models using Random Forest, XGBoost, and CatBoost to estimate hospital stay duration and optimize healthcare resource allocation.",tags:["Healthcare","Random Forest","CatBoost"]},{title:"Cool Wipes - Linear Programming",description:"Supply chain optimization using Gurobi for optimal plant location and demand satisfaction.",tags:["Optimization","Supply Chain","Gurobi"]}]},{name:"Deep Learning Projects",items:[{title:"Speaker Recognition",description:"Speaker identification using ECAPA-TDNN embeddings and a hybrid approach combining classification (neural network) and verification (cosine similarity). Features Gradio demo, audio preprocessing with torchaudio, and SpeechBrain embeddings.",links:{code:"https://github.com/jermiah/deep_learning/blob/main/README.md"},tags:["Audio","ECAPA-TDNN","SpeechBrain"]},{title:"Sentiment Classification (BERT)",description:"NLP classification using fine-tuned BERT on IMDb movie review sentiments. Built with HuggingFace Transformers, includes tokenization, attention masking, and model evaluation.",tags:["NLP","BERT","Transformers"]},{title:"Image Classification",description:"Image recognition using transfer learning (ResNet). Features data augmentation, training visualization, and evaluation metrics for custom datasets.",tags:["Computer Vision","ResNet","Transfer Learning"]}]}]}},vF={title:"Research & Thesis",categories:[{name:"Ongoing Works",items:[{title:"Tiny Recursive Reasoning Lab",description:"Implementing recursive reasoning for small models using PyTorch + Hugging Face, enhancing depth without scaling compute. Exploring how compact models can achieve deeper reasoning through iterative refinement.",links:{code:"https://github.com/jermiah/TinyRecursiveReasoningLab"},tags:["PyTorch","Recursive Reasoning","SLM","Research"]},{title:"Frugal AI: Buidling Efficient On-Device Reasoning SLM",description:"Exploring energy-efficient and privacy-safe reasoning for on-device AI systems using small model architectures. Focus on quantization, pruning, and knowledge distillation for edge deployment.",tags:["Edge AI","Quantization","Privacy","Efficiency","Research","Recursive Reasoning"]},{title:"Master's Thesis: Intent-Routing Agent for Conversational Commerce",description:"Designing a hybrid, rules-first intent-routing agent for conversational commerce that classifies and executes user intents (RAG, order, booking) with a lightweight LLM fallback. The system emphasizes auditability, low latency, and cost-efficient reasoning.",tags:["Intent Routing","Hybrid AI","Conversational Commerce","Thesis"]}]},{name:"Completed Works",items:[]}]},_F={title:"Open Source",categories:[{name:"Completed Works",items:[{title:"Goose CLI – Enhanced Edition",description:"A Rust-based coding assistant improving prompt engineering, system metrics, and runtime observability for AI agents. Features v2 system/subagent prompts, file-level metrics, and switchable runtime prompts.",links:{code:"https://github.com/jermiah/goose_jerry"},tags:["Rust","Prompt Engineering","Metrics","CLI"]}]},{name:"Ongoing Works",items:[{title:"Conversy LLM SDK",description:"A lightweight SDK for RAG pipelines and multi-agent orchestration with vector search, adaptive embeddings, and Phoenix tracing. Multi-tenant architecture with Qdrant filter translator and retrieval adapters.",links:{code:"https://github.com/jermiah/conversy-sdk"},tags:["SDK","RAG","Tracing","Qdrant","Multi-Agent"]}]}]},xF={title:"Master’s Thesis",subtitle:"An Intent-Routing Agent for Conversational Commerce",university:"emlyon business school",year:"2025",description:"Designing a hybrid, rules-first intent-routing agent for conversational commerce that classifies and executes user intents (RAG, order, booking) with a lightweight LLM fallback. The system emphasizes auditability, low latency, and cost-efficient reasoning.",objectives:["Develop a compact router using deterministic rules and a fallback small model for ambiguous cases.","Normalize entity extraction (dates, quantities, contacts) via hybrid rule–LLM methods.","Integrate a mini RAG layer for PDF and spreadsheet data to handle product and service information retrieval.","Evaluate the agent for routing accuracy, end-to-end success, latency, cost, and safety metrics."],keywords:["Intent Routing","Hybrid AI Systems","Conversational Commerce","Rules-First Logic","LLM Fallback","Auditability & Evaluation"],expectedContributions:["A small, auditable routing agent achieving high accuracy and cost efficiency.","Reusable datasets and evaluation scripts for conversational routing tasks.","Evidence supporting rules-first + small-LLM hybrid architectures for reliable AI workflows."],link:"https://github.com/jermiah"},wF={title:"Open-Source Contributions",items:[{project:"Conversy LLM SDK (Upcoming)",repo:"https://github.com/jermiah",tags:["SDK","RAG","Tracing","Qdrant"],highlights:["Multi-tenant architecture with Phoenix tracing","Qdrant filter translator and retrieval adapters","Adaptive embeddings for vector reasoning"]},{project:"Goose CLI – Enhanced Edition",repo:"https://github.com/jermiah/goose_jerry",tags:["Rust","Prompt Engineering","Metrics","CLI"],highlights:["v2 system/subagent prompts","File-level metrics and analytics","Switchable runtime prompts via environment variables"]},{project:"Tiny Recursive Reasoning Lab",repo:"https://github.com/jermiah/TinyRecursiveReasoningLab",tags:["PyTorch","Recursive Reasoning","SLM"],highlights:["Implements TRM reasoning for small models","Integrated with Hugging Face Transformers","Focus on efficiency and reasoning quality"]}]},SF={title:"Showcase",awards:{title:"Awards",items:["Antares Award – BNP Paribas: Outstanding Performance","Spirit of Kaizen – Process Automation","Spirit of Kaizen – Data Quality Reporting","NTSE Scholar (India) – NCERT Award for Academic Excellence"]},community:{title:"Community Builder",description:"Creator of the Paris AI & Tech Community",link:"https://www.linkedin.com/posts/jermiah-jerome_paris-ai-tech-community-members-activity-7303817496346730496-QNPT"},hackathons:{title:"Hackathons & Challenges",items:[{name:"🏆 Winner – Blackbox AI × 42AI Agents Hackathon",link:"https://www.linkedin.com/posts/jermiah-jerome_42ai-hackathon-artificialintelligence-activity-7370742726318845952-EmpO?utm_source=share&utm_medium=member_desktop&rcm=ACoAACq09WUBzILj3ZIoG_SJNGbuRMhzVPyVcHs"},{name:"🏆 Winner – Paris Open Build (Mistral + Windsurf)",link:"https://www.linkedin.com/posts/jermiah-jerome_ai-vibecoding-aiagents-activity-7368768781667467264-7_at?utm_source=share&utm_medium=member_desktop&rcm=ACoAACq09WUBzILj3ZIoG_SJNGbuRMhzVPyVcHs"},{name:"Novartis AI Hackathon",link:""},{name:"Sopra Steria AI Challenge",link:""},{name:"L'Oréal Brandstorm 2025",link:""}]},events:{title:"Workshop & Events",attended:{title:"Attended",items:[{name:"Google Gemini Workshop",link:""},{name:"AWS Summit Paris",link:""},{name:"Web Summit Lisbon",link:""},{name:"AI Developers Meetup – Station F",link:""},{name:"French State of AI – Google Paris",link:""}]},conducted:{title:"Conducted",items:[{name:"Daijobu AI Moment: Speaking on the Future of AI & Software",link:"https://www.linkedin.com/posts/jermiah-jerome_ai-slm-llm-activity-7377282309630332928-vX0m?utm_source=share&utm_medium=member_desktop&rcm=ACoAACq09WUBzILj3ZIoG_SJNGbuRMhzVPyVcHs"}]}}},kF={message:"⚡ Building reasoning-efficient AI that’s fast, reliable, and explainable.",copyright:"© 2025 Jermiah Jerome. Built with React, Vite, and ❤️"},CF={text:"Recommend Me",tooltip:"Each click makes my day brighter 🌟",counter:"Total recommendations: {count}"},bF={hireMe:"Let's collaborate! Your satisfaction is my commitment 🤝",fork:"Love this portfolio? Fork it and make it yours! 🚀",theme:"Switch between light and dark — I adapt to your preference ✨",language:"Parlez-vous français? Switch languages seamlessly 🌍"},EF={hero:cF,nav:uF,contact:dF,overview:hF,skills:fF,education:pF,experience:mF,certifications:gF,projects:yF,research:vF,opensource:_F,thesis:xF,openSource:wF,showcase:SF,footer:kF,likeButton:CF,tooltips:bF},TF={greeting:"Bonjour, je suis",name:"Jermiah Jerome",title:"Ingénieur IA & ML",titles:["Ingénieur IA & ML","Développeur de Systèmes Multi-Agents","Spécialiste des Modèles de Langage et du NLP"],typewriter:{loop:!0,speedMs:100,deleteSpeedMs:50,pauseMs:2e3},subtitle:"Toujours en apprentissage, toujours en déploiement — façonner l'avenir de l'IA efficace et des agents intelligents.",cta:{github:"GitHub",linkedin:"LinkedIn"},links:{resume:"https://drive.google.com/file/d/1LeRR5GtDGdwTmHqf8iuWJakWj5OQ3cnT/view?usp=sharing",github:"https://github.com/jermiah",linkedin:"https://www.linkedin.com/in/jermiah-jerome/"}},IF={overview:"Aperçu",skills:"Compétences",education:"Formation",experience:"Expérience",certifications:"Certifications",projects:"Projets",research:"Recherche & Thèse",opensource:"Open Source",showcase:"Vitrine"},PF={title:"Envie de me recruter ?",subtitle:"Remplissez le formulaire ci-dessous et je vous enverrai un CV adapté à votre poste.",email:"jermiah.jerome96@gmail.com",phone:"+33 783719197"},NF={title:"Aperçu",content:["Je suis un Ingénieur IA passionné par la construction de systèmes compacts et efficaces qui combinent règles, récupération et génération. Mes centres d'intérêt couvrent l'ajustement supervisé de petits modèles de langage, le raisonnement par renforcement, et l'orchestration multi-agents pour l'automatisation d'entreprise axée sur l'IA.","Mon expertise technique comprend l'ajustement supervisé (SFT), l'apprentissage par renforcement à gradient de politique, la génération augmentée par récupération (RAG), et l'orchestration d'agents. Je me concentre sur la conception de systèmes rentables et interprétables pour le raisonnement appliqué et les flux conversationnels."],highlights:{title:"Domaines d'expertise principaux",items:[{title:"Modèles de Langage Petits & Efficaces",description:"Conception de SLM compacts avec ajustement supervisé (SFT) et Group Relative Policy Optimization (GRPO) pour l'automatisation spécifique à un domaine."},{title:"Orchestration Multi-Agents",description:"Développement de systèmes d'agents modulaires et auditables pour la prise de décision contextuelle et l'automatisation des flux de travail."},{title:"Recherche IA Hybride",description:"Exploration d'architectures règles-d'abord et LLM-de-secours qui améliorent la fiabilité, la rentabilité et l'interprétabilité en production."}]},featured:{title:"Point de Recherche",description:"Explorer un agent de routage d'intention efficace et le raisonnement récursif dans les petits modèles"},closing:"Mon objectif est de combler l'ingénierie IA appliquée avec des cas d'usage pratiques — construire des systèmes plus rapides, plus sûrs et plus intelligents."},AF={title:"Compétences",categories:[{name:"Expertise",items:["Apprentissage Automatique & Deep Learning","Fine-Tuning & Ingénierie de Prompts","Traitement du Langage Naturel (NLP)","Modèles de Langage (LLM & SLM)","Apprentissage par Renforcement (GRPO)","Génération Augmentée par Récupération (RAG)","Systèmes Multi-Agents & Orchestration","Évaluation et Benchmarking","IA Appliquée pour l'Automatisation d'Entreprise"]},{name:"Professionnel",items:["Conception de Systèmes IA","Recherche Technique & Prototypage","Collaboration Interfonctionnelle","Gestion de Produit","Résolution de Problèmes & Prise de Décision","Méthodologies Agile & Scrum","Analyse & Visualisation de Données","Communication Technique","Mentorat & Leadership"]},{name:"Technique",items:["Python, R, SQL, NoSQL","PyTorch, Transformers, LangChain, LangGraph","FastAPI, Streamlit, Gradio","Arize, Weights & Biases, LangFuse","LoRA, QLoRA, bitsandbytes","Git, Docker, Hugging Face, MCP, A2A","AWS, GCP, Firebase","Power BI, Tableau, Excel Avancé"]}]},RF={title:"Formation",items:[{school:"emlyon business school × McGill University",degree:"MSc en Data Science & Stratégie IA",period:"2024–2025",location:"Paris, France & Montréal, Canada",description:"emlyon : Accrédité CGE, Triple Couronne EQUIS/AMBA/AACSB. McGill : reconnue mondialement pour l'excellence en IA et data science.",links:{emlyon:"https://em-lyon.com/en",mcgill:"https://www.mcgill.ca/"}},{school:"Thiagarajar School of Management",degree:"MBA en Finance & Analytics",period:"2019–2021",location:"Madurai, Inde",description:"Classée parmi les meilleures écoles de commerce privées du Sud de l'Inde.",links:{school:"https://tsm.ac.in"}},{school:"National Institute of Technology, Tiruchirappalli",degree:"BTech en Informatique et Ingénierie",period:"2014–2018",location:"Tiruchirappalli, Inde",description:"L'un des 10 meilleurs instituts d'ingénierie de l'Inde (Classement NIRF).",links:{school:"https://www.nitt.edu/"}}]},LF={title:"Expérience",items:[{company:"Daijobu AI",position:"Ingénieur IA (Stagiaire)",period:"Juillet 2025 – Présent",location:"Paris, France",description:["Recherche sur les architectures de petits modèles de langage (SLM) efficaces pour le déploiement réel et l'efficacité du raisonnement.","Développement de solutions ML de bout en bout — pipelines de données, intégrations API, et ajustement de petits modèles avec SFT, GRPO et quantification.","Construction d'un framework d'agent dynamique questionnaire-à-solution qui capture les points de douleur métier et génère des livrables automatisés.","Collaboration avec les clients pour affiner les flux de travail d'IA agentique alignés sur les principes d'IA responsable et l'inférence rentable."]},{company:"Conversy AI",position:"Fondateur Étudiant",period:"Août 2025 – Présent",location:"Paris, France",description:["Conception d'une plateforme d'orchestration multi-agents utilisant des serveurs MCP pour le routage dynamique des tâches, l'évaluation et l'observabilité.","Direction d'une équipe de développement internationale pour construire une infrastructure SaaS évolutive permettant aux petites entreprises de créer des agents IA personnalisés en quelques minutes.","Développement de fonctionnalités agentiques telles que le routage d'intention, la recherche de produits basée sur RAG, et les flux de réservation et paiement automatisés.","Recherche sur les architectures hybrides règles + LLM pour l'automatisation consciente de l'intention et le commerce conversationnel."]},{company:"HSBC",position:"Assistant Manager – Gestion de Produit",period:"Décembre 2022 – Août 2024",location:"Bangalore, Inde",description:["Assuré la conformité et atténué les risques réglementaires pour la surveillance mondiale des communications électroniques et audio sur deux produits, minimisant les vulnérabilités opérationnelles.","Dirigé des projets d'assurance de données incluant déploiements, migrations et intégrations, réduisant les problèmes de données de 80%, optimisant les flux de travail pour garantir la précision, la fiabilité et la conformité réglementaire, et maintenant une livraison de données transparente par les parties prenantes mondiales.","Conçu et automatisé des tableaux de bord KPI mondiaux pour le reporting de qualité des données, économisant collectivement 0,2 ETP par an tout en améliorant la transparence entre les parties prenantes.","Configuré JIRA pour les backlogs de problèmes et les processus de dépositaires, rationalisant les flux de travail et améliorant l'efficacité opérationnelle de 20%."]},{company:"BNP Paribas GSO",position:"Associé Qualité de Données",period:"Juin 2021 – Octobre 2022",location:"Chennai, Inde",description:["Amélioration de la précision des données de référence commerciales grâce au profilage de données, atteignant 100% de précision de calcul NAV.","Automatisation des flux de travail de qualité des données, réduisant le temps de traitement manuel de 80% et les erreurs de 95%, remportant le Prix Kaizen pour l'Innovation.","Construction de tableaux de bord interactifs pour surveiller les KPI de qualité des données et améliorer la visibilité des parties prenantes mondiales.","Collaboration avec des équipes interfonctionnelles pour établir et maintenir des références de qualité des données au niveau de l'entreprise."]},{company:"Enprou Technologies India Pvt. Ltd.",position:"Stagiaire Finance de Projet",period:"Mai 2018 – Juin 2019",location:"Trichy, Inde",description:["Réalisation d'analyses de flux de trésorerie et prévisions des besoins pour assurer des opérations financières fluides.","Rationalisation des processus d'approvisionnement et de suivi financier, améliorant l'efficacité d'exécution des projets.","Analyse des budgets de projets et rapports financiers, identifiant des opportunités d'économies et réduisant les dépenses de projet de 15%."]}]},MF={title:"Certifications",items:[{name:"AWS Certified Cloud Practitioner",issuer:"Amazon Web Services",status:"Certifié"},{name:"Certified Scrum Product Owner (CSPO)",issuer:"Scrum.org",status:"Certifié"},{name:"AWS Machine Learning Specialty",issuer:"Amazon Web Services",status:"Bientôt"}]},DF={title:"Projets",professional:{title:"Professionnel",categories:[{name:"Projets en cours",categories:[{name:"Projets d'Agents",items:[{title:"ConversyAI (SaaS Multi-Agents)",description:"Une plateforme de commerce conversationnel multi-agents avec routage d'intention, recherche de produits alimentée par RAG, et flux de réservation automatisés. Construit avec LangChain, Qdrant et FastAPI.",tags:["Multi-Agent","RAG","LangChain","FastAPI","Qdrant"]},{title:"Agent Organisateur de Documents",description:"Un agent intelligent qui catégorise, étiquette et organise automatiquement les documents à l'aide de modèles de langage visuel et de recherche sémantique. Prend en charge les PDF, images et fichiers texte.",tags:["Agent","VLM","Document AI","Automatisation"]}]},{name:"Recherche & Développement",items:[{title:"Agent de Routage d'Intention pour l'E-Commerce",description:"Construction d'un système hybride règles-d'abord + LLM de secours pour le commerce conversationnel avec une latence inférieure à 100ms.",tags:["Routage d'Intention","IA Hybride","Faible Latence"]}]}]},{name:"Projets en Entreprise",items:[{title:"Copilote de Stratégie IA @ Prosol",description:"Un assistant alimenté par Streamlit + LLM pour la stratégie produit de détail utilisant RAG, apprentissage non supervisé, boucles de retour et ingénierie de prompts avancée.",links:{code:"https://github.com/jermiah/Product-Strategy-App/blob/main/README.md",demo:"https://www.linkedin.com/posts/jermiah-jerome_ai-retail-streamlit-activity-7313457551096827904-baIb"},tags:["LLM","RAG","Streamlit","Stratégie Produit"]},{title:"Recherche Livre Blanc d'Entreprise @ BNP Paribas",description:"Adoption Stratégique du RAG d'Entreprise Multimodal Open-Source : Défis, KPI et Impact Commercial. Focus sur l'évaluation des cas d'usage, des benchmarks de performance et des parcours d'implémentation pour les agents IA d'entreprise dans la banque.",tags:["Recherche","RAG","IA d'Entreprise","Banque"]}]},{name:"Projets IA & Agents",items:[{title:"Agent de Prospection & Diagnostic",description:"Un agent de prospection et de diagnostic alimenté par l'IA qui engage les visiteurs du site Web à travers un questionnaire intelligent pour capturer les besoins commerciaux et générer automatiquement des propositions de solutions IA sur mesure. Il exploite le raisonnement structuré et des modèles spécifiques au domaine pour analyser les réponses, identifier les points de douleur, faire correspondre les cas d'usage pertinents et produire un résumé PDF personnalisé avec les solutions proposées et envoyé par e-mail.",links:{code:"https://github.com/jermiah/rfp-prospecting-agent"},tags:["B2B","CoT","Raisonnement","Agent"]},{title:"Modèle de Génération OQL (Fine-Tuning & GRPO)",description:"Déploiement d'un petit modèle de langage compact affiné pour générer des requêtes OQL optimisées à partir de schémas structurés et de demandes en langage naturel. Le projet implique un ajustement supervisé et un renforcement GRPO pour améliorer le raisonnement logique, l'exactitude des requêtes et l'efficacité. Il explore l'optimisation avancée de l'inférence en utilisant la quantification et des moteurs haute performance comme vLLM pour les environnements GPU, permettant une génération OQL rapide et précise à travers des schémas variés, différentes langues et des requêtes complexes.",links:{code:"https://github.com/jermiah/oql-generation-model"},tags:["LLM","Fine-Tuning","GRPO","OQL","Inférence","Quantification"]}]}]},personal:{title:"Personnel",categories:[{name:"Projets en cours",categories:[{name:"Projets IA",items:[{title:"Assistant d'Écriture IA",description:"Développement d'un assistant d'écriture contextuel qui aide avec la documentation technique, les articles de blog et les articles de recherche.",tags:["NLP","Écriture","Productivité"]}]}]},{name:"Projets IA",items:[{title:"Système Intelligent de Q&R",description:"Développement d'un pipeline intelligent de questions-réponses en cybersécurité capable de prédire des réponses précises et personnalisées à des questions de conformité non vues. Le système intègre une recherche par correspondance exacte, une classification par régression logistique, une récupération hybride (BM25 + FAISS), un reclassement par encodeur croisé, et une génération de réponses LLM contrôlée utilisant Mistral-7B. Il garantit des réponses factuelles et sans hallucination grâce à un reclassement multi-étapes et une inférence contextuelle, atteignant >90% de précision sur les prédictions spécifiques aux utilisateurs.",links:{code:"https://github.com/jermiah/LLM-and-RAG/blob/main/QA_Intelligent_System/README.md"},tags:["RAG","Gestion des Connaissances","IA Personnelle"]},{title:"Cogniscope – Suite Unifiée d'Évaluation LLM & VLM",description:"Une suite légère de benchmarking et d'analyse pour évaluer les grands modèles de langage et de vision-langage via OpenRouter. Cogniscope fournit un outil unifié pour évaluer la qualité de sortie du modèle, la force de raisonnement, la précision de transcription audio/vidéo et la compréhension multimodale. Il permet des comparaisons détaillées modèle-à-modèle avec suivi des coûts au niveau des tâches, analyse de l'utilisation des tokens, aperçus de latence et visualisations de capacités — le tout dans un tableau de bord transparent.",links:{code:"https://github.com/jermiah/Cogniscope"},tags:["OpenRouter","LLM","VLM","Benchmarking","Évaluation","Métriques IA","Comparaison de Modèles"]}]},{name:"Projets Machine Learning & Data Science",items:[{title:"Prédiction de Faillite",description:"Construction de modèles de classification utilisant des techniques d'ensemble (Régression Logistique + XGBoost) pour détecter la faillite dans des ensembles de données déséquilibrés.",links:{code:"https://github.com/jermiah/machine_learning/blob/main/README.md"},tags:["Classification","XGBoost","Apprentissage d'Ensemble"]},{title:"Prédiction de Durée de Séjour",description:"Développement de modèles de classification utilisant Random Forest, XGBoost et CatBoost pour estimer la durée de séjour hospitalier et optimiser l'allocation des ressources de santé.",tags:["Santé","Random Forest","CatBoost"]},{title:"Cool Wipes - Programmation Linéaire",description:"Optimisation de la chaîne d'approvisionnement utilisant Gurobi pour l'emplacement optimal des usines et la satisfaction de la demande.",tags:["Optimisation","Chaîne d'Approvisionnement","Gurobi"]}]},{name:"Projets Deep Learning",items:[{title:"Reconnaissance du Locuteur",description:"Identification du locuteur utilisant des embeddings ECAPA-TDNN et une approche hybride combinant classification (réseau neuronal) et vérification (similarité cosinus). Comprend une démo Gradio, prétraitement audio avec torchaudio, et embeddings SpeechBrain.",links:{code:"https://github.com/jermiah/deep_learning/blob/main/README.md"},tags:["Audio","ECAPA-TDNN","SpeechBrain"]},{title:"Classification de Sentiment (BERT)",description:"Classification NLP utilisant BERT affiné sur les sentiments de critiques de films IMDb. Construit avec HuggingFace Transformers, inclut la tokenisation, le masquage d'attention et l'évaluation du modèle.",tags:["NLP","BERT","Transformers"]},{title:"Image Classification",description:"Reconnaissance d'images utilisant le transfer learning (ResNet). Comprend l'augmentation de données, la visualisation de l'entraînement et les métriques d'évaluation pour des ensembles de données personnalisés.",tags:["Vision par Ordinateur","ResNet","Transfer Learning"]}]}]}},OF={title:"Recherche & Thèse",categories:[{name:"Travaux en cours",items:[{title:"Tiny Recursive Reasoning Lab",description:"Implémentation du raisonnement récursif pour les petits modèles utilisant PyTorch + Hugging Face, améliorant la profondeur sans augmenter le calcul. Explorer comment les modèles compacts peuvent atteindre un raisonnement plus profond grâce au raffinement itératif.",links:{code:"https://github.com/jermiah/TinyRecursiveReasoningLab"},tags:["PyTorch","Raisonnement Récursif","SLM","Recherche"]},{title:"IA Frugale : Construire un SLM de Raisonnement Sur Appareil Efficace",description:"Explorer le raisonnement économe en énergie et respectueux de la vie privée pour les systèmes IA sur appareil utilisant des architectures de petits modèles. Focus sur la quantification, l'élagage et la distillation de connaissances pour le déploiement en périphérie.",tags:["IA en Périphérie","Quantification","Confidentialité","Efficacité","Recherche","Raisonnement Récursif"]},{title:"Thèse de Master : Agent de Routage d'Intention pour le Commerce Conversationnel",description:"Conception d'un agent de routage d'intention hybride, règles-d'abord pour le commerce conversationnel qui classifie et exécute les intentions utilisateur (RAG, commande, réservation) avec un LLM léger de secours. Le système met l'accent sur l'auditabilité, la faible latence et le raisonnement rentable.",tags:["Routage d'Intention","IA Hybride","Commerce Conversationnel","Thèse"]}]},{name:"Travaux terminés",items:[]}]},jF={title:"Open Source",categories:[{name:"Travaux terminés",items:[{title:"Goose CLI – Édition Améliorée",description:"Un assistant de codage basé sur Rust améliorant l'ingénierie de prompts, les métriques système et l'observabilité runtime pour les agents IA. Comprend des prompts système/sous-agent v2, des métriques au niveau fichier et des prompts runtime interchangeables.",links:{code:"https://github.com/jermiah/goose_jerry"},tags:["Rust","Ingénierie de Prompts","Métriques","CLI"]}]},{name:"Travaux en cours",items:[{title:"Conversy LLM SDK",description:"Un SDK léger pour les pipelines RAG et l'orchestration multi-agents avec recherche vectorielle, embeddings adaptatifs et traçage Phoenix. Architecture multi-tenant avec traducteur de filtre Qdrant et adaptateurs de récupération.",links:{code:"https://github.com/jermiah/conversy-sdk"},tags:["SDK","RAG","Traçage","Qdrant","Multi-Agent"]}]}]},FF={title:"Thèse de Master",subtitle:"Un Agent de Routage d'Intention pour le Commerce Conversationnel",university:"emlyon business school",year:"2025",description:"Conception d'un agent de routage d'intention hybride, règles-d'abord pour le commerce conversationnel qui classifie et exécute les intentions utilisateur (RAG, commande, réservation) avec un LLM léger de secours. Le système met l'accent sur l'auditabilité, la faible latence et le raisonnement rentable.",objectives:["Développer un routeur compact utilisant des règles déterministes et un petit modèle de secours pour les cas ambigus.","Normaliser l'extraction d'entités (dates, quantités, contacts) via des méthodes hybrides règle–LLM.","Intégrer une couche mini RAG pour les données PDF et tableur afin de gérer la récupération d'informations sur les produits et services.","Évaluer l'agent pour la précision du routage, le succès de bout en bout, la latence, le coût et les métriques de sécurité."],keywords:["Routage d'Intention","Systèmes IA Hybrides","Commerce Conversationnel","Logique Règles-d'Abord","LLM de Secours","Auditabilité & Évaluation"],expectedContributions:["Un agent de routage petit et auditable atteignant une haute précision et une rentabilité.","Ensembles de données réutilisables et scripts d'évaluation pour les tâches de routage conversationnel.","Preuves soutenant les architectures hybrides règles-d'abord + petit-LLM pour des flux de travail IA fiables."],link:"https://github.com/jermiah"},VF={title:"Contributions Open-Source",items:[{project:"Conversy LLM SDK (À venir)",repo:"https://github.com/jermiah",tags:["SDK","RAG","Traçage","Qdrant"],highlights:["Architecture multi-tenant avec traçage Phoenix","Traducteur de filtre Qdrant et adaptateurs de récupération","Embeddings adaptatifs pour le raisonnement vectoriel"]},{project:"Goose CLI – Édition Améliorée",repo:"https://github.com/jermiah/goose_jerry",tags:["Rust","Ingénierie de Prompts","Métriques","CLI"],highlights:["Prompts système/sous-agent v2","Métriques et analyses au niveau fichier","Prompts runtime interchangeables via variables d'environnement"]},{project:"Tiny Recursive Reasoning Lab",repo:"https://github.com/jermiah/TinyRecursiveReasoningLab",tags:["PyTorch","Raisonnement Récursif","SLM"],highlights:["Implémente le raisonnement TRM pour les petits modèles","Intégré avec Hugging Face Transformers","Focus sur l'efficacité et la qualité du raisonnement"]}]},UF={title:"Vitrine",awards:{title:"Récompenses",items:["Prix Antares – BNP Paribas : Performance Exceptionnelle","Esprit de Kaizen – Automatisation de Processus","Esprit de Kaizen – Rapport de Qualité de Données","Boursier NTSE (Inde) – Prix NCERT pour l'Excellence Académique"]},community:{title:"Bâtisseur de Communauté",description:"Créateur de la Communauté IA & Tech de Paris",link:"https://www.linkedin.com/posts/jermiah-jerome_paris-ai-tech-community-members-activity-7303817496346730496-QNPT"},hackathons:{title:"Hackathons & Défis",items:[{name:"🏆 Gagnant – Hackathon Blackbox AI × 42AI Agents",link:"https://www.linkedin.com/posts/jermiah-jerome_42ai-hackathon-artificialintelligence-activity-7370742726318845952-EmpO?utm_source=share&utm_medium=member_desktop&rcm=ACoAACq09WUBzILj3ZIoG_SJNGbuRMhzVPyVcHs"},{name:"🏆 Gagnant – Paris Open Build (Mistral + Windsurf)",link:"https://www.linkedin.com/posts/jermiah-jerome_ai-vibecoding-aiagents-activity-7368768781667467264-7_at?utm_source=share&utm_medium=member_desktop&rcm=ACoAACq09WUBzILj3ZIoG_SJNGbuRMhzVPyVcHs"},{name:"Hackathon IA Novartis",link:""},{name:"Défi IA Sopra Steria",link:""},{name:"L'Oréal Brandstorm 2025",link:""}]},events:{title:"Ateliers & Événements",attended:{title:"Participé",items:[{name:"Atelier Google Gemini",link:""},{name:"AWS Summit Paris",link:""},{name:"Web Summit Lisbonne",link:""},{name:"Meetup Développeurs IA – Station F",link:""},{name:"État Français de l'IA – Google Paris",link:""}]},conducted:{title:"Animé",items:[{name:"Daijobu AI Moment : Intervention sur l'Avenir de l'IA & du Logiciel",link:"https://www.linkedin.com/posts/jermiah-jerome_ai-slm-llm-activity-7377282309630332928-vX0m?utm_source=share&utm_medium=member_desktop&rcm=ACoAACq09WUBzILj3ZIoG_SJNGbuRMhzVPyVcHs"}]}}},BF={message:"⚡ Construire une IA efficace en raisonnement, rapide, fiable et explicable.",copyright:"© 2025 Jermiah Jerome. Construit avec React, Vite, et ❤️"},zF={text:"Recommandez-moi",tooltip:"Chaque clic illumine ma journée 🌟",counter:"Total de recommandations : {count}"},WF={hireMe:"Collaborons ! Votre satisfaction est mon engagement 🤝",fork:"Vous aimez ce portfolio ? Forkez-le et appropriez-vous-le ! 🚀",theme:"Basculez entre clair et sombre — je m'adapte à vos préférences ✨",language:"Parlez-vous français ? Changez de langue de manière transparente 🌍"},$F={hero:TF,nav:IF,contact:PF,overview:NF,skills:AF,education:RF,experience:LF,certifications:MF,projects:DF,research:OF,opensource:jF,thesis:FF,openSource:VF,showcase:UF,footer:BF,likeButton:zF,tooltips:WF};Ze.use(FE).init({resources:{en:{translation:EF},fr:{translation:$F}},lng:localStorage.getItem("language")||"en",fallbackLng:"en",interpolation:{escapeValue:!1}});vd.createRoot(document.getElementById("root")).render(f.jsx(Yn.StrictMode,{children:f.jsx(V3,{})}))});export default HF();
