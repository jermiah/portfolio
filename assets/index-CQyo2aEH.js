var A_=Object.defineProperty;var R_=(t,e,n)=>e in t?A_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var L_=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var up=(t,e,n)=>R_(t,typeof e!="symbol"?e+"":e,n);var yj=L_((Sj,Ro)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function M_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ky={exports:{}},El={},qy={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=Symbol.for("react.element"),j_=Symbol.for("react.portal"),D_=Symbol.for("react.fragment"),O_=Symbol.for("react.strict_mode"),F_=Symbol.for("react.profiler"),V_=Symbol.for("react.provider"),B_=Symbol.for("react.context"),z_=Symbol.for("react.forward_ref"),U_=Symbol.for("react.suspense"),$_=Symbol.for("react.memo"),W_=Symbol.for("react.lazy"),cp=Symbol.iterator;function H_(t){return t===null||typeof t!="object"?null:(t=cp&&t[cp]||t["@@iterator"],typeof t=="function"?t:null)}var Qy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yy=Object.assign,Xy={};function Ri(t,e,n){this.props=t,this.context=e,this.refs=Xy,this.updater=n||Qy}Ri.prototype.isReactComponent={};Ri.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ri.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jy(){}Jy.prototype=Ri.prototype;function $d(t,e,n){this.props=t,this.context=e,this.refs=Xy,this.updater=n||Qy}var Wd=$d.prototype=new Jy;Wd.constructor=$d;Yy(Wd,Ri.prototype);Wd.isPureReactComponent=!0;var dp=Array.isArray,Zy=Object.prototype.hasOwnProperty,Hd={current:null},e0={key:!0,ref:!0,__self:!0,__source:!0};function t0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Zy.call(e,r)&&!e0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:co,type:t,key:s,ref:o,props:i,_owner:Hd.current}}function G_(t,e){return{$$typeof:co,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gd(t){return typeof t=="object"&&t!==null&&t.$$typeof===co}function K_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hp=/\/+/g;function hu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?K_(""+t.key):e.toString(36)}function ra(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case co:case j_:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+hu(o,0):r,dp(i)?(n="",t!=null&&(n=t.replace(hp,"$&/")+"/"),ra(i,e,n,"",function(u){return u})):i!=null&&(Gd(i)&&(i=G_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(hp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",dp(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+hu(s,a);o+=ra(s,e,n,l,i)}else if(l=H_(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+hu(s,a++),o+=ra(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Lo(t,e,n){if(t==null)return t;var r=[],i=0;return ra(t,r,"","",function(s){return e.call(n,s,i++)}),r}function q_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tt={current:null},ia={transition:null},Q_={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:ia,ReactCurrentOwner:Hd};function n0(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Lo,forEach:function(t,e,n){Lo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lo(t,function(){e++}),e},toArray:function(t){return Lo(t,function(e){return e})||[]},only:function(t){if(!Gd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Component=Ri;Q.Fragment=D_;Q.Profiler=F_;Q.PureComponent=$d;Q.StrictMode=O_;Q.Suspense=U_;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q_;Q.act=n0;Q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Yy({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Zy.call(e,l)&&!e0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:co,type:t.type,key:i,ref:s,props:r,_owner:o}};Q.createContext=function(t){return t={$$typeof:B_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:V_,_context:t},t.Consumer=t};Q.createElement=t0;Q.createFactory=function(t){var e=t0.bind(null,t);return e.type=t,e};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:z_,render:t}};Q.isValidElement=Gd;Q.lazy=function(t){return{$$typeof:W_,_payload:{_status:-1,_result:t},_init:q_}};Q.memo=function(t,e){return{$$typeof:$_,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=ia.transition;ia.transition={};try{t()}finally{ia.transition=e}};Q.unstable_act=n0;Q.useCallback=function(t,e){return tt.current.useCallback(t,e)};Q.useContext=function(t){return tt.current.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t){return tt.current.useDeferredValue(t)};Q.useEffect=function(t,e){return tt.current.useEffect(t,e)};Q.useId=function(){return tt.current.useId()};Q.useImperativeHandle=function(t,e,n){return tt.current.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return tt.current.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return tt.current.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return tt.current.useMemo(t,e)};Q.useReducer=function(t,e,n){return tt.current.useReducer(t,e,n)};Q.useRef=function(t){return tt.current.useRef(t)};Q.useState=function(t){return tt.current.useState(t)};Q.useSyncExternalStore=function(t,e,n){return tt.current.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return tt.current.useTransition()};Q.version="18.3.1";qy.exports=Q;var T=qy.exports;const jn=M_(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_=T,X_=Symbol.for("react.element"),J_=Symbol.for("react.fragment"),Z_=Object.prototype.hasOwnProperty,eS=Y_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tS={key:!0,ref:!0,__self:!0,__source:!0};function r0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Z_.call(e,r)&&!tS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:X_,type:t,key:s,ref:o,props:i,_owner:eS.current}}El.Fragment=J_;El.jsx=r0;El.jsxs=r0;Ky.exports=El;var f=Ky.exports,hc={},i0={exports:{}},xt={},s0={exports:{}},o0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,D){var C=I.length;I.push(D);e:for(;0<C;){var w=C-1>>>1,L=I[w];if(0<i(L,D))I[w]=D,I[C]=L,C=w;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var D=I[0],C=I.pop();if(C!==D){I[0]=C;e:for(var w=0,L=I.length,F=L>>>1;w<F;){var z=2*(w+1)-1,H=I[z],W=z+1,O=I[W];if(0>i(H,C))W<L&&0>i(O,H)?(I[w]=O,I[W]=C,w=W):(I[w]=H,I[z]=C,w=z);else if(W<L&&0>i(O,C))I[w]=O,I[W]=C,w=W;else break e}}return D}function i(I,D){var C=I.sortIndex-D.sortIndex;return C!==0?C:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,g=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(I){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=I)r(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(u)}}function S(I){if(x=!1,v(I),!g)if(n(l)!==null)g=!0,St(k);else{var D=n(u);D!==null&&fe(S,D.startTime-I)}}function k(I,D){g=!1,x&&(x=!1,y(N),N=-1),p=!0;var C=d;try{for(v(D),h=n(l);h!==null&&(!(h.expirationTime>D)||I&&!re());){var w=h.callback;if(typeof w=="function"){h.callback=null,d=h.priorityLevel;var L=w(h.expirationTime<=D);D=t.unstable_now(),typeof L=="function"?h.callback=L:h===n(l)&&r(l),v(D)}else r(l);h=n(l)}if(h!==null)var F=!0;else{var z=n(u);z!==null&&fe(S,z.startTime-D),F=!1}return F}finally{h=null,d=C,p=!1}}var b=!1,E=null,N=-1,U=5,j=-1;function re(){return!(t.unstable_now()-j<U)}function Rt(){if(E!==null){var I=t.unstable_now();j=I;var D=!0;try{D=E(!0,I)}finally{D?Lt():(b=!1,E=null)}}else b=!1}var Lt;if(typeof m=="function")Lt=function(){m(Rt)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,_t=rt.port2;rt.port1.onmessage=Rt,Lt=function(){_t.postMessage(null)}}else Lt=function(){_(Rt,0)};function St(I){E=I,b||(b=!0,Lt())}function fe(I,D){N=_(function(){I(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,St(k))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var C=d;d=D;try{return I()}finally{d=C}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var C=d;d=I;try{return D()}finally{d=C}},t.unstable_scheduleCallback=function(I,D,C){var w=t.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?w+C:w):C=w,I){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=C+L,I={id:c++,callback:D,priorityLevel:I,startTime:C,expirationTime:L,sortIndex:-1},C>w?(I.sortIndex=C,e(u,I),n(l)===null&&I===n(u)&&(x?(y(N),N=-1):x=!0,fe(S,C-w))):(I.sortIndex=L,e(l,I),g||p||(g=!0,St(k))),I},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(I){var D=d;return function(){var C=d;d=D;try{return I.apply(this,arguments)}finally{d=C}}}})(o0);s0.exports=o0;var nS=s0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS=T,gt=nS;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a0=new Set,Is={};function Lr(t,e){gi(t,e),gi(t+"Capture",e)}function gi(t,e){for(Is[t]=e,t=0;t<e.length;t++)a0.add(e[t])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fc=Object.prototype.hasOwnProperty,iS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fp={},pp={};function sS(t){return fc.call(pp,t)?!0:fc.call(fp,t)?!1:iS.test(t)?pp[t]=!0:(fp[t]=!0,!1)}function oS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aS(t,e,n,r){if(e===null||typeof e>"u"||oS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kd=/[\-:]([a-z])/g;function qd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kd,qd);Ue[e]=new nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kd,qd);Ue[e]=new nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kd,qd);Ue[e]=new nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new nt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qd(t,e,n,r){var i=Ue.hasOwnProperty(e)?Ue[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aS(e,n,i,r)&&(n=null),r||i===null?sS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cn=rS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mo=Symbol.for("react.element"),$r=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),Yd=Symbol.for("react.strict_mode"),pc=Symbol.for("react.profiler"),l0=Symbol.for("react.provider"),u0=Symbol.for("react.context"),Xd=Symbol.for("react.forward_ref"),mc=Symbol.for("react.suspense"),gc=Symbol.for("react.suspense_list"),Jd=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),c0=Symbol.for("react.offscreen"),mp=Symbol.iterator;function Ui(t){return t===null||typeof t!="object"?null:(t=mp&&t[mp]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,fu;function ns(t){if(fu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fu=e&&e[1]||""}return`
`+fu+t}var pu=!1;function mu(t,e){if(!t||pu)return"";pu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ns(t):""}function lS(t){switch(t.tag){case 5:return ns(t.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 2:case 15:return t=mu(t.type,!1),t;case 11:return t=mu(t.type.render,!1),t;case 1:return t=mu(t.type,!0),t;default:return""}}function yc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wr:return"Fragment";case $r:return"Portal";case pc:return"Profiler";case Yd:return"StrictMode";case mc:return"Suspense";case gc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u0:return(t.displayName||"Context")+".Consumer";case l0:return(t._context.displayName||"Context")+".Provider";case Xd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jd:return e=t.displayName||null,e!==null?e:yc(t.type)||"Memo";case Nn:e=t._payload,t=t._init;try{return yc(t(e))}catch{}}return null}function uS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yc(e);case 8:return e===Yd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cS(t){var e=d0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jo(t){t._valueTracker||(t._valueTracker=cS(t))}function h0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=d0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vc(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f0(t,e){e=e.checked,e!=null&&Qd(t,"checked",e,!1)}function xc(t,e){f0(t,e);var n=qn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wc(t,e.type,n):e.hasOwnProperty("defaultValue")&&wc(t,e.type,qn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wc(t,e,n){(e!=="number"||xa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rs=Array.isArray;function ai(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _c(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(rs(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qn(n)}}function p0(t,e){var n=qn(e.value),r=qn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Do,g0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Do=Do||document.createElement("div"),Do.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Do.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function As(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dS=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(t){dS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),us[e]=us[t]})});function y0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||us.hasOwnProperty(t)&&us[t]?(""+e).trim():e+"px"}function v0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=y0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hS=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cc(t,e){if(e){if(hS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function kc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=null;function Zd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ec=null,li=null,ui=null;function wp(t){if(t=po(t)){if(typeof Ec!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Al(e),Ec(t.stateNode,t.type,e))}}function x0(t){li?ui?ui.push(t):ui=[t]:li=t}function w0(){if(li){var t=li,e=ui;if(ui=li=null,wp(t),e)for(t=0;t<e.length;t++)wp(e[t])}}function _0(t,e){return t(e)}function S0(){}var gu=!1;function C0(t,e,n){if(gu)return t(e,n);gu=!0;try{return _0(t,e,n)}finally{gu=!1,(li!==null||ui!==null)&&(S0(),w0())}}function Rs(t,e){var n=t.stateNode;if(n===null)return null;var r=Al(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Tc=!1;if(gn)try{var $i={};Object.defineProperty($i,"passive",{get:function(){Tc=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{Tc=!1}function fS(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var cs=!1,wa=null,_a=!1,Nc=null,pS={onError:function(t){cs=!0,wa=t}};function mS(t,e,n,r,i,s,o,a,l){cs=!1,wa=null,fS.apply(pS,arguments)}function gS(t,e,n,r,i,s,o,a,l){if(mS.apply(this,arguments),cs){if(cs){var u=wa;cs=!1,wa=null}else throw Error(P(198));_a||(_a=!0,Nc=u)}}function Mr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function k0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _p(t){if(Mr(t)!==t)throw Error(P(188))}function yS(t){var e=t.alternate;if(!e){if(e=Mr(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _p(i),t;if(s===r)return _p(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function b0(t){return t=yS(t),t!==null?E0(t):null}function E0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=E0(t);if(e!==null)return e;t=t.sibling}return null}var T0=gt.unstable_scheduleCallback,Sp=gt.unstable_cancelCallback,vS=gt.unstable_shouldYield,xS=gt.unstable_requestPaint,Ee=gt.unstable_now,wS=gt.unstable_getCurrentPriorityLevel,eh=gt.unstable_ImmediatePriority,N0=gt.unstable_UserBlockingPriority,Sa=gt.unstable_NormalPriority,_S=gt.unstable_LowPriority,P0=gt.unstable_IdlePriority,Tl=null,en=null;function SS(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Tl,t,void 0,(t.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:bS,CS=Math.log,kS=Math.LN2;function bS(t){return t>>>=0,t===0?32:31-(CS(t)/kS|0)|0}var Oo=64,Fo=4194304;function is(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ca(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=is(a):(s&=o,s!==0&&(r=is(s)))}else o=n&~i,o!==0?r=is(o):s!==0&&(r=is(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$t(e),i=1<<n,r|=t[n],e&=~i;return r}function ES(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-$t(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ES(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Pc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function I0(){var t=Oo;return Oo<<=1,!(Oo&4194240)&&(Oo=64),t}function yu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ho(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$t(e),t[e]=n}function NS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$t(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function th(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$t(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var te=0;function A0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var R0,nh,L0,M0,j0,Ic=!1,Vo=[],Dn=null,On=null,Fn=null,Ls=new Map,Ms=new Map,In=[],PS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cp(t,e){switch(t){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Ls.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(e.pointerId)}}function Wi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=po(e),e!==null&&nh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IS(t,e,n,r,i){switch(e){case"focusin":return Dn=Wi(Dn,t,e,n,r,i),!0;case"dragenter":return On=Wi(On,t,e,n,r,i),!0;case"mouseover":return Fn=Wi(Fn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ls.set(s,Wi(Ls.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ms.set(s,Wi(Ms.get(s)||null,t,e,n,r,i)),!0}return!1}function D0(t){var e=pr(t.target);if(e!==null){var n=Mr(e);if(n!==null){if(e=n.tag,e===13){if(e=k0(n),e!==null){t.blockedOn=e,j0(t.priority,function(){L0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ac(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bc=r,n.target.dispatchEvent(r),bc=null}else return e=po(n),e!==null&&nh(e),t.blockedOn=n,!1;e.shift()}return!0}function kp(t,e,n){sa(t)&&n.delete(e)}function AS(){Ic=!1,Dn!==null&&sa(Dn)&&(Dn=null),On!==null&&sa(On)&&(On=null),Fn!==null&&sa(Fn)&&(Fn=null),Ls.forEach(kp),Ms.forEach(kp)}function Hi(t,e){t.blockedOn===e&&(t.blockedOn=null,Ic||(Ic=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,AS)))}function js(t){function e(i){return Hi(i,t)}if(0<Vo.length){Hi(Vo[0],t);for(var n=1;n<Vo.length;n++){var r=Vo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dn!==null&&Hi(Dn,t),On!==null&&Hi(On,t),Fn!==null&&Hi(Fn,t),Ls.forEach(e),Ms.forEach(e),n=0;n<In.length;n++)r=In[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<In.length&&(n=In[0],n.blockedOn===null);)D0(n),n.blockedOn===null&&In.shift()}var ci=Cn.ReactCurrentBatchConfig,ka=!0;function RS(t,e,n,r){var i=te,s=ci.transition;ci.transition=null;try{te=1,rh(t,e,n,r)}finally{te=i,ci.transition=s}}function LS(t,e,n,r){var i=te,s=ci.transition;ci.transition=null;try{te=4,rh(t,e,n,r)}finally{te=i,ci.transition=s}}function rh(t,e,n,r){if(ka){var i=Ac(t,e,n,r);if(i===null)Tu(t,e,r,ba,n),Cp(t,r);else if(IS(i,t,e,n,r))r.stopPropagation();else if(Cp(t,r),e&4&&-1<PS.indexOf(t)){for(;i!==null;){var s=po(i);if(s!==null&&R0(s),s=Ac(t,e,n,r),s===null&&Tu(t,e,r,ba,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Tu(t,e,r,null,n)}}var ba=null;function Ac(t,e,n,r){if(ba=null,t=Zd(r),t=pr(t),t!==null)if(e=Mr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=k0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ba=t,null}function O0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wS()){case eh:return 1;case N0:return 4;case Sa:case _S:return 16;case P0:return 536870912;default:return 16}default:return 16}}var Rn=null,ih=null,oa=null;function F0(){if(oa)return oa;var t,e=ih,n=e.length,r,i="value"in Rn?Rn.value:Rn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return oa=i.slice(t,1<r?1-r:void 0)}function aa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bo(){return!0}function bp(){return!1}function wt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bo:bp,this.isPropagationStopped=bp,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),e}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sh=wt(Li),fo=xe({},Li,{view:0,detail:0}),MS=wt(fo),vu,xu,Gi,Nl=xe({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(vu=t.screenX-Gi.screenX,xu=t.screenY-Gi.screenY):xu=vu=0,Gi=t),vu)},movementY:function(t){return"movementY"in t?t.movementY:xu}}),Ep=wt(Nl),jS=xe({},Nl,{dataTransfer:0}),DS=wt(jS),OS=xe({},fo,{relatedTarget:0}),wu=wt(OS),FS=xe({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),VS=wt(FS),BS=xe({},Li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zS=wt(BS),US=xe({},Li,{data:0}),Tp=wt(US),$S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HS[t])?!!e[t]:!1}function oh(){return GS}var KS=xe({},fo,{key:function(t){if(t.key){var e=$S[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=aa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oh,charCode:function(t){return t.type==="keypress"?aa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?aa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qS=wt(KS),QS=xe({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Np=wt(QS),YS=xe({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oh}),XS=wt(YS),JS=xe({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZS=wt(JS),eC=xe({},Nl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tC=wt(eC),nC=[9,13,27,32],ah=gn&&"CompositionEvent"in window,ds=null;gn&&"documentMode"in document&&(ds=document.documentMode);var rC=gn&&"TextEvent"in window&&!ds,V0=gn&&(!ah||ds&&8<ds&&11>=ds),Pp=" ",Ip=!1;function B0(t,e){switch(t){case"keyup":return nC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hr=!1;function iC(t,e){switch(t){case"compositionend":return z0(e);case"keypress":return e.which!==32?null:(Ip=!0,Pp);case"textInput":return t=e.data,t===Pp&&Ip?null:t;default:return null}}function sC(t,e){if(Hr)return t==="compositionend"||!ah&&B0(t,e)?(t=F0(),oa=ih=Rn=null,Hr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return V0&&e.locale!=="ko"?null:e.data;default:return null}}var oC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ap(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oC[t.type]:e==="textarea"}function U0(t,e,n,r){x0(r),e=Ea(e,"onChange"),0<e.length&&(n=new sh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hs=null,Ds=null;function aC(t){Z0(t,0)}function Pl(t){var e=qr(t);if(h0(e))return t}function lC(t,e){if(t==="change")return e}var $0=!1;if(gn){var _u;if(gn){var Su="oninput"in document;if(!Su){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),Su=typeof Rp.oninput=="function"}_u=Su}else _u=!1;$0=_u&&(!document.documentMode||9<document.documentMode)}function Lp(){hs&&(hs.detachEvent("onpropertychange",W0),Ds=hs=null)}function W0(t){if(t.propertyName==="value"&&Pl(Ds)){var e=[];U0(e,Ds,t,Zd(t)),C0(aC,e)}}function uC(t,e,n){t==="focusin"?(Lp(),hs=e,Ds=n,hs.attachEvent("onpropertychange",W0)):t==="focusout"&&Lp()}function cC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pl(Ds)}function dC(t,e){if(t==="click")return Pl(e)}function hC(t,e){if(t==="input"||t==="change")return Pl(e)}function fC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gt=typeof Object.is=="function"?Object.is:fC;function Os(t,e){if(Gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fc.call(e,i)||!Gt(t[i],e[i]))return!1}return!0}function Mp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jp(t,e){var n=Mp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mp(n)}}function H0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?H0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function G0(){for(var t=window,e=xa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xa(t.document)}return e}function lh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pC(t){var e=G0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&H0(n.ownerDocument.documentElement,n)){if(r!==null&&lh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=jp(n,s);var o=jp(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mC=gn&&"documentMode"in document&&11>=document.documentMode,Gr=null,Rc=null,fs=null,Lc=!1;function Dp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lc||Gr==null||Gr!==xa(r)||(r=Gr,"selectionStart"in r&&lh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fs&&Os(fs,r)||(fs=r,r=Ea(Rc,"onSelect"),0<r.length&&(e=new sh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gr)))}function zo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kr={animationend:zo("Animation","AnimationEnd"),animationiteration:zo("Animation","AnimationIteration"),animationstart:zo("Animation","AnimationStart"),transitionend:zo("Transition","TransitionEnd")},Cu={},K0={};gn&&(K0=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function Il(t){if(Cu[t])return Cu[t];if(!Kr[t])return t;var e=Kr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in K0)return Cu[t]=e[n];return t}var q0=Il("animationend"),Q0=Il("animationiteration"),Y0=Il("animationstart"),X0=Il("transitionend"),J0=new Map,Op="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(t,e){J0.set(t,e),Lr(e,[t])}for(var ku=0;ku<Op.length;ku++){var bu=Op[ku],gC=bu.toLowerCase(),yC=bu[0].toUpperCase()+bu.slice(1);nr(gC,"on"+yC)}nr(q0,"onAnimationEnd");nr(Q0,"onAnimationIteration");nr(Y0,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(X0,"onTransitionEnd");gi("onMouseEnter",["mouseout","mouseover"]);gi("onMouseLeave",["mouseout","mouseover"]);gi("onPointerEnter",["pointerout","pointerover"]);gi("onPointerLeave",["pointerout","pointerover"]);Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function Fp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gS(r,e,void 0,t),t.currentTarget=null}function Z0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fp(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fp(i,a,u),s=l}}}if(_a)throw t=Nc,_a=!1,Nc=null,t}function ce(t,e){var n=e[Fc];n===void 0&&(n=e[Fc]=new Set);var r=t+"__bubble";n.has(r)||(ev(e,t,2,!1),n.add(r))}function Eu(t,e,n){var r=0;e&&(r|=4),ev(n,t,r,e)}var Uo="_reactListening"+Math.random().toString(36).slice(2);function Fs(t){if(!t[Uo]){t[Uo]=!0,a0.forEach(function(n){n!=="selectionchange"&&(vC.has(n)||Eu(n,!1,t),Eu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uo]||(e[Uo]=!0,Eu("selectionchange",!1,e))}}function ev(t,e,n,r){switch(O0(e)){case 1:var i=RS;break;case 4:i=LS;break;default:i=rh}n=i.bind(null,e,n,t),i=void 0,!Tc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Tu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=pr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}C0(function(){var u=s,c=Zd(n),h=[];e:{var d=J0.get(t);if(d!==void 0){var p=sh,g=t;switch(t){case"keypress":if(aa(n)===0)break e;case"keydown":case"keyup":p=qS;break;case"focusin":g="focus",p=wu;break;case"focusout":g="blur",p=wu;break;case"beforeblur":case"afterblur":p=wu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=DS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=XS;break;case q0:case Q0:case Y0:p=VS;break;case X0:p=ZS;break;case"scroll":p=MS;break;case"wheel":p=tC;break;case"copy":case"cut":case"paste":p=zS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Np}var x=(e&4)!==0,_=!x&&t==="scroll",y=x?d!==null?d+"Capture":null:d;x=[];for(var m=u,v;m!==null;){v=m;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=Rs(m,y),S!=null&&x.push(Vs(m,S,v)))),_)break;m=m.return}0<x.length&&(d=new p(d,g,null,n,c),h.push({event:d,listeners:x}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==bc&&(g=n.relatedTarget||n.fromElement)&&(pr(g)||g[yn]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?pr(g):null,g!==null&&(_=Mr(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(x=Ep,S="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(x=Np,S="onPointerLeave",y="onPointerEnter",m="pointer"),_=p==null?d:qr(p),v=g==null?d:qr(g),d=new x(S,m+"leave",p,n,c),d.target=_,d.relatedTarget=v,S=null,pr(c)===u&&(x=new x(y,m+"enter",g,n,c),x.target=v,x.relatedTarget=_,S=x),_=S,p&&g)t:{for(x=p,y=g,m=0,v=x;v;v=Vr(v))m++;for(v=0,S=y;S;S=Vr(S))v++;for(;0<m-v;)x=Vr(x),m--;for(;0<v-m;)y=Vr(y),v--;for(;m--;){if(x===y||y!==null&&x===y.alternate)break t;x=Vr(x),y=Vr(y)}x=null}else x=null;p!==null&&Vp(h,d,p,x,!1),g!==null&&_!==null&&Vp(h,_,g,x,!0)}}e:{if(d=u?qr(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var k=lC;else if(Ap(d))if($0)k=hC;else{k=cC;var b=uC}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=dC);if(k&&(k=k(t,u))){U0(h,k,n,c);break e}b&&b(t,d,u),t==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&wc(d,"number",d.value)}switch(b=u?qr(u):window,t){case"focusin":(Ap(b)||b.contentEditable==="true")&&(Gr=b,Rc=u,fs=null);break;case"focusout":fs=Rc=Gr=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,Dp(h,n,c);break;case"selectionchange":if(mC)break;case"keydown":case"keyup":Dp(h,n,c)}var E;if(ah)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Hr?B0(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(V0&&n.locale!=="ko"&&(Hr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Hr&&(E=F0()):(Rn=c,ih="value"in Rn?Rn.value:Rn.textContent,Hr=!0)),b=Ea(u,N),0<b.length&&(N=new Tp(N,t,null,n,c),h.push({event:N,listeners:b}),E?N.data=E:(E=z0(n),E!==null&&(N.data=E)))),(E=rC?iC(t,n):sC(t,n))&&(u=Ea(u,"onBeforeInput"),0<u.length&&(c=new Tp("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=E))}Z0(h,e)})}function Vs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ea(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rs(t,n),s!=null&&r.unshift(Vs(t,s,i)),s=Rs(t,e),s!=null&&r.push(Vs(t,s,i))),t=t.return}return r}function Vr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vp(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Rs(n,s),l!=null&&o.unshift(Vs(n,l,a))):i||(l=Rs(n,s),l!=null&&o.push(Vs(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var xC=/\r\n?/g,wC=/\u0000|\uFFFD/g;function Bp(t){return(typeof t=="string"?t:""+t).replace(xC,`
`).replace(wC,"")}function $o(t,e,n){if(e=Bp(e),Bp(t)!==e&&n)throw Error(P(425))}function Ta(){}var Mc=null,jc=null;function Dc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oc=typeof setTimeout=="function"?setTimeout:void 0,_C=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,SC=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(t){return zp.resolve(null).then(t).catch(CC)}:Oc;function CC(t){setTimeout(function(){throw t})}function Nu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),js(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);js(e)}function Vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Up(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mi=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Mi,Bs="__reactProps$"+Mi,yn="__reactContainer$"+Mi,Fc="__reactEvents$"+Mi,kC="__reactListeners$"+Mi,bC="__reactHandles$"+Mi;function pr(t){var e=t[Xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yn]||n[Xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Up(t);t!==null;){if(n=t[Xt])return n;t=Up(t)}return e}t=n,n=t.parentNode}return null}function po(t){return t=t[Xt]||t[yn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Al(t){return t[Bs]||null}var Vc=[],Qr=-1;function rr(t){return{current:t}}function de(t){0>Qr||(t.current=Vc[Qr],Vc[Qr]=null,Qr--)}function le(t,e){Qr++,Vc[Qr]=t.current,t.current=e}var Qn={},Qe=rr(Qn),lt=rr(!1),kr=Qn;function yi(t,e){var n=t.type.contextTypes;if(!n)return Qn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ut(t){return t=t.childContextTypes,t!=null}function Na(){de(lt),de(Qe)}function $p(t,e,n){if(Qe.current!==Qn)throw Error(P(168));le(Qe,e),le(lt,n)}function tv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,uS(t)||"Unknown",i));return xe({},n,r)}function Pa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qn,kr=Qe.current,le(Qe,t),le(lt,lt.current),!0}function Wp(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=tv(t,e,kr),r.__reactInternalMemoizedMergedChildContext=t,de(lt),de(Qe),le(Qe,t)):de(lt),le(lt,n)}var ln=null,Rl=!1,Pu=!1;function nv(t){ln===null?ln=[t]:ln.push(t)}function EC(t){Rl=!0,nv(t)}function ir(){if(!Pu&&ln!==null){Pu=!0;var t=0,e=te;try{var n=ln;for(te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ln=null,Rl=!1}catch(i){throw ln!==null&&(ln=ln.slice(t+1)),T0(eh,ir),i}finally{te=e,Pu=!1}}return null}var Yr=[],Xr=0,Ia=null,Aa=0,bt=[],Et=0,br=null,un=1,cn="";function lr(t,e){Yr[Xr++]=Aa,Yr[Xr++]=Ia,Ia=t,Aa=e}function rv(t,e,n){bt[Et++]=un,bt[Et++]=cn,bt[Et++]=br,br=t;var r=un;t=cn;var i=32-$t(r)-1;r&=~(1<<i),n+=1;var s=32-$t(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,un=1<<32-$t(e)+i|n<<i|r,cn=s+t}else un=1<<s|n<<i|r,cn=t}function uh(t){t.return!==null&&(lr(t,1),rv(t,1,0))}function ch(t){for(;t===Ia;)Ia=Yr[--Xr],Yr[Xr]=null,Aa=Yr[--Xr],Yr[Xr]=null;for(;t===br;)br=bt[--Et],bt[Et]=null,cn=bt[--Et],bt[Et]=null,un=bt[--Et],bt[Et]=null}var pt=null,ft=null,pe=!1,Bt=null;function iv(t,e){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pt=t,ft=Vn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pt=t,ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=br!==null?{id:un,overflow:cn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pt=t,ft=null,!0):!1;default:return!1}}function Bc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zc(t){if(pe){var e=ft;if(e){var n=e;if(!Hp(t,e)){if(Bc(t))throw Error(P(418));e=Vn(n.nextSibling);var r=pt;e&&Hp(t,e)?iv(r,n):(t.flags=t.flags&-4097|2,pe=!1,pt=t)}}else{if(Bc(t))throw Error(P(418));t.flags=t.flags&-4097|2,pe=!1,pt=t}}}function Gp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pt=t}function Wo(t){if(t!==pt)return!1;if(!pe)return Gp(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dc(t.type,t.memoizedProps)),e&&(e=ft)){if(Bc(t))throw sv(),Error(P(418));for(;e;)iv(t,e),e=Vn(e.nextSibling)}if(Gp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ft=Vn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ft=null}}else ft=pt?Vn(t.stateNode.nextSibling):null;return!0}function sv(){for(var t=ft;t;)t=Vn(t.nextSibling)}function vi(){ft=pt=null,pe=!1}function dh(t){Bt===null?Bt=[t]:Bt.push(t)}var TC=Cn.ReactCurrentBatchConfig;function Ki(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Ho(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kp(t){var e=t._init;return e(t._payload)}function ov(t){function e(y,m){if(t){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=$n(y,m),y.index=0,y.sibling=null,y}function s(y,m,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,v,S){return m===null||m.tag!==6?(m=Du(v,y.mode,S),m.return=y,m):(m=i(m,v),m.return=y,m)}function l(y,m,v,S){var k=v.type;return k===Wr?c(y,m,v.props.children,S,v.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Nn&&Kp(k)===m.type)?(S=i(m,v.props),S.ref=Ki(y,m,v),S.return=y,S):(S=pa(v.type,v.key,v.props,null,y.mode,S),S.ref=Ki(y,m,v),S.return=y,S)}function u(y,m,v,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Ou(v,y.mode,S),m.return=y,m):(m=i(m,v.children||[]),m.return=y,m)}function c(y,m,v,S,k){return m===null||m.tag!==7?(m=wr(v,y.mode,S,k),m.return=y,m):(m=i(m,v),m.return=y,m)}function h(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Du(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Mo:return v=pa(m.type,m.key,m.props,null,y.mode,v),v.ref=Ki(y,null,m),v.return=y,v;case $r:return m=Ou(m,y.mode,v),m.return=y,m;case Nn:var S=m._init;return h(y,S(m._payload),v)}if(rs(m)||Ui(m))return m=wr(m,y.mode,v,null),m.return=y,m;Ho(y,m)}return null}function d(y,m,v,S){var k=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(y,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Mo:return v.key===k?l(y,m,v,S):null;case $r:return v.key===k?u(y,m,v,S):null;case Nn:return k=v._init,d(y,m,k(v._payload),S)}if(rs(v)||Ui(v))return k!==null?null:c(y,m,v,S,null);Ho(y,v)}return null}function p(y,m,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,a(m,y,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Mo:return y=y.get(S.key===null?v:S.key)||null,l(m,y,S,k);case $r:return y=y.get(S.key===null?v:S.key)||null,u(m,y,S,k);case Nn:var b=S._init;return p(y,m,v,b(S._payload),k)}if(rs(S)||Ui(S))return y=y.get(v)||null,c(m,y,S,k,null);Ho(m,S)}return null}function g(y,m,v,S){for(var k=null,b=null,E=m,N=m=0,U=null;E!==null&&N<v.length;N++){E.index>N?(U=E,E=null):U=E.sibling;var j=d(y,E,v[N],S);if(j===null){E===null&&(E=U);break}t&&E&&j.alternate===null&&e(y,E),m=s(j,m,N),b===null?k=j:b.sibling=j,b=j,E=U}if(N===v.length)return n(y,E),pe&&lr(y,N),k;if(E===null){for(;N<v.length;N++)E=h(y,v[N],S),E!==null&&(m=s(E,m,N),b===null?k=E:b.sibling=E,b=E);return pe&&lr(y,N),k}for(E=r(y,E);N<v.length;N++)U=p(E,y,N,v[N],S),U!==null&&(t&&U.alternate!==null&&E.delete(U.key===null?N:U.key),m=s(U,m,N),b===null?k=U:b.sibling=U,b=U);return t&&E.forEach(function(re){return e(y,re)}),pe&&lr(y,N),k}function x(y,m,v,S){var k=Ui(v);if(typeof k!="function")throw Error(P(150));if(v=k.call(v),v==null)throw Error(P(151));for(var b=k=null,E=m,N=m=0,U=null,j=v.next();E!==null&&!j.done;N++,j=v.next()){E.index>N?(U=E,E=null):U=E.sibling;var re=d(y,E,j.value,S);if(re===null){E===null&&(E=U);break}t&&E&&re.alternate===null&&e(y,E),m=s(re,m,N),b===null?k=re:b.sibling=re,b=re,E=U}if(j.done)return n(y,E),pe&&lr(y,N),k;if(E===null){for(;!j.done;N++,j=v.next())j=h(y,j.value,S),j!==null&&(m=s(j,m,N),b===null?k=j:b.sibling=j,b=j);return pe&&lr(y,N),k}for(E=r(y,E);!j.done;N++,j=v.next())j=p(E,y,N,j.value,S),j!==null&&(t&&j.alternate!==null&&E.delete(j.key===null?N:j.key),m=s(j,m,N),b===null?k=j:b.sibling=j,b=j);return t&&E.forEach(function(Rt){return e(y,Rt)}),pe&&lr(y,N),k}function _(y,m,v,S){if(typeof v=="object"&&v!==null&&v.type===Wr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Mo:e:{for(var k=v.key,b=m;b!==null;){if(b.key===k){if(k=v.type,k===Wr){if(b.tag===7){n(y,b.sibling),m=i(b,v.props.children),m.return=y,y=m;break e}}else if(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Nn&&Kp(k)===b.type){n(y,b.sibling),m=i(b,v.props),m.ref=Ki(y,b,v),m.return=y,y=m;break e}n(y,b);break}else e(y,b);b=b.sibling}v.type===Wr?(m=wr(v.props.children,y.mode,S,v.key),m.return=y,y=m):(S=pa(v.type,v.key,v.props,null,y.mode,S),S.ref=Ki(y,m,v),S.return=y,y=S)}return o(y);case $r:e:{for(b=v.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(y,m.sibling),m=i(m,v.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=Ou(v,y.mode,S),m.return=y,y=m}return o(y);case Nn:return b=v._init,_(y,m,b(v._payload),S)}if(rs(v))return g(y,m,v,S);if(Ui(v))return x(y,m,v,S);Ho(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(y,m.sibling),m=i(m,v),m.return=y,y=m):(n(y,m),m=Du(v,y.mode,S),m.return=y,y=m),o(y)):n(y,m)}return _}var xi=ov(!0),av=ov(!1),Ra=rr(null),La=null,Jr=null,hh=null;function fh(){hh=Jr=La=null}function ph(t){var e=Ra.current;de(Ra),t._currentValue=e}function Uc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function di(t,e){La=t,hh=Jr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ot=!0),t.firstContext=null)}function It(t){var e=t._currentValue;if(hh!==t)if(t={context:t,memoizedValue:e,next:null},Jr===null){if(La===null)throw Error(P(308));Jr=t,La.dependencies={lanes:0,firstContext:t}}else Jr=Jr.next=t;return e}var mr=null;function mh(t){mr===null?mr=[t]:mr.push(t)}function lv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mh(e)):(n.next=i.next,i.next=n),e.interleaved=n,vn(t,r)}function vn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pn=!1;function gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vn(t,n)}return i=r.interleaved,i===null?(e.next=e,mh(r)):(e.next=i.next,i.next=e),r.interleaved=e,vn(t,n)}function la(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,th(t,n)}}function qp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ma(t,e,n,r){var i=t.updateQueue;Pn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,x=a;switch(d=e,p=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(p,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,d=typeof g=="function"?g.call(p,h,d):g,d==null)break e;h=xe({},h,d);break e;case 2:Pn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Tr|=o,t.lanes=o,t.memoizedState=h}}function Qp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var mo={},tn=rr(mo),zs=rr(mo),Us=rr(mo);function gr(t){if(t===mo)throw Error(P(174));return t}function yh(t,e){switch(le(Us,e),le(zs,t),le(tn,mo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sc(e,t)}de(tn),le(tn,e)}function wi(){de(tn),de(zs),de(Us)}function cv(t){gr(Us.current);var e=gr(tn.current),n=Sc(e,t.type);e!==n&&(le(zs,t),le(tn,n))}function vh(t){zs.current===t&&(de(tn),de(zs))}var ge=rr(0);function ja(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Iu=[];function xh(){for(var t=0;t<Iu.length;t++)Iu[t]._workInProgressVersionPrimary=null;Iu.length=0}var ua=Cn.ReactCurrentDispatcher,Au=Cn.ReactCurrentBatchConfig,Er=0,ve=null,Pe=null,Me=null,Da=!1,ps=!1,$s=0,NC=0;function We(){throw Error(P(321))}function wh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gt(t[n],e[n]))return!1;return!0}function _h(t,e,n,r,i,s){if(Er=s,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ua.current=t===null||t.memoizedState===null?RC:LC,t=n(r,i),ps){s=0;do{if(ps=!1,$s=0,25<=s)throw Error(P(301));s+=1,Me=Pe=null,e.updateQueue=null,ua.current=MC,t=n(r,i)}while(ps)}if(ua.current=Oa,e=Pe!==null&&Pe.next!==null,Er=0,Me=Pe=ve=null,Da=!1,e)throw Error(P(300));return t}function Sh(){var t=$s!==0;return $s=0,t}function Yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ve.memoizedState=Me=t:Me=Me.next=t,Me}function At(){if(Pe===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Me===null?ve.memoizedState:Me.next;if(e!==null)Me=e,Pe=t;else{if(t===null)throw Error(P(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Me===null?ve.memoizedState=Me=t:Me=Me.next=t}return Me}function Ws(t,e){return typeof e=="function"?e(t):e}function Ru(t){var e=At(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=Pe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Er&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ve.lanes|=c,Tr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Gt(r,e.memoizedState)||(ot=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ve.lanes|=s,Tr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lu(t){var e=At(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Gt(s,e.memoizedState)||(ot=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function dv(){}function hv(t,e){var n=ve,r=At(),i=e(),s=!Gt(r.memoizedState,i);if(s&&(r.memoizedState=i,ot=!0),r=r.queue,Ch(mv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Hs(9,pv.bind(null,n,r,i,e),void 0,null),De===null)throw Error(P(349));Er&30||fv(n,e,i)}return i}function fv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pv(t,e,n,r){e.value=n,e.getSnapshot=r,gv(e)&&yv(t)}function mv(t,e,n){return n(function(){gv(e)&&yv(t)})}function gv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gt(t,n)}catch{return!0}}function yv(t){var e=vn(t,1);e!==null&&Wt(e,t,1,-1)}function Yp(t){var e=Yt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:t},e.queue=t,t=t.dispatch=AC.bind(null,ve,t),[e.memoizedState,t]}function Hs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vv(){return At().memoizedState}function ca(t,e,n,r){var i=Yt();ve.flags|=t,i.memoizedState=Hs(1|e,n,void 0,r===void 0?null:r)}function Ll(t,e,n,r){var i=At();r=r===void 0?null:r;var s=void 0;if(Pe!==null){var o=Pe.memoizedState;if(s=o.destroy,r!==null&&wh(r,o.deps)){i.memoizedState=Hs(e,n,s,r);return}}ve.flags|=t,i.memoizedState=Hs(1|e,n,s,r)}function Xp(t,e){return ca(8390656,8,t,e)}function Ch(t,e){return Ll(2048,8,t,e)}function xv(t,e){return Ll(4,2,t,e)}function wv(t,e){return Ll(4,4,t,e)}function _v(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sv(t,e,n){return n=n!=null?n.concat([t]):null,Ll(4,4,_v.bind(null,e,t),n)}function kh(){}function Cv(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kv(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bv(t,e,n){return Er&21?(Gt(n,e)||(n=I0(),ve.lanes|=n,Tr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ot=!0),t.memoizedState=n)}function PC(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var r=Au.transition;Au.transition={};try{t(!1),e()}finally{te=n,Au.transition=r}}function Ev(){return At().memoizedState}function IC(t,e,n){var r=Un(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Tv(t))Nv(e,n);else if(n=lv(t,e,n,r),n!==null){var i=Ze();Wt(n,t,r,i),Pv(n,e,r)}}function AC(t,e,n){var r=Un(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tv(t))Nv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Gt(a,o)){var l=e.interleaved;l===null?(i.next=i,mh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=lv(t,e,i,r),n!==null&&(i=Ze(),Wt(n,t,r,i),Pv(n,e,r))}}function Tv(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function Nv(t,e){ps=Da=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Pv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,th(t,n)}}var Oa={readContext:It,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},RC={readContext:It,useCallback:function(t,e){return Yt().memoizedState=[t,e===void 0?null:e],t},useContext:It,useEffect:Xp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ca(4194308,4,_v.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ca(4194308,4,t,e)},useInsertionEffect:function(t,e){return ca(4,2,t,e)},useMemo:function(t,e){var n=Yt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IC.bind(null,ve,t),[r.memoizedState,t]},useRef:function(t){var e=Yt();return t={current:t},e.memoizedState=t},useState:Yp,useDebugValue:kh,useDeferredValue:function(t){return Yt().memoizedState=t},useTransition:function(){var t=Yp(!1),e=t[0];return t=PC.bind(null,t[1]),Yt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ve,i=Yt();if(pe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),De===null)throw Error(P(349));Er&30||fv(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Xp(mv.bind(null,r,s,t),[t]),r.flags|=2048,Hs(9,pv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Yt(),e=De.identifierPrefix;if(pe){var n=cn,r=un;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$s++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=NC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LC={readContext:It,useCallback:Cv,useContext:It,useEffect:Ch,useImperativeHandle:Sv,useInsertionEffect:xv,useLayoutEffect:wv,useMemo:kv,useReducer:Ru,useRef:vv,useState:function(){return Ru(Ws)},useDebugValue:kh,useDeferredValue:function(t){var e=At();return bv(e,Pe.memoizedState,t)},useTransition:function(){var t=Ru(Ws)[0],e=At().memoizedState;return[t,e]},useMutableSource:dv,useSyncExternalStore:hv,useId:Ev,unstable_isNewReconciler:!1},MC={readContext:It,useCallback:Cv,useContext:It,useEffect:Ch,useImperativeHandle:Sv,useInsertionEffect:xv,useLayoutEffect:wv,useMemo:kv,useReducer:Lu,useRef:vv,useState:function(){return Lu(Ws)},useDebugValue:kh,useDeferredValue:function(t){var e=At();return Pe===null?e.memoizedState=t:bv(e,Pe.memoizedState,t)},useTransition:function(){var t=Lu(Ws)[0],e=At().memoizedState;return[t,e]},useMutableSource:dv,useSyncExternalStore:hv,useId:Ev,unstable_isNewReconciler:!1};function Ft(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $c(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ml={isMounted:function(t){return(t=t._reactInternals)?Mr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ze(),i=Un(t),s=hn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bn(t,s,i),e!==null&&(Wt(e,t,i,r),la(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ze(),i=Un(t),s=hn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bn(t,s,i),e!==null&&(Wt(e,t,i,r),la(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ze(),r=Un(t),i=hn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bn(t,i,r),e!==null&&(Wt(e,t,r,n),la(e,t,r))}};function Jp(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Os(n,r)||!Os(i,s):!0}function Iv(t,e,n){var r=!1,i=Qn,s=e.contextType;return typeof s=="object"&&s!==null?s=It(s):(i=ut(e)?kr:Qe.current,r=e.contextTypes,s=(r=r!=null)?yi(t,i):Qn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ml,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Zp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ml.enqueueReplaceState(e,e.state,null)}function Wc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},gh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=It(s):(s=ut(e)?kr:Qe.current,i.context=yi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($c(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ml.enqueueReplaceState(i,i.state,null),Ma(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _i(t,e){try{var n="",r=e;do n+=lS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Mu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jC=typeof WeakMap=="function"?WeakMap:Map;function Av(t,e,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Va||(Va=!0,td=r),Hc(t,e)},n}function Rv(t,e,n){n=hn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Hc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Hc(t,e),typeof r!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function em(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=QC.bind(null,t,e,n),e.then(t,t))}function tm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hn(-1,1),e.tag=2,Bn(n,e,1))),n.lanes|=1),t)}var DC=Cn.ReactCurrentOwner,ot=!1;function Xe(t,e,n,r){e.child=t===null?av(e,null,n,r):xi(e,t.child,n,r)}function rm(t,e,n,r,i){n=n.render;var s=e.ref;return di(e,i),r=_h(t,e,n,r,s,i),n=Sh(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xn(t,e,i)):(pe&&n&&uh(e),e.flags|=1,Xe(t,e,r,i),e.child)}function im(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Rh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Lv(t,e,s,r,i)):(t=pa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Os,n(o,r)&&t.ref===e.ref)return xn(t,e,i)}return e.flags|=1,t=$n(s,r),t.ref=e.ref,t.return=e,e.child=t}function Lv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Os(s,r)&&t.ref===e.ref)if(ot=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ot=!0);else return e.lanes=t.lanes,xn(t,e,i)}return Gc(t,e,n,r,i)}function Mv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(ei,ht),ht|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(ei,ht),ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,le(ei,ht),ht|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,le(ei,ht),ht|=r;return Xe(t,e,i,n),e.child}function jv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gc(t,e,n,r,i){var s=ut(n)?kr:Qe.current;return s=yi(e,s),di(e,i),n=_h(t,e,n,r,s,i),r=Sh(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xn(t,e,i)):(pe&&r&&uh(e),e.flags|=1,Xe(t,e,n,i),e.child)}function sm(t,e,n,r,i){if(ut(n)){var s=!0;Pa(e)}else s=!1;if(di(e,i),e.stateNode===null)da(t,e),Iv(e,n,r),Wc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=It(u):(u=ut(n)?kr:Qe.current,u=yi(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Zp(e,o,r,u),Pn=!1;var d=e.memoizedState;o.state=d,Ma(e,r,o,i),l=e.memoizedState,a!==r||d!==l||lt.current||Pn?(typeof c=="function"&&($c(e,n,c,r),l=e.memoizedState),(a=Pn||Jp(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uv(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ft(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=It(l):(l=ut(n)?kr:Qe.current,l=yi(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Zp(e,o,r,l),Pn=!1,d=e.memoizedState,o.state=d,Ma(e,r,o,i);var g=e.memoizedState;a!==h||d!==g||lt.current||Pn?(typeof p=="function"&&($c(e,n,p,r),g=e.memoizedState),(u=Pn||Jp(e,n,u,r,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Kc(t,e,n,r,s,i)}function Kc(t,e,n,r,i,s){jv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Wp(e,n,!1),xn(t,e,s);r=e.stateNode,DC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=xi(e,t.child,null,s),e.child=xi(e,null,a,s)):Xe(t,e,a,s),e.memoizedState=r.state,i&&Wp(e,n,!0),e.child}function Dv(t){var e=t.stateNode;e.pendingContext?$p(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$p(t,e.context,!1),yh(t,e.containerInfo)}function om(t,e,n,r,i){return vi(),dh(i),e.flags|=256,Xe(t,e,n,r),e.child}var qc={dehydrated:null,treeContext:null,retryLane:0};function Qc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ov(t,e,n){var r=e.pendingProps,i=ge.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),le(ge,i&1),t===null)return zc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ol(o,r,0,null),t=wr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qc(n),e.memoizedState=qc,t):bh(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return OC(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$n(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=$n(a,s):(s=wr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Qc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=qc,r}return s=t.child,t=s.sibling,r=$n(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bh(t,e){return e=Ol({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Go(t,e,n,r){return r!==null&&dh(r),xi(e,t.child,null,n),t=bh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Mu(Error(P(422))),Go(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ol({mode:"visible",children:r.children},i,0,null),s=wr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&xi(e,t.child,null,o),e.child.memoizedState=Qc(o),e.memoizedState=qc,s);if(!(e.mode&1))return Go(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(P(419)),r=Mu(s,r,void 0),Go(t,e,o,r)}if(a=(o&t.childLanes)!==0,ot||a){if(r=De,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vn(t,i),Wt(r,t,i,-1))}return Ah(),r=Mu(Error(P(421))),Go(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=YC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ft=Vn(i.nextSibling),pt=e,pe=!0,Bt=null,t!==null&&(bt[Et++]=un,bt[Et++]=cn,bt[Et++]=br,un=t.id,cn=t.overflow,br=e),e=bh(e,r.children),e.flags|=4096,e)}function am(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Uc(t.return,e,n)}function ju(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Fv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xe(t,e,r.children,n),r=ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&am(t,n,e);else if(t.tag===19)am(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(le(ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ja(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ju(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ja(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ju(e,!0,n,null,s);break;case"together":ju(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function da(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Tr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=$n(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$n(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FC(t,e,n){switch(e.tag){case 3:Dv(e),vi();break;case 5:cv(e);break;case 1:ut(e.type)&&Pa(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;le(Ra,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(le(ge,ge.current&1),e.flags|=128,null):n&e.child.childLanes?Ov(t,e,n):(le(ge,ge.current&1),t=xn(t,e,n),t!==null?t.sibling:null);le(ge,ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Fv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(ge,ge.current),r)break;return null;case 22:case 23:return e.lanes=0,Mv(t,e,n)}return xn(t,e,n)}var Vv,Yc,Bv,zv;Vv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yc=function(){};Bv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,gr(tn.current);var s=null;switch(n){case"input":i=vc(t,i),r=vc(t,r),s=[];break;case"select":i=xe({},i,{value:void 0}),r=xe({},r,{value:void 0}),s=[];break;case"textarea":i=_c(t,i),r=_c(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ta)}Cc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Is.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Is.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ce("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};zv=function(t,e,n,r){n!==r&&(e.flags|=4)};function qi(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function VC(t,e,n){var r=e.pendingProps;switch(ch(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return ut(e.type)&&Na(),He(e),null;case 3:return r=e.stateNode,wi(),de(lt),de(Qe),xh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(id(Bt),Bt=null))),Yc(t,e),He(e),null;case 5:vh(e);var i=gr(Us.current);if(n=e.type,t!==null&&e.stateNode!=null)Bv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return He(e),null}if(t=gr(tn.current),Wo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Xt]=e,r[Bs]=s,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(i=0;i<ss.length;i++)ce(ss[i],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":gp(r,s),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ce("invalid",r);break;case"textarea":vp(r,s),ce("invalid",r)}Cc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$o(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$o(r.textContent,a,t),i=["children",""+a]):Is.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",r)}switch(n){case"input":jo(r),yp(r,s,!0);break;case"textarea":jo(r),xp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ta)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xt]=e,t[Bs]=r,Vv(t,e,!1,!1),e.stateNode=t;e:{switch(o=kc(n,r),n){case"dialog":ce("cancel",t),ce("close",t),i=r;break;case"iframe":case"object":case"embed":ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<ss.length;i++)ce(ss[i],t);i=r;break;case"source":ce("error",t),i=r;break;case"img":case"image":case"link":ce("error",t),ce("load",t),i=r;break;case"details":ce("toggle",t),i=r;break;case"input":gp(t,r),i=vc(t,r),ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xe({},r,{value:void 0}),ce("invalid",t);break;case"textarea":vp(t,r),i=_c(t,r),ce("invalid",t);break;default:i=r}Cc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?v0(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&g0(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&As(t,l):typeof l=="number"&&As(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Is.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ce("scroll",t):l!=null&&Qd(t,s,l,o))}switch(n){case"input":jo(t),yp(t,r,!1);break;case"textarea":jo(t),xp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ai(t,!!r.multiple,s,!1):r.defaultValue!=null&&ai(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ta)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)zv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=gr(Us.current),gr(tn.current),Wo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xt]=e,(s=r.nodeValue!==n)&&(t=pt,t!==null))switch(t.tag){case 3:$o(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$o(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xt]=e,e.stateNode=r}return He(e),null;case 13:if(de(ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&ft!==null&&e.mode&1&&!(e.flags&128))sv(),vi(),e.flags|=98560,s=!1;else if(s=Wo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[Xt]=e}else vi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),s=!1}else Bt!==null&&(id(Bt),Bt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ge.current&1?Re===0&&(Re=3):Ah())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return wi(),Yc(t,e),t===null&&Fs(e.stateNode.containerInfo),He(e),null;case 10:return ph(e.type._context),He(e),null;case 17:return ut(e.type)&&Na(),He(e),null;case 19:if(de(ge),s=e.memoizedState,s===null)return He(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qi(s,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ja(t),o!==null){for(e.flags|=128,qi(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(ge,ge.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ee()>Si&&(e.flags|=128,r=!0,qi(s,!1),e.lanes=4194304)}else{if(!r)if(t=ja(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pe)return He(e),null}else 2*Ee()-s.renderingStartTime>Si&&n!==1073741824&&(e.flags|=128,r=!0,qi(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ee(),e.sibling=null,n=ge.current,le(ge,r?n&1|2:n&1),e):(He(e),null);case 22:case 23:return Ih(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ht&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function BC(t,e){switch(ch(e),e.tag){case 1:return ut(e.type)&&Na(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wi(),de(lt),de(Qe),xh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vh(e),null;case 13:if(de(ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));vi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(ge),null;case 4:return wi(),null;case 10:return ph(e.type._context),null;case 22:case 23:return Ih(),null;case 24:return null;default:return null}}var Ko=!1,Ke=!1,zC=typeof WeakSet=="function"?WeakSet:Set,M=null;function Zr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(t,e,r)}else n.current=null}function Xc(t,e,n){try{n()}catch(r){Ce(t,e,r)}}var lm=!1;function UC(t,e){if(Mc=ka,t=G0(),lh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jc={focusedElem:t,selectionRange:n},ka=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,_=g.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ft(e.type,x),_);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){Ce(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return g=lm,lm=!1,g}function ms(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xc(e,n,s)}i=i.next}while(i!==r)}}function jl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Uv(t){var e=t.alternate;e!==null&&(t.alternate=null,Uv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xt],delete e[Bs],delete e[Fc],delete e[kC],delete e[bC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $v(t){return t.tag===5||t.tag===3||t.tag===4}function um(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$v(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ta));else if(r!==4&&(t=t.child,t!==null))for(Zc(t,e,n),t=t.sibling;t!==null;)Zc(t,e,n),t=t.sibling}function ed(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ed(t,e,n),t=t.sibling;t!==null;)ed(t,e,n),t=t.sibling}var Fe=null,Vt=!1;function En(t,e,n){for(n=n.child;n!==null;)Wv(t,e,n),n=n.sibling}function Wv(t,e,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Tl,n)}catch{}switch(n.tag){case 5:Ke||Zr(n,e);case 6:var r=Fe,i=Vt;Fe=null,En(t,e,n),Fe=r,Vt=i,Fe!==null&&(Vt?(t=Fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Vt?(t=Fe,n=n.stateNode,t.nodeType===8?Nu(t.parentNode,n):t.nodeType===1&&Nu(t,n),js(t)):Nu(Fe,n.stateNode));break;case 4:r=Fe,i=Vt,Fe=n.stateNode.containerInfo,Vt=!0,En(t,e,n),Fe=r,Vt=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Xc(n,e,o),i=i.next}while(i!==r)}En(t,e,n);break;case 1:if(!Ke&&(Zr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,e,a)}En(t,e,n);break;case 21:En(t,e,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,En(t,e,n),Ke=r):En(t,e,n);break;default:En(t,e,n)}}function cm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zC),e.forEach(function(r){var i=XC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,Vt=!1;break e;case 3:Fe=a.stateNode.containerInfo,Vt=!0;break e;case 4:Fe=a.stateNode.containerInfo,Vt=!0;break e}a=a.return}if(Fe===null)throw Error(P(160));Wv(s,o,i),Fe=null,Vt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ce(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hv(e,t),e=e.sibling}function Hv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dt(e,t),Qt(t),r&4){try{ms(3,t,t.return),jl(3,t)}catch(x){Ce(t,t.return,x)}try{ms(5,t,t.return)}catch(x){Ce(t,t.return,x)}}break;case 1:Dt(e,t),Qt(t),r&512&&n!==null&&Zr(n,n.return);break;case 5:if(Dt(e,t),Qt(t),r&512&&n!==null&&Zr(n,n.return),t.flags&32){var i=t.stateNode;try{As(i,"")}catch(x){Ce(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&f0(i,s),kc(a,o);var u=kc(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?v0(i,h):c==="dangerouslySetInnerHTML"?g0(i,h):c==="children"?As(i,h):Qd(i,c,h,u)}switch(a){case"input":xc(i,s);break;case"textarea":p0(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ai(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?ai(i,!!s.multiple,s.defaultValue,!0):ai(i,!!s.multiple,s.multiple?[]:"",!1))}i[Bs]=s}catch(x){Ce(t,t.return,x)}}break;case 6:if(Dt(e,t),Qt(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Ce(t,t.return,x)}}break;case 3:if(Dt(e,t),Qt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{js(e.containerInfo)}catch(x){Ce(t,t.return,x)}break;case 4:Dt(e,t),Qt(t);break;case 13:Dt(e,t),Qt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nh=Ee())),r&4&&cm(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ke=(u=Ke)||c,Dt(e,t),Ke=u):Dt(e,t),Qt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(M=t,c=t.child;c!==null;){for(h=M=c;M!==null;){switch(d=M,p=d.child,d.tag){case 0:case 11:case 14:case 15:ms(4,d,d.return);break;case 1:Zr(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){Ce(r,n,x)}}break;case 5:Zr(d,d.return);break;case 22:if(d.memoizedState!==null){hm(h);continue}}p!==null?(p.return=d,M=p):hm(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=y0("display",o))}catch(x){Ce(t,t.return,x)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Ce(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Dt(e,t),Qt(t),r&4&&cm(t);break;case 21:break;default:Dt(e,t),Qt(t)}}function Qt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($v(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(As(i,""),r.flags&=-33);var s=um(t);ed(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=um(t);Zc(t,a,o);break;default:throw Error(P(161))}}catch(l){Ce(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $C(t,e,n){M=t,Gv(t)}function Gv(t,e,n){for(var r=(t.mode&1)!==0;M!==null;){var i=M,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ko;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ke;a=Ko;var u=Ke;if(Ko=o,(Ke=l)&&!u)for(M=i;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?fm(i):l!==null?(l.return=o,M=l):fm(i);for(;s!==null;)M=s,Gv(s),s=s.sibling;M=i,Ko=a,Ke=u}dm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,M=s):dm(t)}}function dm(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ke||jl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ft(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Qp(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&js(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ke||e.flags&512&&Jc(e)}catch(d){Ce(e,e.return,d)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function hm(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function fm(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jl(4,e)}catch(l){Ce(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ce(e,i,l)}}var s=e.return;try{Jc(e)}catch(l){Ce(e,s,l)}break;case 5:var o=e.return;try{Jc(e)}catch(l){Ce(e,o,l)}}}catch(l){Ce(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var WC=Math.ceil,Fa=Cn.ReactCurrentDispatcher,Eh=Cn.ReactCurrentOwner,Pt=Cn.ReactCurrentBatchConfig,Z=0,De=null,Ne=null,ze=0,ht=0,ei=rr(0),Re=0,Gs=null,Tr=0,Dl=0,Th=0,gs=null,st=null,Nh=0,Si=1/0,an=null,Va=!1,td=null,zn=null,qo=!1,Ln=null,Ba=0,ys=0,nd=null,ha=-1,fa=0;function Ze(){return Z&6?Ee():ha!==-1?ha:ha=Ee()}function Un(t){return t.mode&1?Z&2&&ze!==0?ze&-ze:TC.transition!==null?(fa===0&&(fa=I0()),fa):(t=te,t!==0||(t=window.event,t=t===void 0?16:O0(t.type)),t):1}function Wt(t,e,n,r){if(50<ys)throw ys=0,nd=null,Error(P(185));ho(t,n,r),(!(Z&2)||t!==De)&&(t===De&&(!(Z&2)&&(Dl|=n),Re===4&&An(t,ze)),ct(t,r),n===1&&Z===0&&!(e.mode&1)&&(Si=Ee()+500,Rl&&ir()))}function ct(t,e){var n=t.callbackNode;TS(t,e);var r=Ca(t,t===De?ze:0);if(r===0)n!==null&&Sp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sp(n),e===1)t.tag===0?EC(pm.bind(null,t)):nv(pm.bind(null,t)),SC(function(){!(Z&6)&&ir()}),n=null;else{switch(A0(r)){case 1:n=eh;break;case 4:n=N0;break;case 16:n=Sa;break;case 536870912:n=P0;break;default:n=Sa}n=ex(n,Kv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Kv(t,e){if(ha=-1,fa=0,Z&6)throw Error(P(327));var n=t.callbackNode;if(hi()&&t.callbackNode!==n)return null;var r=Ca(t,t===De?ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=za(t,r);else{e=r;var i=Z;Z|=2;var s=Qv();(De!==t||ze!==e)&&(an=null,Si=Ee()+500,xr(t,e));do try{KC();break}catch(a){qv(t,a)}while(!0);fh(),Fa.current=s,Z=i,Ne!==null?e=0:(De=null,ze=0,e=Re)}if(e!==0){if(e===2&&(i=Pc(t),i!==0&&(r=i,e=rd(t,i))),e===1)throw n=Gs,xr(t,0),An(t,r),ct(t,Ee()),n;if(e===6)An(t,r);else{if(i=t.current.alternate,!(r&30)&&!HC(i)&&(e=za(t,r),e===2&&(s=Pc(t),s!==0&&(r=s,e=rd(t,s))),e===1))throw n=Gs,xr(t,0),An(t,r),ct(t,Ee()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:ur(t,st,an);break;case 3:if(An(t,r),(r&130023424)===r&&(e=Nh+500-Ee(),10<e)){if(Ca(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ze(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Oc(ur.bind(null,t,st,an),e);break}ur(t,st,an);break;case 4:if(An(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-$t(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WC(r/1960))-r,10<r){t.timeoutHandle=Oc(ur.bind(null,t,st,an),r);break}ur(t,st,an);break;case 5:ur(t,st,an);break;default:throw Error(P(329))}}}return ct(t,Ee()),t.callbackNode===n?Kv.bind(null,t):null}function rd(t,e){var n=gs;return t.current.memoizedState.isDehydrated&&(xr(t,e).flags|=256),t=za(t,e),t!==2&&(e=st,st=n,e!==null&&id(e)),t}function id(t){st===null?st=t:st.push.apply(st,t)}function HC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function An(t,e){for(e&=~Th,e&=~Dl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$t(e),r=1<<n;t[n]=-1,e&=~r}}function pm(t){if(Z&6)throw Error(P(327));hi();var e=Ca(t,0);if(!(e&1))return ct(t,Ee()),null;var n=za(t,e);if(t.tag!==0&&n===2){var r=Pc(t);r!==0&&(e=r,n=rd(t,r))}if(n===1)throw n=Gs,xr(t,0),An(t,e),ct(t,Ee()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ur(t,st,an),ct(t,Ee()),null}function Ph(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(Si=Ee()+500,Rl&&ir())}}function Nr(t){Ln!==null&&Ln.tag===0&&!(Z&6)&&hi();var e=Z;Z|=1;var n=Pt.transition,r=te;try{if(Pt.transition=null,te=1,t)return t()}finally{te=r,Pt.transition=n,Z=e,!(Z&6)&&ir()}}function Ih(){ht=ei.current,de(ei)}function xr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_C(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(ch(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Na();break;case 3:wi(),de(lt),de(Qe),xh();break;case 5:vh(r);break;case 4:wi();break;case 13:de(ge);break;case 19:de(ge);break;case 10:ph(r.type._context);break;case 22:case 23:Ih()}n=n.return}if(De=t,Ne=t=$n(t.current,null),ze=ht=e,Re=0,Gs=null,Th=Dl=Tr=0,st=gs=null,mr!==null){for(e=0;e<mr.length;e++)if(n=mr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}mr=null}return t}function qv(t,e){do{var n=Ne;try{if(fh(),ua.current=Oa,Da){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Da=!1}if(Er=0,Me=Pe=ve=null,ps=!1,$s=0,Eh.current=null,n===null||n.return===null){Re=1,Gs=e,Ne=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=tm(o);if(p!==null){p.flags&=-257,nm(p,o,a,s,e),p.mode&1&&em(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){em(s,u,e),Ah();break e}l=Error(P(426))}}else if(pe&&a.mode&1){var _=tm(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),nm(_,o,a,s,e),dh(_i(l,a));break e}}s=l=_i(l,a),Re!==4&&(Re=2),gs===null?gs=[s]:gs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=Av(s,l,e);qp(s,y);break e;case 1:a=l;var m=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(zn===null||!zn.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=Rv(s,a,e);qp(s,S);break e}}s=s.return}while(s!==null)}Xv(n)}catch(k){e=k,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function Qv(){var t=Fa.current;return Fa.current=Oa,t===null?Oa:t}function Ah(){(Re===0||Re===3||Re===2)&&(Re=4),De===null||!(Tr&268435455)&&!(Dl&268435455)||An(De,ze)}function za(t,e){var n=Z;Z|=2;var r=Qv();(De!==t||ze!==e)&&(an=null,xr(t,e));do try{GC();break}catch(i){qv(t,i)}while(!0);if(fh(),Z=n,Fa.current=r,Ne!==null)throw Error(P(261));return De=null,ze=0,Re}function GC(){for(;Ne!==null;)Yv(Ne)}function KC(){for(;Ne!==null&&!vS();)Yv(Ne)}function Yv(t){var e=Zv(t.alternate,t,ht);t.memoizedProps=t.pendingProps,e===null?Xv(t):Ne=e,Eh.current=null}function Xv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=BC(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,Ne=null;return}}else if(n=VC(n,e,ht),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);Re===0&&(Re=5)}function ur(t,e,n){var r=te,i=Pt.transition;try{Pt.transition=null,te=1,qC(t,e,n,r)}finally{Pt.transition=i,te=r}return null}function qC(t,e,n,r){do hi();while(Ln!==null);if(Z&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(NS(t,s),t===De&&(Ne=De=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qo||(qo=!0,ex(Sa,function(){return hi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pt.transition,Pt.transition=null;var o=te;te=1;var a=Z;Z|=4,Eh.current=null,UC(t,n),Hv(n,t),pC(jc),ka=!!Mc,jc=Mc=null,t.current=n,$C(n),xS(),Z=a,te=o,Pt.transition=s}else t.current=n;if(qo&&(qo=!1,Ln=t,Ba=i),s=t.pendingLanes,s===0&&(zn=null),SS(n.stateNode),ct(t,Ee()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Va)throw Va=!1,t=td,td=null,t;return Ba&1&&t.tag!==0&&hi(),s=t.pendingLanes,s&1?t===nd?ys++:(ys=0,nd=t):ys=0,ir(),null}function hi(){if(Ln!==null){var t=A0(Ba),e=Pt.transition,n=te;try{if(Pt.transition=null,te=16>t?16:t,Ln===null)var r=!1;else{if(t=Ln,Ln=null,Ba=0,Z&6)throw Error(P(331));var i=Z;for(Z|=4,M=t.current;M!==null;){var s=M,o=s.child;if(M.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(M=u;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:ms(8,c,s)}var h=c.child;if(h!==null)h.return=c,M=h;else for(;M!==null;){c=M;var d=c.sibling,p=c.return;if(Uv(c),c===u){M=null;break}if(d!==null){d.return=p,M=d;break}M=p}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}M=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,M=o;else e:for(;M!==null;){if(s=M,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ms(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,M=y;break e}M=s.return}}var m=t.current;for(M=m;M!==null;){o=M;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,M=v;else e:for(o=m;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jl(9,a)}}catch(k){Ce(a,a.return,k)}if(a===o){M=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,M=S;break e}M=a.return}}if(Z=i,ir(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Tl,t)}catch{}r=!0}return r}finally{te=n,Pt.transition=e}}return!1}function mm(t,e,n){e=_i(n,e),e=Av(t,e,1),t=Bn(t,e,1),e=Ze(),t!==null&&(ho(t,1,e),ct(t,e))}function Ce(t,e,n){if(t.tag===3)mm(t,t,n);else for(;e!==null;){if(e.tag===3){mm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zn===null||!zn.has(r))){t=_i(n,t),t=Rv(e,t,1),e=Bn(e,t,1),t=Ze(),e!==null&&(ho(e,1,t),ct(e,t));break}}e=e.return}}function QC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ze(),t.pingedLanes|=t.suspendedLanes&n,De===t&&(ze&n)===n&&(Re===4||Re===3&&(ze&130023424)===ze&&500>Ee()-Nh?xr(t,0):Th|=n),ct(t,e)}function Jv(t,e){e===0&&(t.mode&1?(e=Fo,Fo<<=1,!(Fo&130023424)&&(Fo=4194304)):e=1);var n=Ze();t=vn(t,e),t!==null&&(ho(t,e,n),ct(t,n))}function YC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Jv(t,n)}function XC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),Jv(t,n)}var Zv;Zv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lt.current)ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ot=!1,FC(t,e,n);ot=!!(t.flags&131072)}else ot=!1,pe&&e.flags&1048576&&rv(e,Aa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;da(t,e),t=e.pendingProps;var i=yi(e,Qe.current);di(e,n),i=_h(null,e,r,t,i,n);var s=Sh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ut(r)?(s=!0,Pa(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gh(e),i.updater=Ml,e.stateNode=i,i._reactInternals=e,Wc(e,r,t,n),e=Kc(null,e,r,!0,s,n)):(e.tag=0,pe&&s&&uh(e),Xe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(da(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ZC(r),t=Ft(r,t),i){case 0:e=Gc(null,e,r,t,n);break e;case 1:e=sm(null,e,r,t,n);break e;case 11:e=rm(null,e,r,t,n);break e;case 14:e=im(null,e,r,Ft(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),Gc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),sm(t,e,r,i,n);case 3:e:{if(Dv(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uv(t,e),Ma(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_i(Error(P(423)),e),e=om(t,e,r,n,i);break e}else if(r!==i){i=_i(Error(P(424)),e),e=om(t,e,r,n,i);break e}else for(ft=Vn(e.stateNode.containerInfo.firstChild),pt=e,pe=!0,Bt=null,n=av(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vi(),r===i){e=xn(t,e,n);break e}Xe(t,e,r,n)}e=e.child}return e;case 5:return cv(e),t===null&&zc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Dc(r,i)?o=null:s!==null&&Dc(r,s)&&(e.flags|=32),jv(t,e),Xe(t,e,o,n),e.child;case 6:return t===null&&zc(e),null;case 13:return Ov(t,e,n);case 4:return yh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xi(e,null,r,n):Xe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),rm(t,e,r,i,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,le(Ra,r._currentValue),r._currentValue=o,s!==null)if(Gt(s.value,o)){if(s.children===i.children&&!lt.current){e=xn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=hn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Uc(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Uc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,di(e,n),i=It(i),r=r(i),e.flags|=1,Xe(t,e,r,n),e.child;case 14:return r=e.type,i=Ft(r,e.pendingProps),i=Ft(r.type,i),im(t,e,r,i,n);case 15:return Lv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),da(t,e),e.tag=1,ut(r)?(t=!0,Pa(e)):t=!1,di(e,n),Iv(e,r,i),Wc(e,r,i,n),Kc(null,e,r,!0,t,n);case 19:return Fv(t,e,n);case 22:return Mv(t,e,n)}throw Error(P(156,e.tag))};function ex(t,e){return T0(t,e)}function JC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(t,e,n,r){return new JC(t,e,n,r)}function Rh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZC(t){if(typeof t=="function")return Rh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xd)return 11;if(t===Jd)return 14}return 2}function $n(t,e){var n=t.alternate;return n===null?(n=Tt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pa(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Rh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wr:return wr(n.children,i,s,e);case Yd:o=8,i|=8;break;case pc:return t=Tt(12,n,e,i|2),t.elementType=pc,t.lanes=s,t;case mc:return t=Tt(13,n,e,i),t.elementType=mc,t.lanes=s,t;case gc:return t=Tt(19,n,e,i),t.elementType=gc,t.lanes=s,t;case c0:return Ol(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case l0:o=10;break e;case u0:o=9;break e;case Xd:o=11;break e;case Jd:o=14;break e;case Nn:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Tt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function wr(t,e,n,r){return t=Tt(7,t,r,e),t.lanes=n,t}function Ol(t,e,n,r){return t=Tt(22,t,r,e),t.elementType=c0,t.lanes=n,t.stateNode={isHidden:!1},t}function Du(t,e,n){return t=Tt(6,t,null,e),t.lanes=n,t}function Ou(t,e,n){return e=Tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ek(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yu(0),this.expirationTimes=yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lh(t,e,n,r,i,s,o,a,l){return t=new ek(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Tt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gh(s),t}function tk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$r,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tx(t){if(!t)return Qn;t=t._reactInternals;e:{if(Mr(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(ut(n))return tv(t,n,e)}return e}function nx(t,e,n,r,i,s,o,a,l){return t=Lh(n,r,!0,t,i,s,o,a,l),t.context=tx(null),n=t.current,r=Ze(),i=Un(n),s=hn(r,i),s.callback=e??null,Bn(n,s,i),t.current.lanes=i,ho(t,i,r),ct(t,r),t}function Fl(t,e,n,r){var i=e.current,s=Ze(),o=Un(i);return n=tx(n),e.context===null?e.context=n:e.pendingContext=n,e=hn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bn(i,e,o),t!==null&&(Wt(t,i,o,s),la(t,i,o)),o}function Ua(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mh(t,e){gm(t,e),(t=t.alternate)&&gm(t,e)}function nk(){return null}var rx=typeof reportError=="function"?reportError:function(t){console.error(t)};function jh(t){this._internalRoot=t}Vl.prototype.render=jh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Fl(t,e,null,null)};Vl.prototype.unmount=jh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nr(function(){Fl(null,t,null,null)}),e[yn]=null}};function Vl(t){this._internalRoot=t}Vl.prototype.unstable_scheduleHydration=function(t){if(t){var e=M0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<In.length&&e!==0&&e<In[n].priority;n++);In.splice(n,0,t),n===0&&D0(t)}};function Dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ym(){}function rk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ua(o);s.call(u)}}var o=nx(e,r,t,0,null,!1,!1,"",ym);return t._reactRootContainer=o,t[yn]=o.current,Fs(t.nodeType===8?t.parentNode:t),Nr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ua(l);a.call(u)}}var l=Lh(t,0,!1,null,null,!1,!1,"",ym);return t._reactRootContainer=l,t[yn]=l.current,Fs(t.nodeType===8?t.parentNode:t),Nr(function(){Fl(e,l,n,r)}),l}function zl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ua(o);a.call(l)}}Fl(e,o,t,i)}else o=rk(n,e,t,i,r);return Ua(o)}R0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=is(e.pendingLanes);n!==0&&(th(e,n|1),ct(e,Ee()),!(Z&6)&&(Si=Ee()+500,ir()))}break;case 13:Nr(function(){var r=vn(t,1);if(r!==null){var i=Ze();Wt(r,t,1,i)}}),Mh(t,1)}};nh=function(t){if(t.tag===13){var e=vn(t,134217728);if(e!==null){var n=Ze();Wt(e,t,134217728,n)}Mh(t,134217728)}};L0=function(t){if(t.tag===13){var e=Un(t),n=vn(t,e);if(n!==null){var r=Ze();Wt(n,t,e,r)}Mh(t,e)}};M0=function(){return te};j0=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};Ec=function(t,e,n){switch(e){case"input":if(xc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Al(r);if(!i)throw Error(P(90));h0(r),xc(r,i)}}}break;case"textarea":p0(t,n);break;case"select":e=n.value,e!=null&&ai(t,!!n.multiple,e,!1)}};_0=Ph;S0=Nr;var ik={usingClientEntryPoint:!1,Events:[po,qr,Al,x0,w0,Ph]},Qi={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sk={bundleType:Qi.bundleType,version:Qi.version,rendererPackageName:Qi.rendererPackageName,rendererConfig:Qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=b0(t),t===null?null:t.stateNode},findFiberByHostInstance:Qi.findFiberByHostInstance||nk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qo.isDisabled&&Qo.supportsFiber)try{Tl=Qo.inject(sk),en=Qo}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ik;xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dh(e))throw Error(P(200));return tk(t,e,null,n)};xt.createRoot=function(t,e){if(!Dh(t))throw Error(P(299));var n=!1,r="",i=rx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lh(t,1,!1,null,null,n,!1,r,i),t[yn]=e.current,Fs(t.nodeType===8?t.parentNode:t),new jh(e)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=b0(e),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return Nr(t)};xt.hydrate=function(t,e,n){if(!Bl(e))throw Error(P(200));return zl(null,t,e,!0,n)};xt.hydrateRoot=function(t,e,n){if(!Dh(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=rx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nx(e,null,t,1,n??null,i,!1,s,o),t[yn]=e.current,Fs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vl(e)};xt.render=function(t,e,n){if(!Bl(e))throw Error(P(200));return zl(null,t,e,!1,n)};xt.unmountComponentAtNode=function(t){if(!Bl(t))throw Error(P(40));return t._reactRootContainer?(Nr(function(){zl(null,null,t,!1,function(){t._reactRootContainer=null,t[yn]=null})}),!0):!1};xt.unstable_batchedUpdates=Ph;xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bl(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return zl(t,e,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function ix(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ix)}catch(t){console.error(t)}}ix(),i0.exports=xt;var ok=i0.exports,vm=ok;hc.createRoot=vm.createRoot,hc.hydrateRoot=vm.hydrateRoot;function ak(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];_r(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const xm={};function sd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];_r(e[0])&&xm[e[0]]||(_r(e[0])&&(xm[e[0]]=new Date),ak(...e))}const sx=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},wm=(t,e,n)=>{t.loadNamespaces(e,sx(t,n))},_m=(t,e,n,r)=>{_r(n)&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,sx(t,r))},lk=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=e.services.backendConnector.state[`${a}|${l}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))},uk=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(sd("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):lk(t,e,n)},_r=t=>typeof t=="string",ck=t=>typeof t=="object"&&t!==null,dk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,hk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},fk=t=>hk[t],pk=t=>t.replace(dk,fk);let od={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:pk};const mk=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};od={...od,...t}},gk=()=>od;let ox;const yk=t=>{ox=t},vk=()=>ox,xk={type:"3rdParty",init(t){mk(t.options.react),yk(t)}},wk=T.createContext();class _k{constructor(){up(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}}const Sk=(t,e)=>{const n=T.useRef();return T.useEffect(()=>{n.current=t},[t,e]),n.current},ax=(t,e,n,r)=>t.getFixedT(e,n,r),Ck=(t,e,n,r)=>T.useCallback(ax(t,e,n,r),[t,e,n,r]),dt=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:i}=T.useContext(wk)||{},s=n||r||vk();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new _k),!s){sd("You will need to pass in an i18next instance by using initReactI18next");const S=(b,E)=>_r(E)?E:ck(E)&&_r(E.defaultValue)?E.defaultValue:Array.isArray(b)?b[b.length-1]:b,k=[S,{},!1];return k.t=S,k.i18n={},k.ready=!1,k}s.options.react&&s.options.react.wait!==void 0&&sd("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...gk(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let u=i||s.options&&s.options.defaultNS;u=_r(u)?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(u);const c=(s.isInitialized||s.initializedStoreOnce)&&u.every(S=>uk(S,s,o)),h=Ck(s,e.lng||null,o.nsMode==="fallback"?u:u[0],l),d=()=>h,p=()=>ax(s,e.lng||null,o.nsMode==="fallback"?u:u[0],l),[g,x]=T.useState(d);let _=u.join();e.lng&&(_=`${e.lng}${_}`);const y=Sk(_),m=T.useRef(!0);T.useEffect(()=>{const{bindI18n:S,bindI18nStore:k}=o;m.current=!0,!c&&!a&&(e.lng?_m(s,e.lng,u,()=>{m.current&&x(p)}):wm(s,u,()=>{m.current&&x(p)})),c&&y&&y!==_&&m.current&&x(p);const b=()=>{m.current&&x(p)};return S&&s&&s.on(S,b),k&&s&&s.store.on(k,b),()=>{m.current=!1,S&&s&&S.split(" ").forEach(E=>s.off(E,b)),k&&s&&k.split(" ").forEach(E=>s.store.off(E,b))}},[s,_]),T.useEffect(()=>{m.current&&c&&x(d)},[s,l,c]);const v=[g,s,c];if(v.t=g,v.i18n=s,v.ready=c,c||!c&&!a)return v;throw new Promise(S=>{e.lng?_m(s,e.lng,u,()=>S()):wm(s,u,()=>S())})},kk=({isDark:t})=>{const e=T.useRef(null);return T.useEffect(()=>{const n=e.current;if(!n)return;const r=n.getContext("2d");let i,s=[];const o=()=>{n.width=window.innerWidth,n.height=window.innerHeight};o(),window.addEventListener("resize",o);class a{constructor(){this.x=Math.random()*n.width,this.y=Math.random()*n.height,this.size=Math.random()*2+.5,this.speedX=Math.random()*.5-.25,this.speedY=Math.random()*.5-.25,this.opacity=Math.random()*.5+.2}update(){this.x+=this.speedX,this.y+=this.speedY,this.x>n.width&&(this.x=0),this.x<0&&(this.x=n.width),this.y>n.height&&(this.y=0),this.y<0&&(this.y=n.height)}draw(){r.fillStyle=t?`rgba(96, 165, 250, ${this.opacity})`:`rgba(59, 130, 246, ${this.opacity})`,r.beginPath(),r.arc(this.x,this.y,this.size,0,Math.PI*2),r.fill()}}(()=>{s=[];const c=Math.min(Math.floor(n.width*n.height/15e3),150);for(let h=0;h<c;h++)s.push(new a)})();const u=()=>{r.clearRect(0,0,n.width,n.height);const c=r.createLinearGradient(0,0,n.width,n.height);t?(c.addColorStop(0,"#0f172a"),c.addColorStop(1,"#1e293b")):(c.addColorStop(0,"#f8fafc"),c.addColorStop(1,"#e2e8f0")),r.fillStyle=c,r.fillRect(0,0,n.width,n.height),s.forEach(h=>{h.update(),h.draw()}),s.forEach((h,d)=>{s.slice(d+1).forEach(p=>{const g=h.x-p.x,x=h.y-p.y,_=Math.sqrt(g*g+x*x);_<120&&(r.strokeStyle=t?`rgba(96, 165, 250, ${.15*(1-_/120)})`:`rgba(59, 130, 246, ${.1*(1-_/120)})`,r.lineWidth=.5,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(p.x,p.y),r.stroke())})}),i=requestAnimationFrame(u)};return u(),()=>{window.removeEventListener("resize",o),cancelAnimationFrame(i)}},[t]),f.jsx("canvas",{ref:e,className:"fixed top-0 left-0 w-full h-full -z-10 transition-opacity duration-500",style:{opacity:1}})},Oh=T.createContext({});function Fh(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ul=T.createContext(null),Vh=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class bk extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Ek({children:t,isPresent:e}){const n=T.useId(),r=T.useRef(null),i=T.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=T.useContext(Vh);return T.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),f.jsx(bk,{isPresent:e,childRef:r,sizeRef:i,children:T.cloneElement(t,{ref:r})})}const Tk=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Fh(Nk),l=T.useId(),u=T.useCallback(h=>{a.set(h,!0);for(const d of a.values())if(!d)return;r&&r()},[a,r]),c=T.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),u]:[n,u]);return T.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[n]),T.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(Ek,{isPresent:n,children:t})),f.jsx(Ul.Provider,{value:c,children:t})};function Nk(){return new Map}function lx(t=!0){const e=T.useContext(Ul);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=T.useId();T.useEffect(()=>{t&&i(s)},[t]);const o=T.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Yo=t=>t.key||"";function Sm(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const Bh=typeof window<"u",ux=Bh?T.useLayoutEffect:T.useEffect,go=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=lx(o),u=T.useMemo(()=>Sm(t),[t]),c=o&&!a?[]:u.map(Yo),h=T.useRef(!0),d=T.useRef(u),p=Fh(()=>new Map),[g,x]=T.useState(u),[_,y]=T.useState(u);ux(()=>{h.current=!1,d.current=u;for(let S=0;S<_.length;S++){const k=Yo(_[S]);c.includes(k)?p.delete(k):p.get(k)!==!0&&p.set(k,!1)}},[_,c.length,c.join("-")]);const m=[];if(u!==g){let S=[...u];for(let k=0;k<_.length;k++){const b=_[k],E=Yo(b);c.includes(E)||(S.splice(k,0,b),m.push(b))}s==="wait"&&m.length&&(S=m),y(Sm(S)),x(u);return}const{forceRender:v}=T.useContext(Oh);return f.jsx(f.Fragment,{children:_.map(S=>{const k=Yo(S),b=o&&!a?!1:u===_||c.includes(k),E=()=>{if(p.has(k))p.set(k,!0);else return;let N=!0;p.forEach(U=>{U||(N=!1)}),N&&(v==null||v(),y(d.current),o&&(l==null||l()),r&&r())};return f.jsx(Tk,{isPresent:b,initial:!h.current||n?void 0:!1,custom:b?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:b?void 0:E,children:S},k)})})},mt=t=>t;let cx=mt;function zh(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ci=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},fn=t=>t*1e3,pn=t=>t/1e3,Pk={useManualTiming:!1};function Ik(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,c=!1,h=!1)=>{const p=h&&r?e:n;return c&&s.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const Xo=["read","resolveKeyframes","update","preRender","render","postRender"],Ak=40;function dx(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Xo.reduce((y,m)=>(y[m]=Ik(s),y),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:h,postRender:d}=o,p=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,Ak),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),h.process(i),d.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},g=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:Xo.reduce((y,m)=>{const v=o[m];return y[m]=(S,k=!1,b=!1)=>(n||g(),v.schedule(S,k,b)),y},{}),cancel:y=>{for(let m=0;m<Xo.length;m++)o[Xo[m]].cancel(y)},state:i,steps:o}}const{schedule:he,cancel:Yn,state:Ve,steps:Fu}=dx(typeof requestAnimationFrame<"u"?requestAnimationFrame:mt,!0),hx=T.createContext({strict:!1}),Cm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ki={};for(const t in Cm)ki[t]={isEnabled:e=>Cm[t].some(n=>!!e[n])};function Rk(t){for(const e in t)ki[e]={...ki[e],...t[e]}}const Lk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $a(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Lk.has(t)}let fx=t=>!$a(t);function Mk(t){t&&(fx=e=>e.startsWith("on")?!$a(e):t(e))}try{Mk(require("@emotion/is-prop-valid").default)}catch{}function jk(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(fx(i)||n===!0&&$a(i)||!e&&!$a(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Dk(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const $l=T.createContext({});function Ks(t){return typeof t=="string"||Array.isArray(t)}function Wl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Uh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$h=["initial",...Uh];function Hl(t){return Wl(t.animate)||$h.some(e=>Ks(t[e]))}function px(t){return!!(Hl(t)||t.variants)}function Ok(t,e){if(Hl(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ks(n)?n:void 0,animate:Ks(r)?r:void 0}}return t.inherit!==!1?e:{}}function Fk(t){const{initial:e,animate:n}=Ok(t,T.useContext($l));return T.useMemo(()=>({initial:e,animate:n}),[km(e),km(n)])}function km(t){return Array.isArray(t)?t.join(" "):t}const Vk=Symbol.for("motionComponentSymbol");function ti(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Bk(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ti(n)&&(n.current=r))},[e])}const Wh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zk="framerAppearId",mx="data-"+Wh(zk),{schedule:Hh}=dx(queueMicrotask,!1),gx=T.createContext({});function Uk(t,e,n,r,i){var s,o;const{visualElement:a}=T.useContext($l),l=T.useContext(hx),u=T.useContext(Ul),c=T.useContext(Vh).reducedMotion,h=T.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const d=h.current,p=T.useContext(gx);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&$k(h.current,n,i,p);const g=T.useRef(!1);T.useInsertionEffect(()=>{d&&g.current&&d.update(n,u)});const x=n[mx],_=T.useRef(!!x&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return ux(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Hh.render(d.render),_.current&&d.animationState&&d.animationState.animateChanges())}),T.useEffect(()=>{d&&(!_.current&&d.animationState&&d.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,x)}),_.current=!1))}),d}function $k(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:yx(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ti(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function yx(t){if(t)return t.options.allowProjection!==!1?t.projection:yx(t.parent)}function Wk({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&Rk(t);function a(u,c){let h;const d={...T.useContext(Vh),...u,layoutId:Hk(u)},{isStatic:p}=d,g=Fk(u),x=r(u,p);if(!p&&Bh){Gk();const _=Kk(d);h=_.MeasureLayout,g.visualElement=Uk(i,x,d,e,_.ProjectionNode)}return f.jsxs($l.Provider,{value:g,children:[h&&g.visualElement?f.jsx(h,{visualElement:g.visualElement,...d}):null,n(i,u,Bk(x,g.visualElement,c),x,p,g.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=T.forwardRef(a);return l[Vk]=i,l}function Hk({layoutId:t}){const e=T.useContext(Oh).id;return e&&t!==void 0?e+"-"+t:t}function Gk(t,e){T.useContext(hx).strict}function Kk(t){const{drag:e,layout:n}=ki;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const qk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gh(t){return typeof t!="string"||t.includes("-")?!1:!!(qk.indexOf(t)>-1||/[A-Z]/u.test(t))}function bm(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Kh(t,e,n,r){if(typeof e=="function"){const[i,s]=bm(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=bm(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const ad=t=>Array.isArray(t),Qk=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Yk=t=>ad(t)?t[t.length-1]||0:t,qe=t=>!!(t&&t.getVelocity);function ma(t){const e=qe(t)?t.get():t;return Qk(e)?e.toValue():e}function Xk({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:Jk(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const vx=t=>(e,n)=>{const r=T.useContext($l),i=T.useContext(Ul),s=()=>Xk(t,e,r,i);return n?s():Fh(s)};function Jk(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=ma(s[d]);let{initial:o,animate:a}=t;const l=Hl(t),u=px(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;if(h&&typeof h!="boolean"&&!Wl(h)){const d=Array.isArray(h)?h:[h];for(let p=0;p<d.length;p++){const g=Kh(t,d[p]);if(g){const{transitionEnd:x,transition:_,...y}=g;for(const m in y){let v=y[m];if(Array.isArray(v)){const S=c?v.length-1:0;v=v[S]}v!==null&&(i[m]=v)}for(const m in x)i[m]=x[m]}}}return i}const ji=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jr=new Set(ji),xx=t=>e=>typeof e=="string"&&e.startsWith(t),wx=xx("--"),Zk=xx("var(--"),qh=t=>Zk(t)?eb.test(t.split("/*")[0].trim()):!1,eb=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_x=(t,e)=>e&&typeof t=="number"?e.transform(t):t,wn=(t,e,n)=>n>e?e:n<t?t:n,Di={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qs={...Di,transform:t=>wn(0,1,t)},Jo={...Di,default:1},yo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Tn=yo("deg"),nn=yo("%"),V=yo("px"),tb=yo("vh"),nb=yo("vw"),Em={...nn,parse:t=>nn.parse(t)/100,transform:t=>nn.transform(t*100)},rb={borderWidth:V,borderTopWidth:V,borderRightWidth:V,borderBottomWidth:V,borderLeftWidth:V,borderRadius:V,radius:V,borderTopLeftRadius:V,borderTopRightRadius:V,borderBottomRightRadius:V,borderBottomLeftRadius:V,width:V,maxWidth:V,height:V,maxHeight:V,top:V,right:V,bottom:V,left:V,padding:V,paddingTop:V,paddingRight:V,paddingBottom:V,paddingLeft:V,margin:V,marginTop:V,marginRight:V,marginBottom:V,marginLeft:V,backgroundPositionX:V,backgroundPositionY:V},ib={rotate:Tn,rotateX:Tn,rotateY:Tn,rotateZ:Tn,scale:Jo,scaleX:Jo,scaleY:Jo,scaleZ:Jo,skew:Tn,skewX:Tn,skewY:Tn,distance:V,translateX:V,translateY:V,translateZ:V,x:V,y:V,z:V,perspective:V,transformPerspective:V,opacity:qs,originX:Em,originY:Em,originZ:V},Tm={...Di,transform:Math.round},Qh={...rb,...ib,zIndex:Tm,size:V,fillOpacity:qs,strokeOpacity:qs,numOctaves:Tm},sb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ob=ji.length;function ab(t,e,n){let r="",i=!0;for(let s=0;s<ob;s++){const o=ji[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=_x(a,Qh[o]);if(!l){i=!1;const c=sb[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Yh(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(jr.has(l)){o=!0;continue}else if(wx(l)){i[l]=u;continue}else{const c=_x(u,Qh[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=ab(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const lb={offset:"stroke-dashoffset",array:"stroke-dasharray"},ub={offset:"strokeDashoffset",array:"strokeDasharray"};function cb(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?lb:ub;t[s.offset]=V.transform(-r);const o=V.transform(e),a=V.transform(n);t[s.array]=`${o} ${a}`}function Nm(t,e,n){return typeof t=="string"?t:V.transform(e+n*t)}function db(t,e,n){const r=Nm(e,t.x,t.width),i=Nm(n,t.y,t.height);return`${r} ${i}`}function Xh(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h){if(Yh(t,u,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:p,dimensions:g}=t;d.transform&&(g&&(p.transform=d.transform),delete d.transform),g&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=db(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),o!==void 0&&cb(d,o,a,l,!1)}const Jh=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Sx=()=>({...Jh(),attrs:{}}),Zh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Cx(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const kx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bx(t,e,n,r){Cx(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(kx.has(i)?i:Wh(i),e.attrs[i])}const Wa={};function hb(t){Object.assign(Wa,t)}function Ex(t,{layout:e,layoutId:n}){return jr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wa[t]||t==="opacity")}function ef(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(qe(i[o])||e.style&&qe(e.style[o])||Ex(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function Tx(t,e,n){const r=ef(t,e,n);for(const i in t)if(qe(t[i])||qe(e[i])){const s=ji.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function fb(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Pm=["x","y","width","height","cx","cy","r"],pb={useVisualState:vx({scrapeMotionValuesFromProps:Tx,createRenderState:Sx,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(jr.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<Pm.length;a++){const l=Pm[a];t[l]!==e[l]&&(o=!0)}o&&he.read(()=>{fb(n,r),he.render(()=>{Xh(r,i,Zh(n.tagName),t.transformTemplate),bx(n,r)})})}})},mb={useVisualState:vx({scrapeMotionValuesFromProps:ef,createRenderState:Jh})};function Nx(t,e,n){for(const r in e)!qe(e[r])&&!Ex(r,n)&&(t[r]=e[r])}function gb({transformTemplate:t},e){return T.useMemo(()=>{const n=Jh();return Yh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yb(t,e){const n=t.style||{},r={};return Nx(r,n,t),Object.assign(r,gb(t,e)),r}function vb(t,e){const n={},r=yb(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function xb(t,e,n,r){const i=T.useMemo(()=>{const s=Sx();return Xh(s,e,Zh(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Nx(s,t.style,t),i.style={...s,...i.style}}return i}function wb(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Gh(n)?xb:vb)(r,s,o,n),u=jk(r,typeof n=="string",t),c=n!==T.Fragment?{...u,...l,ref:i}:{},{children:h}=r,d=T.useMemo(()=>qe(h)?h.get():h,[h]);return T.createElement(n,{...c,children:d})}}function _b(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Gh(r)?pb:mb,preloadedFeatures:t,useRender:wb(i),createVisualElement:e,Component:r};return Wk(o)}}function Px(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Gl(t,e,n){const r=t.getProps();return Kh(r,e,n!==void 0?n:r.custom,t)}const Sb=zh(()=>window.ScrollTimeline!==void 0);class Cb{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(Sb()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class kb extends Cb{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function tf(t,e){return t?t[e]||t.default||t:void 0}const ld=2e4;function Ix(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ld;)e+=n,r=t.next(e);return e>=ld?1/0:e}function nf(t){return typeof t=="function"}function Im(t,e){t.timeline=e,t.onfinish=null}const rf=t=>Array.isArray(t)&&typeof t[0]=="number",bb={linearEasing:void 0};function Eb(t,e){const n=zh(t);return()=>{var r;return(r=bb[e])!==null&&r!==void 0?r:n()}}const Ha=Eb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ax=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Ci(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function Rx(t){return!!(typeof t=="function"&&Ha()||!t||typeof t=="string"&&(t in ud||Ha())||rf(t)||Array.isArray(t)&&t.every(Rx))}const os=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ud={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:os([0,.65,.55,1]),circOut:os([.55,0,1,.45]),backIn:os([.31,.01,.66,-.59]),backOut:os([.33,1.53,.69,.99])};function Lx(t,e){if(t)return typeof t=="function"&&Ha()?Ax(t,e):rf(t)?os(t):Array.isArray(t)?t.map(n=>Lx(n,e)||ud.easeOut):ud[t]}const Ot={x:!1,y:!1};function Mx(){return Ot.x||Ot.y}function Tb(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function jx(t,e){const n=Tb(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Am(t){return e=>{e.pointerType==="touch"||Mx()||t(e)}}function Nb(t,e,n={}){const[r,i,s]=jx(t,n),o=Am(a=>{const{target:l}=a,u=e(a);if(typeof u!="function"||!l)return;const c=Am(h=>{u(h),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Dx=(t,e)=>e?t===e?!0:Dx(t,e.parentElement):!1,sf=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Pb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ib(t){return Pb.has(t.tagName)||t.tabIndex!==-1}const as=new WeakSet;function Rm(t){return e=>{e.key==="Enter"&&t(e)}}function Vu(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ab=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Rm(()=>{if(as.has(n))return;Vu(n,"down");const i=Rm(()=>{Vu(n,"up")}),s=()=>Vu(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Lm(t){return sf(t)&&!Mx()}function Rb(t,e,n={}){const[r,i,s]=jx(t,n),o=a=>{const l=a.currentTarget;if(!Lm(a)||as.has(l))return;as.add(l);const u=e(a),c=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",d),!(!Lm(p)||!as.has(l))&&(as.delete(l),typeof u=="function"&&u(p,{success:g}))},h=p=>{c(p,n.useGlobalTarget||Dx(l,p.target))},d=p=>{c(p,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",d,i)};return r.forEach(a=>{!Ib(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>Ab(u,i),i)}),s}function Lb(t){return t==="x"||t==="y"?Ot[t]?null:(Ot[t]=!0,()=>{Ot[t]=!1}):Ot.x||Ot.y?null:(Ot.x=Ot.y=!0,()=>{Ot.x=Ot.y=!1})}const Ox=new Set(["width","height","top","left","right","bottom",...ji]);let ga;function Mb(){ga=void 0}const rn={now:()=>(ga===void 0&&rn.set(Ve.isProcessing||Pk.useManualTiming?Ve.timestamp:performance.now()),ga),set:t=>{ga=t,queueMicrotask(Mb)}};function of(t,e){t.indexOf(e)===-1&&t.push(e)}function af(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class lf{constructor(){this.subscriptions=[]}add(e){return of(this.subscriptions,e),()=>af(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Fx(t,e){return e?t*(1e3/e):0}const Mm=30,jb=t=>!isNaN(parseFloat(t));class Db{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=rn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jb(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lf);const r=this.events[e].add(n);return e==="change"?()=>{r(),he.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Mm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Mm);return Fx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qs(t,e){return new Db(t,e)}function Ob(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Qs(n))}function Fb(t,e){const n=Gl(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Yk(s[o]);Ob(t,o,a)}}function Vb(t){return!!(qe(t)&&t.add)}function cd(t,e){const n=t.getValue("willChange");if(Vb(n))return n.add(e)}function Vx(t){return t.props[mx]}const Bx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Bb=1e-7,zb=12;function Ub(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Bx(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Bb&&++a<zb);return o}function vo(t,e,n,r){if(t===e&&n===r)return mt;const i=s=>Ub(s,0,1,t,n);return s=>s===0||s===1?s:Bx(i(s),e,r)}const zx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ux=t=>e=>1-t(1-e),$x=vo(.33,1.53,.69,.99),uf=Ux($x),Wx=zx(uf),Hx=t=>(t*=2)<1?.5*uf(t):.5*(2-Math.pow(2,-10*(t-1))),cf=t=>1-Math.sin(Math.acos(t)),Gx=Ux(cf),Kx=zx(cf),qx=t=>/^0[^.\s]+$/u.test(t);function $b(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||qx(t):!0}const vs=t=>Math.round(t*1e5)/1e5,df=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Wb(t){return t==null}const Hb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hf=(t,e)=>n=>!!(typeof n=="string"&&Hb.test(n)&&n.startsWith(t)||e&&!Wb(n)&&Object.prototype.hasOwnProperty.call(n,e)),Qx=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(df);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Gb=t=>wn(0,255,t),Bu={...Di,transform:t=>Math.round(Gb(t))},yr={test:hf("rgb","red"),parse:Qx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Bu.transform(t)+", "+Bu.transform(e)+", "+Bu.transform(n)+", "+vs(qs.transform(r))+")"};function Kb(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const dd={test:hf("#"),parse:Kb,transform:yr.transform},ni={test:hf("hsl","hue"),parse:Qx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+nn.transform(vs(e))+", "+nn.transform(vs(n))+", "+vs(qs.transform(r))+")"},Ge={test:t=>yr.test(t)||dd.test(t)||ni.test(t),parse:t=>yr.test(t)?yr.parse(t):ni.test(t)?ni.parse(t):dd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?yr.transform(t):ni.transform(t)},qb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Qb(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(df))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(qb))===null||n===void 0?void 0:n.length)||0)>0}const Yx="number",Xx="color",Yb="var",Xb="var(",jm="${}",Jb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ys(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Jb,l=>(Ge.test(l)?(r.color.push(s),i.push(Xx),n.push(Ge.parse(l))):l.startsWith(Xb)?(r.var.push(s),i.push(Yb),n.push(l)):(r.number.push(s),i.push(Yx),n.push(parseFloat(l))),++s,jm)).split(jm);return{values:n,split:a,indexes:r,types:i}}function Jx(t){return Ys(t).values}function Zx(t){const{split:e,types:n}=Ys(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Yx?s+=vs(i[o]):a===Xx?s+=Ge.transform(i[o]):s+=i[o]}return s}}const Zb=t=>typeof t=="number"?0:t;function eE(t){const e=Jx(t);return Zx(t)(e.map(Zb))}const Xn={test:Qb,parse:Jx,createTransformer:Zx,getAnimatableNone:eE},tE=new Set(["brightness","contrast","saturate","opacity"]);function nE(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(df)||[];if(!r)return t;const i=n.replace(r,"");let s=tE.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const rE=/\b([a-z-]*)\(.*?\)/gu,hd={...Xn,getAnimatableNone:t=>{const e=t.match(rE);return e?e.map(nE).join(" "):t}},iE={...Qh,color:Ge,backgroundColor:Ge,outlineColor:Ge,fill:Ge,stroke:Ge,borderColor:Ge,borderTopColor:Ge,borderRightColor:Ge,borderBottomColor:Ge,borderLeftColor:Ge,filter:hd,WebkitFilter:hd},ff=t=>iE[t];function e1(t,e){let n=ff(t);return n!==hd&&(n=Xn),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sE=new Set(["auto","none","0"]);function oE(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!sE.has(s)&&Ys(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=e1(n,i)}const Dm=t=>t===Di||t===V,Om=(t,e)=>parseFloat(t.split(", ")[e]),Fm=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Om(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?Om(s[1],t):0}},aE=new Set(["x","y","z"]),lE=ji.filter(t=>!aE.has(t));function uE(t){const e=[];return lE.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const bi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Fm(4,13),y:Fm(5,14)};bi.translateX=bi.x;bi.translateY=bi.y;const Sr=new Set;let fd=!1,pd=!1;function t1(){if(pd){const t=Array.from(Sr).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=uE(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pd=!1,fd=!1,Sr.forEach(t=>t.complete()),Sr.clear()}function n1(){Sr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(pd=!0)})}function cE(){n1(),t1()}class pf{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Sr.add(this),fd||(fd=!0,he.read(n1),he.resolveKeyframes(t1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Sr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Sr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const r1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),dE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hE(t){const e=dE.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function i1(t,e,n=1){const[r,i]=hE(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return r1(o)?parseFloat(o):o}return qh(i)?i1(i,e,n+1):i}const s1=t=>e=>e.test(t),fE={test:t=>t==="auto",parse:t=>t},o1=[Di,V,nn,Tn,nb,tb,fE],Vm=t=>o1.find(s1(t));class a1 extends pf{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),qh(u))){const c=i1(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ox.has(r)||e.length!==2)return;const[i,s]=e,o=Vm(i),a=Vm(s);if(o!==a)if(Dm(o)&&Dm(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)$b(e[i])&&r.push(i);r.length&&oE(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bi[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=bi[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const Bm=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xn.test(t)||t==="0")&&!t.startsWith("url("));function pE(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mE(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Bm(i,e),a=Bm(s,e);return!o||!a?!1:pE(t)||(n==="spring"||nf(n))&&r}const gE=t=>t!==null;function Kl(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(gE),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const yE=40;class l1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=rn.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>yE?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&cE(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=rn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!mE(e,r,i,s))if(o)this.options.duration=0;else{l&&l(Kl(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ye=(t,e,n)=>t+(e-t)*n;function zu(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vE({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=zu(l,a,t+1/3),s=zu(l,a,t),o=zu(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Ga(t,e){return n=>n>0?e:t}const Uu=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},xE=[dd,yr,ni],wE=t=>xE.find(e=>e.test(t));function zm(t){const e=wE(t);if(!e)return!1;let n=e.parse(t);return e===ni&&(n=vE(n)),n}const Um=(t,e)=>{const n=zm(t),r=zm(e);if(!n||!r)return Ga(t,e);const i={...n};return s=>(i.red=Uu(n.red,r.red,s),i.green=Uu(n.green,r.green,s),i.blue=Uu(n.blue,r.blue,s),i.alpha=ye(n.alpha,r.alpha,s),yr.transform(i))},_E=(t,e)=>n=>e(t(n)),xo=(...t)=>t.reduce(_E),md=new Set(["none","hidden"]);function SE(t,e){return md.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function CE(t,e){return n=>ye(t,e,n)}function mf(t){return typeof t=="number"?CE:typeof t=="string"?qh(t)?Ga:Ge.test(t)?Um:EE:Array.isArray(t)?u1:typeof t=="object"?Ge.test(t)?Um:kE:Ga}function u1(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>mf(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function kE(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=mf(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function bE(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const EE=(t,e)=>{const n=Xn.createTransformer(e),r=Ys(t),i=Ys(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?md.has(t)&&!i.values.length||md.has(e)&&!r.values.length?SE(t,e):xo(u1(bE(r,i),i.values),n):Ga(t,e)};function c1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ye(t,e,n):mf(t)(t,e)}const TE=5;function d1(t,e,n){const r=Math.max(e-TE,0);return Fx(n-t(r),e-r)}const Se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$u=.001;function NE({duration:t=Se.duration,bounce:e=Se.bounce,velocity:n=Se.velocity,mass:r=Se.mass}){let i,s,o=1-e;o=wn(Se.minDamping,Se.maxDamping,o),t=wn(Se.minDuration,Se.maxDuration,pn(t)),o<1?(i=u=>{const c=u*o,h=c*t,d=c-n,p=gd(u,o),g=Math.exp(-h);return $u-d/p*g},s=u=>{const h=u*o*t,d=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-h),x=gd(Math.pow(u,2),o);return(-i(u)+$u>0?-1:1)*((d-p)*g)/x}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-$u+c*h},s=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=IE(i,s,a);if(t=fn(t),isNaN(l))return{stiffness:Se.stiffness,damping:Se.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const PE=12;function IE(t,e,n){let r=n;for(let i=1;i<PE;i++)r=r-t(r)/e(r);return r}function gd(t,e){return t*Math.sqrt(1-e*e)}const AE=["duration","bounce"],RE=["stiffness","damping","mass"];function $m(t,e){return e.some(n=>t[n]!==void 0)}function LE(t){let e={velocity:Se.velocity,stiffness:Se.stiffness,damping:Se.damping,mass:Se.mass,isResolvedFromDuration:!1,...t};if(!$m(t,RE)&&$m(t,AE))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*wn(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Se.mass,stiffness:i,damping:s}}else{const n=NE(t);e={...e,...n,mass:Se.mass},e.isResolvedFromDuration=!0}return e}function h1(t=Se.visualDuration,e=Se.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:h,velocity:d,isResolvedFromDuration:p}=LE({...n,velocity:-pn(n.velocity||0)}),g=d||0,x=u/(2*Math.sqrt(l*c)),_=o-s,y=pn(Math.sqrt(l/c)),m=Math.abs(_)<5;r||(r=m?Se.restSpeed.granular:Se.restSpeed.default),i||(i=m?Se.restDelta.granular:Se.restDelta.default);let v;if(x<1){const k=gd(y,x);v=b=>{const E=Math.exp(-x*y*b);return o-E*((g+x*y*_)/k*Math.sin(k*b)+_*Math.cos(k*b))}}else if(x===1)v=k=>o-Math.exp(-y*k)*(_+(g+y*_)*k);else{const k=y*Math.sqrt(x*x-1);v=b=>{const E=Math.exp(-x*y*b),N=Math.min(k*b,300);return o-E*((g+x*y*_)*Math.sinh(N)+k*_*Math.cosh(N))/k}}const S={calculatedDuration:p&&h||null,next:k=>{const b=v(k);if(p)a.done=k>=h;else{let E=0;x<1&&(E=k===0?fn(g):d1(v,k,b));const N=Math.abs(E)<=r,U=Math.abs(o-b)<=i;a.done=N&&U}return a.value=a.done?o:b,a},toString:()=>{const k=Math.min(Ix(S),ld),b=Ax(E=>S.next(k*E).value,k,30);return k+"ms "+b}};return S}function Wm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},p=N=>a!==void 0&&N<a||l!==void 0&&N>l,g=N=>a===void 0?l:l===void 0||Math.abs(a-N)<Math.abs(l-N)?a:l;let x=n*e;const _=h+x,y=o===void 0?_:o(_);y!==_&&(x=y-h);const m=N=>-x*Math.exp(-N/r),v=N=>y+m(N),S=N=>{const U=m(N),j=v(N);d.done=Math.abs(U)<=u,d.value=d.done?y:j};let k,b;const E=N=>{p(d.value)&&(k=N,b=h1({keyframes:[d.value,g(d.value)],velocity:d1(v,N,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return E(0),{calculatedDuration:null,next:N=>{let U=!1;return!b&&k===void 0&&(U=!0,S(N),E(N)),k!==void 0&&N>=k?b.next(N-k):(!U&&S(N),d)}}}const ME=vo(.42,0,1,1),jE=vo(0,0,.58,1),f1=vo(.42,0,.58,1),DE=t=>Array.isArray(t)&&typeof t[0]!="number",OE={linear:mt,easeIn:ME,easeInOut:f1,easeOut:jE,circIn:cf,circInOut:Kx,circOut:Gx,backIn:uf,backInOut:Wx,backOut:$x,anticipate:Hx},Hm=t=>{if(rf(t)){cx(t.length===4);const[e,n,r,i]=t;return vo(e,n,r,i)}else if(typeof t=="string")return OE[t];return t};function FE(t,e,n){const r=[],i=n||c1,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||mt:e;a=xo(l,a)}r.push(a)}return r}function VE(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(cx(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=FE(e,r,i),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=Ci(t[h],t[h+1],c);return a[h](d)};return n?c=>u(wn(t[0],t[s-1],c)):u}function BE(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ci(0,e,r);t.push(ye(n,1,i))}}function zE(t){const e=[0];return BE(e,t.length-1),e}function UE(t,e){return t.map(n=>n*e)}function $E(t,e){return t.map(()=>e||f1).splice(0,t.length-1)}function Ka({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=DE(r)?r.map(Hm):Hm(r),s={done:!1,value:e[0]},o=UE(n&&n.length===e.length?n:zE(e),t),a=VE(o,e,{ease:Array.isArray(i)?i:$E(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const WE=t=>{const e=({timestamp:n})=>t(n);return{start:()=>he.update(e,!0),stop:()=>Yn(e),now:()=>Ve.isProcessing?Ve.timestamp:rn.now()}},HE={decay:Wm,inertia:Wm,tween:Ka,keyframes:Ka,spring:h1},GE=t=>t/100;class gf extends l1{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||pf,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=nf(n)?n:HE[n]||Ka;let l,u;a!==Ka&&typeof e[0]!="number"&&(l=xo(GE,c1(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Ix(c));const{calculatedDuration:h}=c,d=h+i,p=d*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:d,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:d,repeat:p,repeatType:g,repeatDelay:x,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-d*(this.speed>=0?1:-1),m=this.speed>=0?y<0:y>c;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let v=this.currentTime,S=s;if(p){const N=Math.min(this.currentTime,c)/h;let U=Math.floor(N),j=N%1;!j&&N>=1&&(j=1),j===1&&U--,U=Math.min(U,p+1),!!(U%2)&&(g==="reverse"?(j=1-j,x&&(j-=x/h)):g==="mirror"&&(S=o)),v=wn(0,1,j)*h}const k=m?{done:!1,value:l[0]}:S.next(v);a&&(k.value=a(k.value));let{done:b}=k;!m&&u!==null&&(b=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&b);return E&&i!==void 0&&(k.value=Kl(l,this.options,i)),_&&_(k.value),E&&this.finish(),k}get duration(){const{resolved:e}=this;return e?pn(e.calculatedDuration):0}get time(){return pn(this.currentTime)}set time(e){e=fn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=WE,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const KE=new Set(["opacity","clipPath","filter","transform"]);function qE(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=Lx(a,i);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const QE=zh(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qa=10,YE=2e4;function XE(t){return nf(t.type)||t.type==="spring"||!Rx(t.ease)}function JE(t,e){const n=new gf({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<YE;)r=n.sample(s),i.push(r.value),s+=qa;return{times:void 0,keyframes:i,duration:s-qa,ease:"linear"}}const p1={anticipate:Hx,backInOut:Wx,circInOut:Kx};function ZE(t){return t in p1}class Gm extends l1{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new a1(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Ha()&&ZE(s)&&(s=p1[s]),XE(this.options)){const{onComplete:h,onUpdate:d,motionValue:p,element:g,...x}=this.options,_=JE(e,x);e=_.keyframes,e.length===1&&(e[1]=e[0]),r=_.duration,i=_.times,s=_.ease,o="keyframes"}const c=qE(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(Im(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:h}=this.options;a.set(Kl(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return pn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return pn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=fn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return mt;const{animation:r}=n;Im(r,e)}return mt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:h,element:d,...p}=this.options,g=new gf({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),x=fn(this.time);u.setWithVelocity(g.sample(x-qa).value,g.sample(x).value,qa)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return QE()&&r&&KE.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const e2={type:"spring",stiffness:500,damping:25,restSpeed:10},t2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),n2={type:"keyframes",duration:.8},r2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},i2=(t,{keyframes:e})=>e.length>2?n2:jr.has(t)?t.startsWith("scale")?t2(e[1]):e2:r2;function s2({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const yf=(t,e,n,r={},i,s)=>o=>{const a=tf(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-fn(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};s2(a)||(c={...c,...i2(t,c)}),c.duration&&(c.duration=fn(c.duration)),c.repeatDelay&&(c.repeatDelay=fn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const d=Kl(c.keyframes,a);if(d!==void 0)return he.update(()=>{c.onUpdate(d),c.onComplete()}),new kb([])}return!s&&Gm.supports(c)?new Gm(c):new gf(c)};function o2({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function m1(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const d=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),p=l[h];if(p===void 0||c&&o2(c,h))continue;const g={delay:n,...tf(o||{},h)};let x=!1;if(window.MotionHandoffAnimation){const y=Vx(t);if(y){const m=window.MotionHandoffAnimation(y,h,he);m!==null&&(g.startTime=m,x=!0)}}cd(t,h),d.start(yf(h,d,p,t.shouldReduceMotion&&Ox.has(h)?{type:!1}:g,t,x));const _=d.animation;_&&u.push(_)}return a&&Promise.all(u).then(()=>{he.update(()=>{a&&Fb(t,a)})}),u}function yd(t,e,n={}){var r;const i=Gl(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(m1(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=s;return a2(t,e,c+u,h,d,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function a2(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(l2).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(yd(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function l2(t,e){return t.sortNodePosition(e)}function u2(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>yd(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=yd(t,e,n);else{const i=typeof e=="function"?Gl(t,e,n.custom):e;r=Promise.all(m1(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const c2=$h.length;function g1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?g1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<c2;n++){const r=$h[n],i=t.props[r];(Ks(i)||i===!1)&&(e[r]=i)}return e}const d2=[...Uh].reverse(),h2=Uh.length;function f2(t){return e=>Promise.all(e.map(({animation:n,options:r})=>u2(t,n,r)))}function p2(t){let e=f2(t),n=Km(),r=!0;const i=l=>(u,c)=>{var h;const d=Gl(t,c,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(d){const{transition:p,transitionEnd:g,...x}=d;u={...u,...x,...g}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=g1(t.parent)||{},h=[],d=new Set;let p={},g=1/0;for(let _=0;_<h2;_++){const y=d2[_],m=n[y],v=u[y]!==void 0?u[y]:c[y],S=Ks(v),k=y===l?m.isActive:null;k===!1&&(g=_);let b=v===c[y]&&v!==u[y]&&S;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),m.protectedKeys={...p},!m.isActive&&k===null||!v&&!m.prevProp||Wl(v)||typeof v=="boolean")continue;const E=m2(m.prevProp,v);let N=E||y===l&&m.isActive&&!b&&S||_>g&&S,U=!1;const j=Array.isArray(v)?v:[v];let re=j.reduce(i(y),{});k===!1&&(re={});const{prevResolvedValues:Rt={}}=m,Lt={...Rt,...re},rt=fe=>{N=!0,d.has(fe)&&(U=!0,d.delete(fe)),m.needsAnimating[fe]=!0;const I=t.getValue(fe);I&&(I.liveStyle=!1)};for(const fe in Lt){const I=re[fe],D=Rt[fe];if(p.hasOwnProperty(fe))continue;let C=!1;ad(I)&&ad(D)?C=!Px(I,D):C=I!==D,C?I!=null?rt(fe):d.add(fe):I!==void 0&&d.has(fe)?rt(fe):m.protectedKeys[fe]=!0}m.prevProp=v,m.prevResolvedValues=re,m.isActive&&(p={...p,...re}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(b&&E)||U)&&h.push(...j.map(fe=>({animation:fe,options:{type:y}})))}if(d.size){const _={};d.forEach(y=>{const m=t.getBaseTarget(y),v=t.getValue(y);v&&(v.liveStyle=!0),_[y]=m??null}),h.push({animation:_})}let x=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(d=>{var p;return(p=d.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Km(),r=!0}}}function m2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Px(e,t):!1}function ar(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Km(){return{animate:ar(!0),whileInView:ar(),whileHover:ar(),whileTap:ar(),whileDrag:ar(),whileFocus:ar(),exit:ar()}}class sr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class g2 extends sr{constructor(e){super(e),e.animationState||(e.animationState=p2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let y2=0;class v2 extends sr{constructor(){super(...arguments),this.id=y2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const x2={animation:{Feature:g2},exit:{Feature:v2}};function Xs(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function wo(t){return{point:{x:t.pageX,y:t.pageY}}}const w2=t=>e=>sf(e)&&t(e,wo(e));function xs(t,e,n,r){return Xs(t,e,w2(n),r)}const qm=(t,e)=>Math.abs(t-e);function _2(t,e){const n=qm(t.x,e.x),r=qm(t.y,e.y);return Math.sqrt(n**2+r**2)}class y1{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Hu(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=_2(h.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:g}=h,{timestamp:x}=Ve;this.history.push({...g,timestamp:x});const{onStart:_,onMove:y}=this.handlers;d||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,d)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Wu(d,this.transformPagePoint),he.update(this.updatePoint,!0)},this.handlePointerUp=(h,d)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Hu(h.type==="pointercancel"?this.lastMoveEventInfo:Wu(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,_),g&&g(h,_)},!sf(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=wo(e),a=Wu(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Ve;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,Hu(a,this.history)),this.removeListeners=xo(xs(this.contextWindow,"pointermove",this.handlePointerMove),xs(this.contextWindow,"pointerup",this.handlePointerUp),xs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yn(this.updatePoint)}}function Wu(t,e){return e?{point:e(t.point)}:t}function Qm(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hu({point:t},e){return{point:t,delta:Qm(t,v1(e)),offset:Qm(t,S2(e)),velocity:C2(e,.1)}}function S2(t){return t[0]}function v1(t){return t[t.length-1]}function C2(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=v1(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>fn(e)));)n--;if(!r)return{x:0,y:0};const s=pn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const x1=1e-4,k2=1-x1,b2=1+x1,w1=.01,E2=0-w1,T2=0+w1;function yt(t){return t.max-t.min}function N2(t,e,n){return Math.abs(t-e)<=n}function Ym(t,e,n,r=.5){t.origin=r,t.originPoint=ye(e.min,e.max,t.origin),t.scale=yt(n)/yt(e),t.translate=ye(n.min,n.max,t.origin)-t.originPoint,(t.scale>=k2&&t.scale<=b2||isNaN(t.scale))&&(t.scale=1),(t.translate>=E2&&t.translate<=T2||isNaN(t.translate))&&(t.translate=0)}function ws(t,e,n,r){Ym(t.x,e.x,n.x,r?r.originX:void 0),Ym(t.y,e.y,n.y,r?r.originY:void 0)}function Xm(t,e,n){t.min=n.min+e.min,t.max=t.min+yt(e)}function P2(t,e,n){Xm(t.x,e.x,n.x),Xm(t.y,e.y,n.y)}function Jm(t,e,n){t.min=e.min-n.min,t.max=t.min+yt(e)}function _s(t,e,n){Jm(t.x,e.x,n.x),Jm(t.y,e.y,n.y)}function I2(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ye(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ye(n,t,r.max):Math.min(t,n)),t}function Zm(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function A2(t,{top:e,left:n,bottom:r,right:i}){return{x:Zm(t.x,n,i),y:Zm(t.y,e,r)}}function eg(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function R2(t,e){return{x:eg(t.x,e.x),y:eg(t.y,e.y)}}function L2(t,e){let n=.5;const r=yt(t),i=yt(e);return i>r?n=Ci(e.min,e.max-r,t.min):r>i&&(n=Ci(t.min,t.max-i,e.min)),wn(0,1,n)}function M2(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vd=.35;function j2(t=vd){return t===!1?t=0:t===!0&&(t=vd),{x:tg(t,"left","right"),y:tg(t,"top","bottom")}}function tg(t,e,n){return{min:ng(t,e),max:ng(t,n)}}function ng(t,e){return typeof t=="number"?t:t[e]||0}const rg=()=>({translate:0,scale:1,origin:0,originPoint:0}),ri=()=>({x:rg(),y:rg()}),ig=()=>({min:0,max:0}),be=()=>({x:ig(),y:ig()});function kt(t){return[t("x"),t("y")]}function _1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function D2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function O2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Gu(t){return t===void 0||t===1}function xd({scale:t,scaleX:e,scaleY:n}){return!Gu(t)||!Gu(e)||!Gu(n)}function cr(t){return xd(t)||S1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function S1(t){return sg(t.x)||sg(t.y)}function sg(t){return t&&t!=="0%"}function Qa(t,e,n){const r=t-n,i=e*r;return n+i}function og(t,e,n,r,i){return i!==void 0&&(t=Qa(t,i,r)),Qa(t,n,r)+e}function wd(t,e=0,n=1,r,i){t.min=og(t.min,e,n,r,i),t.max=og(t.max,e,n,r,i)}function C1(t,{x:e,y:n}){wd(t.x,e.translate,e.scale,e.originPoint),wd(t.y,n.translate,n.scale,n.originPoint)}const ag=.999999999999,lg=1.0000000000001;function F2(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&si(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,C1(t,o)),r&&cr(s.latestValues)&&si(t,s.latestValues))}e.x<lg&&e.x>ag&&(e.x=1),e.y<lg&&e.y>ag&&(e.y=1)}function ii(t,e){t.min=t.min+e,t.max=t.max+e}function ug(t,e,n,r,i=.5){const s=ye(t.min,t.max,i);wd(t,e,n,s,r)}function si(t,e){ug(t.x,e.x,e.scaleX,e.scale,e.originX),ug(t.y,e.y,e.scaleY,e.scale,e.originY)}function k1(t,e){return _1(O2(t.getBoundingClientRect(),e))}function V2(t,e,n){const r=k1(t,n),{scroll:i}=e;return i&&(ii(r.x,i.offset.x),ii(r.y,i.offset.y)),r}const b1=({current:t})=>t?t.ownerDocument.defaultView:null,B2=new WeakMap;class z2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=be(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wo(c).point)},s=(c,h)=>{const{drag:d,dragPropagation:p,onDragStart:g}=this.getProps();if(d&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Lb(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kt(_=>{let y=this.getAxisMotionValue(_).get()||0;if(nn.test(y)){const{projection:m}=this.visualElement;if(m&&m.layout){const v=m.layout.layoutBox[_];v&&(y=yt(v)*(parseFloat(y)/100))}}this.originPoint[_]=y}),g&&he.postRender(()=>g(c,h)),cd(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(c,h)=>{const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:g,onDrag:x}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:_}=h;if(p&&this.currentDirection===null){this.currentDirection=U2(_),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),x&&x(c,h)},a=(c,h)=>this.stop(c,h),l=()=>kt(c=>{var h;return this.getAnimationState(c)==="paused"&&((h=this.getAxisMotionValue(c).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new y1(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:b1(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&he.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Zo(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=I2(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ti(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=A2(i.layoutBox,n):this.constraints=!1,this.elastic=j2(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&kt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=M2(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ti(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=V2(r,i.root,this.visualElement.getTransformPagePoint());let o=R2(i.layout.layoutBox,s);if(n){const a=n(D2(o));this.hasMutatedConstraints=!!a,a&&(o=_1(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=kt(c=>{if(!Zo(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return cd(this.visualElement,e),r.start(yf(e,r,0,n,this.visualElement,!1))}stopAnimation(){kt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){kt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){kt(n=>{const{drag:r}=this.getProps();if(!Zo(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ye(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ti(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};kt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=L2({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kt(o=>{if(!Zo(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ye(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;B2.set(this.visualElement,this);const e=this.visualElement.current,n=xs(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ti(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),he.read(r);const o=Xs(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(kt(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=vd,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Zo(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function U2(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $2 extends sr{constructor(e){super(e),this.removeGroupControls=mt,this.removeListeners=mt,this.controls=new z2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mt}unmount(){this.removeGroupControls(),this.removeListeners()}}const cg=t=>(e,n)=>{t&&he.postRender(()=>t(e,n))};class W2 extends sr{constructor(){super(...arguments),this.removePointerDownListener=mt}onPointerDown(e){this.session=new y1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:b1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:cg(e),onStart:cg(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&he.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=xs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ya={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Yi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(V.test(t))t=parseFloat(t);else return t;const n=dg(t,e.target.x),r=dg(t,e.target.y);return`${n}% ${r}%`}},H2={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Xn.parse(t);if(i.length>5)return r;const s=Xn.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=ye(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class G2 extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;hb(K2),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ya.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||he.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function E1(t){const[e,n]=lx(),r=T.useContext(Oh);return f.jsx(G2,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(gx),isPresent:e,safeToRemove:n})}const K2={borderRadius:{...Yi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yi,borderTopRightRadius:Yi,borderBottomLeftRadius:Yi,borderBottomRightRadius:Yi,boxShadow:H2};function q2(t,e,n){const r=qe(t)?t:Qs(t);return r.start(yf("",r,e,n)),r.animation}function Q2(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Y2=(t,e)=>t.depth-e.depth;class X2{constructor(){this.children=[],this.isDirty=!1}add(e){of(this.children,e),this.isDirty=!0}remove(e){af(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Y2),this.isDirty=!1,this.children.forEach(e)}}function J2(t,e){const n=rn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Yn(r),t(s-e))};return he.read(r,!0),()=>Yn(r)}const T1=["TopLeft","TopRight","BottomLeft","BottomRight"],Z2=T1.length,hg=t=>typeof t=="string"?parseFloat(t):t,fg=t=>typeof t=="number"||V.test(t);function eT(t,e,n,r,i,s){i?(t.opacity=ye(0,n.opacity!==void 0?n.opacity:1,tT(r)),t.opacityExit=ye(e.opacity!==void 0?e.opacity:1,0,nT(r))):s&&(t.opacity=ye(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Z2;o++){const a=`border${T1[o]}Radius`;let l=pg(e,a),u=pg(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||fg(l)===fg(u)?(t[a]=Math.max(ye(hg(l),hg(u),r),0),(nn.test(u)||nn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=ye(e.rotate||0,n.rotate||0,r))}function pg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const tT=N1(0,.5,Gx),nT=N1(.5,.95,mt);function N1(t,e,n){return r=>r<t?0:r>e?1:n(Ci(t,e,r))}function mg(t,e){t.min=e.min,t.max=e.max}function Ct(t,e){mg(t.x,e.x),mg(t.y,e.y)}function gg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function yg(t,e,n,r,i){return t-=e,t=Qa(t,1/n,r),i!==void 0&&(t=Qa(t,1/i,r)),t}function rT(t,e=0,n=1,r=.5,i,s=t,o=t){if(nn.test(e)&&(e=parseFloat(e),e=ye(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ye(s.min,s.max,r);t===s&&(a-=e),t.min=yg(t.min,e,n,a,i),t.max=yg(t.max,e,n,a,i)}function vg(t,e,[n,r,i],s,o){rT(t,e[n],e[r],e[i],e.scale,s,o)}const iT=["x","scaleX","originX"],sT=["y","scaleY","originY"];function xg(t,e,n,r){vg(t.x,e,iT,n?n.x:void 0,r?r.x:void 0),vg(t.y,e,sT,n?n.y:void 0,r?r.y:void 0)}function wg(t){return t.translate===0&&t.scale===1}function P1(t){return wg(t.x)&&wg(t.y)}function _g(t,e){return t.min===e.min&&t.max===e.max}function oT(t,e){return _g(t.x,e.x)&&_g(t.y,e.y)}function Sg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function I1(t,e){return Sg(t.x,e.x)&&Sg(t.y,e.y)}function Cg(t){return yt(t.x)/yt(t.y)}function kg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class aT{constructor(){this.members=[]}add(e){of(this.members,e),e.scheduleRender()}remove(e){if(af(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lT(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:d,skewX:p,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),h&&(r+=`rotateX(${h}deg) `),d&&(r+=`rotateY(${d}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const dr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ls=typeof window<"u"&&window.MotionDebug!==void 0,Ku=["","X","Y","Z"],uT={visibility:"hidden"},bg=1e3;let cT=0;function qu(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function A1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Vx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",he,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&A1(r)}function R1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=cT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ls&&(dr.totalNodes=dr.resolvedTargetDeltas=dr.recalculatedProjection=0),this.nodes.forEach(fT),this.nodes.forEach(vT),this.nodes.forEach(xT),this.nodes.forEach(pT),ls&&window.MotionDebug.record(dr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new X2)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new lf),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Q2(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=J2(d,250),ya.hasAnimatedSinceResize&&(ya.hasAnimatedSinceResize=!1,this.nodes.forEach(Tg))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||kT,{onLayoutAnimationStart:_,onLayoutAnimationComplete:y}=c.getProps(),m=!this.targetLayout||!I1(this.targetLayout,g)||p,v=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||d&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const S={...tf(x,"layout"),onPlay:_,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else d||Tg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Yn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wT),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Eg);return}this.isUpdating||this.nodes.forEach(gT),this.isUpdating=!1,this.nodes.forEach(yT),this.nodes.forEach(dT),this.nodes.forEach(hT),this.clearAllSnapshots();const a=rn.now();Ve.delta=wn(0,1e3/60,a-Ve.timestamp),Ve.timestamp=a,Ve.isProcessing=!0,Fu.update.process(Ve),Fu.preRender.process(Ve),Fu.render.process(Ve),Ve.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mT),this.sharedNodes.forEach(_T)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,he.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){he.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!P1(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||cr(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),bT(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return be();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(ET))){const{scroll:c}=this.root;c&&(ii(l.x,c.offset.x),ii(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=be();if(Ct(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:d}=c;c!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&Ct(l,o),ii(l.x,h.offset.x),ii(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=be();Ct(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&si(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),cr(c.latestValues)&&si(l,c.latestValues)}return cr(this.latestValues)&&si(l,this.latestValues),l}removeTransform(o){const a=be();Ct(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!cr(u.latestValues))continue;xd(u.latestValues)&&u.updateSnapshot();const c=be(),h=u.measurePageBox();Ct(c,h),xg(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return cr(this.latestValues)&&xg(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ve.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=Ve.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),_s(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=be(),this.targetWithTransforms=be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),P2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ct(this.target,this.layout.layoutBox),C1(this.target,this.targetDelta)):Ct(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),_s(this.relativeTargetOrigin,this.target,p.target),Ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ls&&dr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||xd(this.parent.latestValues)||S1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ve.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Ct(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;F2(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=be());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gg(this.prevProjectionDelta.x,this.projectionDelta.x),gg(this.prevProjectionDelta.y,this.projectionDelta.y)),ws(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!kg(this.projectionDelta.x,this.prevProjectionDelta.x)||!kg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),ls&&dr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ri(),this.projectionDelta=ri(),this.projectionDeltaWithTransform=ri()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=ri();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=be(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,x=p!==g,_=this.getStack(),y=!_||_.members.length<=1,m=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(CT));this.animationProgress=0;let v;this.mixTargetDelta=S=>{const k=S/1e3;Ng(h.x,o.x,k),Ng(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_s(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ST(this.relativeTarget,this.relativeTargetOrigin,d,k),v&&oT(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=be()),Ct(v,this.relativeTarget)),x&&(this.animationValues=c,eT(c,u,this.latestValues,k,m,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Yn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=he.update(()=>{ya.hasAnimatedSinceResize=!0,this.currentAnimation=q2(0,bg,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&L1(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||be();const h=yt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=yt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Ct(a,l),si(a,c),ws(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new aT),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&qu("z",o,u,this.animationValues);for(let c=0;c<Ku.length;c++)qu(`rotate${Ku[c]}`,o,u,this.animationValues),qu(`skew${Ku[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uT;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ma(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=ma(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!cr(this.latestValues)&&(x.transform=c?c({},""):"none",this.hasProjected=!1),x}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=lT(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Wa){if(d[x]===void 0)continue;const{correct:_,applyTo:y}=Wa[x],m=u.transform==="none"?d[x]:_(d[x],h);if(y){const v=y.length;for(let S=0;S<v;S++)u[y[S]]=m}else u[x]=m}return this.options.layoutId&&(u.pointerEvents=h===this?ma(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Eg),this.root.sharedNodes.clear()}}}function dT(t){t.updateLayout()}function hT(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?kt(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],p=yt(d);d.min=r[h].min,d.max=d.min+p}):L1(s,n.layoutBox,r)&&kt(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],p=yt(r[h]);d.max=d.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=ri();ws(a,r,n.layoutBox);const l=ri();o?ws(l,t.applyTransform(i,!0),n.measuredBox):ws(l,r,n.layoutBox);const u=!P1(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:p}=h;if(d&&p){const g=be();_s(g,n.layoutBox,d.layoutBox);const x=be();_s(x,r,p.layoutBox),I1(g,x)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function fT(t){ls&&dr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pT(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mT(t){t.clearSnapshot()}function Eg(t){t.clearMeasurements()}function gT(t){t.isLayoutDirty=!1}function yT(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Tg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vT(t){t.resolveTargetDelta()}function xT(t){t.calcProjection()}function wT(t){t.resetSkewAndRotation()}function _T(t){t.removeLeadSnapshot()}function Ng(t,e,n){t.translate=ye(e.translate,0,n),t.scale=ye(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Pg(t,e,n,r){t.min=ye(e.min,n.min,r),t.max=ye(e.max,n.max,r)}function ST(t,e,n,r){Pg(t.x,e.x,n.x,r),Pg(t.y,e.y,n.y,r)}function CT(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kT={duration:.45,ease:[.4,0,.1,1]},Ig=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ag=Ig("applewebkit/")&&!Ig("chrome/")?Math.round:mt;function Rg(t){t.min=Ag(t.min),t.max=Ag(t.max)}function bT(t){Rg(t.x),Rg(t.y)}function L1(t,e,n){return t==="position"||t==="preserve-aspect"&&!N2(Cg(e),Cg(n),.2)}function ET(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const TT=R1({attachResizeListener:(t,e)=>Xs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qu={current:void 0},M1=R1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qu.current){const t=new TT({});t.mount(window),t.setOptions({layoutScroll:!0}),Qu.current=t}return Qu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NT={pan:{Feature:W2},drag:{Feature:$2,ProjectionNode:M1,MeasureLayout:E1}};function Lg(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&he.postRender(()=>s(e,wo(e)))}class PT extends sr{mount(){const{current:e}=this.node;e&&(this.unmount=Nb(e,n=>(Lg(this.node,n,"Start"),r=>Lg(this.node,r,"End"))))}unmount(){}}class IT extends sr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xo(Xs(this.node.current,"focus",()=>this.onFocus()),Xs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Mg(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&he.postRender(()=>s(e,wo(e)))}class AT extends sr{mount(){const{current:e}=this.node;e&&(this.unmount=Rb(e,n=>(Mg(this.node,n,"Start"),(r,{success:i})=>Mg(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _d=new WeakMap,Yu=new WeakMap,RT=t=>{const e=_d.get(t.target);e&&e(t)},LT=t=>{t.forEach(RT)};function MT({root:t,...e}){const n=t||document;Yu.has(n)||Yu.set(n,{});const r=Yu.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(LT,{root:t,...e})),r[i]}function jT(t,e,n){const r=MT(e);return _d.set(t,n),r.observe(t),()=>{_d.delete(t),r.unobserve(t)}}const DT={some:0,all:1};class OT extends sr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:DT[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return jT(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(FT(e,n))&&this.startObserver()}unmount(){}}function FT({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const VT={inView:{Feature:OT},tap:{Feature:AT},focus:{Feature:IT},hover:{Feature:PT}},BT={layout:{ProjectionNode:M1,MeasureLayout:E1}},Sd={current:null},j1={current:!1};function zT(){if(j1.current=!0,!!Bh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sd.current=t.matches;t.addListener(e),e()}else Sd.current=!1}const UT=[...o1,Ge,Xn],$T=t=>UT.find(s1(t)),jg=new WeakMap;function WT(t,e,n){for(const r in e){const i=e[r],s=n[r];if(qe(i))t.addValue(r,i);else if(qe(s))t.addValue(r,Qs(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Qs(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Dg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HT{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=rn.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,he.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Hl(n),this.isVariantNode=px(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const g=d[p];l[p]!==void 0&&qe(g)&&g.set(l[p],!1)}}mount(e){this.current=e,jg.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),j1.current||zT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jg.delete(this.current),this.projection&&this.projection.unmount(),Yn(this.notifyUpdate),Yn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=jr.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&he.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ki){const n=ki[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):be()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Dg.length;r++){const i=Dg[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=WT(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Qs(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(r1(i)||qx(i))?i=parseFloat(i):!$T(i)&&Xn.test(n)&&(i=e1(e,n)),this.setBaseTarget(e,qe(i)?i.get():i)),qe(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Kh(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qe(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class D1 extends HT{constructor(){super(...arguments),this.KeyframeResolver=a1}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qe(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function GT(t){return window.getComputedStyle(t)}class KT extends D1{constructor(){super(...arguments),this.type="html",this.renderInstance=Cx}readValueFromInstance(e,n){if(jr.has(n)){const r=ff(n);return r&&r.default||0}else{const r=GT(e),i=(wx(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return k1(e,n)}build(e,n,r){Yh(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ef(e,n,r)}}class qT extends D1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=be}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jr.has(n)){const r=ff(n);return r&&r.default||0}return n=kx.has(n)?n:Wh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Tx(e,n,r)}build(e,n,r){Xh(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){bx(e,n,r,i)}mount(e){this.isSVGTag=Zh(e.tagName),super.mount(e)}}const QT=(t,e)=>Gh(t)?new qT(e):new KT(e,{allowProjection:t!==T.Fragment}),YT=_b({...x2,...VT,...NT,...BT},QT),R=Dk(YT);var O1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Og=jn.createContext&&jn.createContext(O1),XT=["attr","size","title"];function JT(t,e){if(t==null)return{};var n=ZT(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZT(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ya.apply(this,arguments)}function Fg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fg(Object(n),!0).forEach(function(r){eN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eN(t,e,n){return e=tN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tN(t){var e=nN(t,"string");return typeof e=="symbol"?e:e+""}function nN(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F1(t){return t&&t.map((e,n)=>jn.createElement(e.tag,Xa({key:n},e.attr),F1(e.child)))}function Y(t){return e=>jn.createElement(rN,Ya({attr:Xa({},t.attr)},e),F1(t.child))}function rN(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=JT(t,XT),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),jn.createElement("svg",Ya({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Xa(Xa({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&jn.createElement("title",null,s),t.children)};return Og!==void 0?jn.createElement(Og.Consumer,null,n=>e(n)):e(O1)}function Ss(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(t)}function iN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(t)}function Ei(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(t)}function Ja(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function sN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function oN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function V1(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function B1(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function aN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function Vg(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"},child:[]},{tag:"polyline",attr:{points:"8 6 2 12 8 18"},child:[]}]})(t)}function lN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(t)}function uN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function z1(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function fi(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function cN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function dN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"6",y1:"3",x2:"6",y2:"15"},child:[]},{tag:"circle",attr:{cx:"18",cy:"6",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"path",attr:{d:"M18 9a9 9 0 0 1-9 9"},child:[]}]})(t)}function ql(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(t)}function hN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function vf(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function fN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function _o(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"},child:[]},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"},child:[]},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"},child:[]}]})(t)}function pN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function mN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function xf(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function gN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function yN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function U1(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function vN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(t)}function xN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function wN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function _N(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(t)}function SN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(t)}function CN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function kN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function $1(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function Za(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function bN(t){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}const EN=({isDark:t,toggleTheme:e})=>{const{t:n,i18n:r}=dt(),[i,s]=T.useState(!1),[o,a]=T.useState(!1),[l,u]=T.useState("hero"),c=[{id:"hero",label:"",icon:fN},{id:"overview",label:n("nav.overview")},{id:"skills",label:n("nav.skills")},{id:"education",label:n("nav.education")},{id:"experience",label:n("nav.experience")},{id:"certifications",label:n("nav.certifications")},{id:"projects",label:n("nav.projects")},{id:"research",label:n("nav.research")},{id:"opensource",label:n("nav.opensource")},{id:"showcase",label:n("nav.showcase")}];T.useEffect(()=>{const p=()=>{s(window.scrollY>50);const g=c.map(_=>document.getElementById(_.id)),x=window.scrollY+100;for(let _=g.length-1;_>=0;_--){const y=g[_];if(y&&y.offsetTop<=x){u(c[_].id);break}}};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const h=p=>{const g=document.getElementById(p);if(g){const _=g.offsetTop-80;window.scrollTo({top:_,behavior:"smooth"}),a(!1)}},d=()=>{const p=r.language==="en"?"fr":"en";r.changeLanguage(p),localStorage.setItem("language",p)};return f.jsxs(f.Fragment,{children:[f.jsx(R.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${i?"bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg shadow-lg":"bg-transparent"}`,children:f.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20 gap-4",children:[f.jsxs("div",{className:"relative group",children:[f.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h("contact"),className:"flex-shrink-0 px-4 md:px-6 py-2 rounded-lg font-semibold text-sm md:text-base bg-gradient-to-r from-primary-light to-accent-light dark:from-primary-dark dark:to-accent-dark text-white shadow-lg hover:shadow-xl transition-all duration-300",children:"Hire Me"}),f.jsx("div",{className:"absolute left-0 top-full mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-50",children:f.jsx("div",{className:"bg-gray-900 dark:bg-gray-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl whitespace-nowrap",children:n("tooltips.hireMe")})})]}),f.jsx("div",{className:"hidden lg:flex items-center space-x-1 flex-shrink-0",children:c.map(p=>f.jsx("button",{onClick:()=>h(p.id),className:`px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all duration-300 ${l===p.id?"bg-primary-light/10 dark:bg-primary-dark/10 text-primary-light dark:text-primary-dark":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,"aria-label":p.icon?"Home":p.label,children:p.icon?f.jsx(p.icon,{size:18}):p.label},p.id))}),f.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[f.jsxs("div",{className:"relative group",children:[f.jsxs(R.a,{href:"https://github.com/jermiah/portfolio",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-primary-light to-accent-light dark:from-primary-dark dark:to-accent-dark text-white text-sm font-medium shadow-md hover:shadow-lg transition-all duration-300","aria-label":"Fork this website",children:[f.jsx(dN,{size:16}),f.jsx("span",{children:"Fork"})]}),f.jsx("div",{className:"absolute right-0 top-full mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-50",children:f.jsx("div",{className:"bg-gray-900 dark:bg-gray-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl whitespace-nowrap",children:n("tooltips.fork")})})]}),f.jsxs("div",{className:"relative group",children:[f.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"Toggle theme",children:t?f.jsx(SN,{size:20}):f.jsx(vN,{size:20})}),f.jsx("div",{className:"absolute right-0 top-full mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-50",children:f.jsx("div",{className:"bg-gray-900 dark:bg-gray-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl whitespace-nowrap",children:n("tooltips.theme")})})]}),f.jsxs("div",{className:"relative group",children:[f.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:d,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"Toggle language",children:f.jsx(hN,{size:20})}),f.jsx("div",{className:"absolute right-0 top-full mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-50",children:f.jsx("div",{className:"bg-gray-900 dark:bg-gray-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl whitespace-nowrap",children:n("tooltips.language")})})]}),f.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a(!o),className:"lg:hidden p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300","aria-label":"Toggle menu",children:o?f.jsx(Za,{size:20}):f.jsx(yN,{size:20})})]})]})})}),o&&f.jsx(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-16 md:top-20 left-0 right-0 z-40 lg:hidden bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg shadow-lg",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 space-y-2",children:c.map(p=>f.jsxs("button",{onClick:()=>h(p.id),className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-all duration-300 flex items-center gap-2 ${l===p.id?"bg-primary-light/10 dark:bg-primary-dark/10 text-primary-light dark:text-primary-dark":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[p.icon&&f.jsx(p.icon,{size:18}),p.label||"Home"]},p.id))})})]})},TN=({texts:t=[],loop:e=!0,typingSpeed:n=100,deletingSpeed:r=50,pauseDuration:i=2e3})=>{const[s,o]=T.useState(""),[a,l]=T.useState(0),[u,c]=T.useState(!1),[h,d]=T.useState(!1);return!t||t.length===0?f.jsx("span",{children:"Data Scientist & AI Engineer"}):(T.useEffect(()=>{const p=t[a];if(h){const x=setTimeout(()=>{d(!1),c(!0)},i);return()=>clearTimeout(x)}if(!u&&s===p){if(t.length===1&&!e)return;d(!0);return}if(u&&s===""){c(!1),l(x=>(x+1)%t.length);return}const g=setTimeout(()=>{o(u?p.substring(0,s.length-1):p.substring(0,s.length+1))},u?r:n);return()=>clearTimeout(g)},[s,u,h,a,t,e,n,r,i]),f.jsxs("span",{children:[s,f.jsx("span",{className:"typing-cursor"})]}))},NN=()=>{};var Bg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(t,e){if(!t)throw Oi(e)},Oi=function(t){return new Error("Firebase Database ("+W1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(H1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new IN;const d=s<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G1=function(t){const e=H1(t);return wf.encodeByteArray(e,!0)},el=function(t){return G1(t).replace(/\./g,"")},Cd=function(t){try{return wf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t){return K1(void 0,t)}function K1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!RN(n)||(t[n]=K1(t[n],e[n]));return t}function RN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=()=>LN().__FIREBASE_DEFAULTS__,jN=()=>{if(typeof process>"u"||typeof Bg>"u")return;const t=Bg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cd(t[1]);return e&&JSON.parse(e)},q1=()=>{try{return NN()||MN()||jN()||DN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ON=t=>{var e,n;return(n=(e=q1())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},FN=t=>{const e=ON(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Q1=()=>{var t;return(t=q1())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[el(JSON.stringify(n)),el(JSON.stringify(o)),""].join(".")}const Cs={};function zN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cs))Cs[e]?t.emulator.push(e):t.prod.push(e);return t}function UN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zg=!1;function $N(t,e){if(typeof window>"u"||typeof document>"u"||!_f(window.location.host)||Cs[t]===e||Cs[t]||zg)return;Cs[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",s=zN().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{zg=!0,o()},d}function c(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=UN(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),x=n("learnmore"),_=document.getElementById(x)||document.createElement("a"),y=n("preprendIcon"),m=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const v=d.element;a(v),c(_,x);const S=u();l(m,y),v.append(m,g,_,S),document.body.appendChild(v)}s?(g.innerText="Preview backend disconnected.",m.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(m.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(WN())}function HN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GN(){return W1.NODE_ADMIN===!0}function KN(){try{return typeof indexedDB=="object"}catch{return!1}}function qN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="FirebaseError";class So extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QN,Object.setPrototypeOf(this,So.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X1.prototype.create)}}class X1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?YN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new So(i,a,r)}}function YN(t,e){return t.replace(XN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){return JSON.parse(t)}function Ae(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Js(Cd(s[0])||""),n=Js(Cd(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},JN=function(t){const e=J1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ZN=function(t){const e=J1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Pr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ug(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function nl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($g(s)&&$g(o)){if(!nl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $g(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const d=(i<<5|i>>>27)+u+l+c+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Ql(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,A(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Yl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t){return t&&t._delegate?t._delegate:t}class Zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Fi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sP(e))try{this.getOrInitializeService({instanceIdentifier:hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hr){return this.instances.has(e)}getOptions(e=hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hr){return this.component?this.component.multipleInstances?e:hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iP(t){return t===hr?void 0:t}function sP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const aP={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},lP=oe.INFO,uP={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},cP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=uP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Z1=class{constructor(e){this.name=e,this._logLevel=lP,this._logHandler=cP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}};const dP=(t,e)=>e.some(n=>t instanceof n);let Wg,Hg;function hP(){return Wg||(Wg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fP(){return Hg||(Hg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ew=new WeakMap,kd=new WeakMap,tw=new WeakMap,Xu=new WeakMap,Sf=new WeakMap;function pP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ew.set(n,t)}).catch(()=>{}),Sf.set(e,t),e}function mP(t){if(kd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});kd.set(t,e)}let bd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gP(t){bd=t(bd)}function yP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ju(this),e,...n);return tw.set(r,e.sort?e.sort():[e]),Wn(r)}:fP().includes(t)?function(...e){return t.apply(Ju(this),e),Wn(ew.get(this))}:function(...e){return Wn(t.apply(Ju(this),e))}}function vP(t){return typeof t=="function"?yP(t):(t instanceof IDBTransaction&&mP(t),dP(t,hP())?new Proxy(t,bd):t)}function Wn(t){if(t instanceof IDBRequest)return pP(t);if(Xu.has(t))return Xu.get(t);const e=vP(t);return e!==t&&(Xu.set(t,e),Sf.set(e,t)),e}const Ju=t=>Sf.get(t);function xP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Wn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Wn(o.result),l.oldVersion,l.newVersion,Wn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const wP=["get","getKey","getAll","getAllKeys","count"],_P=["put","add","delete","clear"],Zu=new Map;function Gg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zu.get(e))return Zu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_P.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wP.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Zu.set(e,s),s}gP(t=>({...t,get:(e,n,r)=>Gg(e,n)||t.get(e,n,r),has:(e,n)=>!!Gg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ed="@firebase/app",Kg="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Z1("@firebase/app"),kP="@firebase/app-compat",bP="@firebase/analytics-compat",EP="@firebase/analytics",TP="@firebase/app-check-compat",NP="@firebase/app-check",PP="@firebase/auth",IP="@firebase/auth-compat",AP="@firebase/database",RP="@firebase/data-connect",LP="@firebase/database-compat",MP="@firebase/functions",jP="@firebase/functions-compat",DP="@firebase/installations",OP="@firebase/installations-compat",FP="@firebase/messaging",VP="@firebase/messaging-compat",BP="@firebase/performance",zP="@firebase/performance-compat",UP="@firebase/remote-config",$P="@firebase/remote-config-compat",WP="@firebase/storage",HP="@firebase/storage-compat",GP="@firebase/firestore",KP="@firebase/ai",qP="@firebase/firestore-compat",QP="firebase",YP="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="[DEFAULT]",XP={[Ed]:"fire-core",[kP]:"fire-core-compat",[EP]:"fire-analytics",[bP]:"fire-analytics-compat",[NP]:"fire-app-check",[TP]:"fire-app-check-compat",[PP]:"fire-auth",[IP]:"fire-auth-compat",[AP]:"fire-rtdb",[RP]:"fire-data-connect",[LP]:"fire-rtdb-compat",[MP]:"fire-fn",[jP]:"fire-fn-compat",[DP]:"fire-iid",[OP]:"fire-iid-compat",[FP]:"fire-fcm",[VP]:"fire-fcm-compat",[BP]:"fire-perf",[zP]:"fire-perf-compat",[UP]:"fire-rc",[$P]:"fire-rc-compat",[WP]:"fire-gcs",[HP]:"fire-gcs-compat",[GP]:"fire-fst",[qP]:"fire-fst-compat",[KP]:"fire-vertex","fire-js":"fire-js",[QP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new Map,JP=new Map,Nd=new Map;function qg(t,e){try{t.container.addComponent(e)}catch(n){_n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function il(t){const e=t.name;if(Nd.has(e))return _n.debug(`There were multiple attempts to register component ${e}.`),!1;Nd.set(e,t);for(const n of rl.values())qg(n,t);for(const n of JP.values())qg(n,t);return!0}function ZP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function eI(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hn=new X1("app","Firebase",tI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=YP;function nw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Td,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Hn.create("bad-app-name",{appName:String(i)});if(n||(n=Q1()),!n)throw Hn.create("no-options");const s=rl.get(i);if(s){if(nl(n,s.options)&&nl(r,s.config))return s;throw Hn.create("duplicate-app",{appName:i})}const o=new oP(i);for(const l of Nd.values())o.addComponent(l);const a=new nI(n,r,o);return rl.set(i,a),a}function iI(t=Td){const e=rl.get(t);if(!e&&t===Td&&Q1())return nw();if(!e)throw Hn.create("no-app",{appName:t});return e}function pi(t,e,n){let r=XP[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_n.warn(o.join(" "));return}il(new Zs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="firebase-heartbeat-database",oI=1,eo="firebase-heartbeat-store";let ec=null;function rw(){return ec||(ec=xP(sI,oI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hn.create("idb-open",{originalErrorMessage:t.message})})),ec}async function aI(t){try{const n=(await rw()).transaction(eo),r=await n.objectStore(eo).get(iw(t));return await n.done,r}catch(e){if(e instanceof So)_n.warn(e.message);else{const n=Hn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_n.warn(n.message)}}}async function Qg(t,e){try{const r=(await rw()).transaction(eo,"readwrite");await r.objectStore(eo).put(e,iw(t)),await r.done}catch(n){if(n instanceof So)_n.warn(n.message);else{const r=Hn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_n.warn(r.message)}}}function iw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=1024,uI=30;class cI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Yg();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>uI){const o=fI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_n.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yg(),{heartbeatsToSend:r,unsentEntries:i}=dI(this._heartbeatsCache.heartbeats),s=el(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return _n.warn(n),""}}}function Yg(){return new Date().toISOString().substring(0,10)}function dI(t,e=lI){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Xg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KN()?qN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Qg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Qg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Xg(t){return el(JSON.stringify({version:2,heartbeats:t})).length}function fI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t){il(new Zs("platform-logger",e=>new SP(e),"PRIVATE")),il(new Zs("heartbeat",e=>new cI(e),"PRIVATE")),pi(Ed,Kg,t),pi(Ed,Kg,"esm2020"),pi("fire-js","")}pI("");var mI="firebase",gI="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(mI,gI,"app");var Jg={};const Zg="@firebase/database",ey="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sw="";function yI(t){sw=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ae(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Js(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Kt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vI(e)}}catch{}return new xI},vr=ow("localStorage"),wI=ow("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new Z1("@firebase/database"),aw=function(){let t=1;return function(){return t++}}(),lw=function(t){const e=nP(t),n=new tP;n.update(e);const r=n.digest();return wf.encodeByteArray(r)},Co=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Co.apply(null,r):typeof r=="object"?e+=Ae(r):e+=r,e+=" "}return e};let ks=null,ty=!0;const _I=function(t,e){A(!0,"Can't turn on custom loggers persistently."),mi.logLevel=oe.VERBOSE,ks=mi.log.bind(mi)},Be=function(...t){if(ty===!0&&(ty=!1,ks===null&&wI.get("logging_enabled")===!0&&_I()),ks){const e=Co.apply(null,t);ks(e)}},ko=function(t){return function(...e){Be(t,...e)}},Pd=function(...t){const e="FIREBASE INTERNAL ERROR: "+Co(...t);mi.error(e)},Sn=function(...t){const e=`FIREBASE FATAL ERROR: ${Co(...t)}`;throw mi.error(e),new Error(e)},et=function(...t){const e="FIREBASE WARNING: "+Co(...t);mi.warn(e)},SI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Cf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},CI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ir="[MIN_NAME]",Jn="[MAX_NAME]",Dr=function(t,e){if(t===e)return 0;if(t===Ir||e===Jn)return-1;if(e===Ir||t===Jn)return 1;{const n=ny(t),r=ny(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},kI=function(t,e){return t===e?0:t<e?-1:1},Xi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ae(e))},kf=function(t){if(typeof t!="object"||t===null)return Ae(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ae(e[r]),n+=":",n+=kf(t[e[r]]);return n+="}",n},uw=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function $e(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const cw=function(t){A(!Cf(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let d=parseInt(c.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},bI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},EI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function TI(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const NI=new RegExp("^-?(0*)\\d{1,10}$"),PI=-2147483648,II=2147483647,ny=function(t){if(NI.test(t)){const e=Number(t);if(e>=PI&&e<=II)return e}return null},Vi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw et("Exception was thrown by user callback.",n),e},Math.floor(0))}},AI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},bs=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,eI(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){et(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Be("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',et(e)}}class va{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}va.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="5",dw="v",hw="s",fw="r",pw="f",mw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gw="ls",yw="p",Id="ac",vw="websocket",xw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&vr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function MI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function _w(t,e,n){A(typeof e=="string","typeof type must == string"),A(typeof n=="object","typeof params must == object");let r;if(e===vw)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===xw)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);MI(t)&&(n.ns=t.namespace);const i=[];return $e(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.counters_={}}incrementCounter(e,n=1){Kt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return AN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc={},nc={};function Ef(t){const e=t.toString();return tc[e]||(tc[e]=new jI),tc[e]}function DI(t,e){const n=t.toString();return nc[n]||(nc[n]=e()),nc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Vi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="start",FI="close",VI="pLPCommand",BI="pRTLPCB",Sw="id",Cw="pw",kw="ser",zI="cb",UI="seg",$I="ts",WI="d",HI="dframe",bw=1870,Ew=30,GI=bw-Ew,KI=25e3,qI=3e4;class oi{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ko(e),this.stats_=Ef(n),this.urlFn=l=>(this.appCheckToken&&(l[Id]=this.appCheckToken),_w(n,xw,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new OI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(qI)),CI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Tf((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ry)this.id=a,this.password=l;else if(o===FI)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[ry]="t",r[kw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[zI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[dw]=bf,this.transportSessionId&&(r[hw]=this.transportSessionId),this.lastSessionId&&(r[gw]=this.lastSessionId),this.applicationId&&(r[yw]=this.applicationId),this.appCheckToken&&(r[Id]=this.appCheckToken),typeof location<"u"&&location.hostname&&mw.test(location.hostname)&&(r[fw]=pw);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){oi.forceAllow_=!0}static forceDisallow(){oi.forceDisallow_=!0}static isAvailable(){return oi.forceAllow_?!0:!oi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bI()&&!EI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=G1(n),i=uw(r,GI);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[HI]="t",r[Sw]=e,r[Cw]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ae(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Tf{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=aw(),window[VI+this.uniqueCallbackIdentifier]=e,window[BI+this.uniqueCallbackIdentifier]=n,this.myIFrame=Tf.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Be("frame writing exception"),a.stack&&Be(a.stack),Be(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Be("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Sw]=this.myID,e[Cw]=this.myPW,e[kw]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ew+r.length<=bw;){const o=this.pendingSegs.shift();r=r+"&"+UI+i+"="+o.seg+"&"+$I+i+"="+o.ts+"&"+WI+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(KI)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Be("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=16384,YI=45e3;let sl=null;typeof MozWebSocket<"u"?sl=MozWebSocket:typeof WebSocket<"u"&&(sl=WebSocket);class zt{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ko(this.connId),this.stats_=Ef(n),this.connURL=zt.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[dw]=bf,typeof location<"u"&&location.hostname&&mw.test(location.hostname)&&(o[fw]=pw),n&&(o[hw]=n),r&&(o[gw]=r),i&&(o[Id]=i),s&&(o[yw]=s),_w(e,vw,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vr.set("previous_websocket_failure",!0);try{let r;GN(),this.mySock=new sl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){zt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&sl!==null&&!zt.forceDisallow_}static previouslyFailed(){return vr.isInMemoryStorage||vr.get("previous_websocket_failure")===!0}markConnectionHealthy(){vr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Js(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(A(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=uw(n,QI);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(YI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zt.responsesRequiredToBeHealthy=2;zt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static get ALL_TRANSPORTS(){return[oi,zt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=zt&&zt.isAvailable();let r=n&&!zt.previouslyFailed();if(e.webSocketOnly&&(n||et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zt];else{const i=this.transports_=[];for(const s of to.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);to.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}to.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=6e4,JI=5e3,ZI=10*1024,eA=100*1024,rc="t",iy="d",tA="s",sy="r",nA="e",oy="o",ay="a",ly="n",uy="p",rA="h";class iA{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ko("c:"+this.id+":"),this.transportManager_=new to(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=bs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>eA?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ZI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rc in e){const n=e[rc];n===ay?this.upgradeIfSecondaryHealthy_():n===sy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===oy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Xi("t",e),r=Xi("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:uy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ay,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ly,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Xi("t",e),r=Xi("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Xi(rc,e);if(iy in e){const r=e[iy];if(n===rA){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===ly){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===tA?this.onConnectionShutdown_(r):n===sy?this.onReset_(r):n===nA?Pd("Server Error: "+r):n===oy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pd("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),bf!==r&&et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),bs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(XI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(JI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:uy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nw=class{constructor(e){this.allowedEvents_=e,this.listeners_={},A(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){A(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Nw{static getInstance(){return new ol}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Y1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return A(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=32,dy=768;class ne{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ee(){return new ne("")}function G(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zn(t){return t.pieces_.length-t.pieceNum_}function ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ne(t.pieces_,e)}function Nf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function sA(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function no(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Pw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ne(e,0)}function ke(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ne)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ne(n,0)}function K(t){return t.pieceNum_>=t.pieces_.length}function Je(t,e){const n=G(t),r=G(e);if(n===null)return e;if(n===r)return Je(ae(t),ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function oA(t,e){const n=no(t,0),r=no(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Dr(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Pf(t,e){if(Zn(t)!==Zn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Nt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Zn(t)>Zn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class aA{constructor(e,n){this.errorPrefix_=n,this.parts_=no(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Yl(this.parts_[r]);Iw(this)}}function lA(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Yl(e),Iw(t)}function uA(t){const e=t.parts_.pop();t.byteLength_-=Yl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Iw(t){if(t.byteLength_>dy)throw new Error(t.errorPrefix_+"has a key path longer than "+dy+" bytes ("+t.byteLength_+").");if(t.parts_.length>cy)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cy+") or object contains a cycle "+fr(t))}function fr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends Nw{static getInstance(){return new If}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return A(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=1e3,cA=60*5*1e3,hy=30*1e3,dA=1.3,hA=3e4,fA="server_kill",fy=3;class mn extends Tw{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=mn.nextPersistentConnectionId_++,this.log_=ko("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ji,this.maxReconnectDelay_=cA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");If.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ol.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ae(s)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Fi,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),A(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;mn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Kt(e,"w")){const r=Pr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ZN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=JN(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),A(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ae(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Pd("Unrecognized action received from server: "+Ae(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ji,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ji,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>hA&&(this.reconnectDelay_=Ji),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*dA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+mn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){A(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Be("getToken() completed but was canceled"):(Be("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,a=new iA(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{et(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(fA)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&et(h),l())}}}interrupt(e){Be("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Be("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ug(this.interruptReasons_)&&(this.reconnectDelay_=Ji,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>kf(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ne(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Be("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fy&&(this.reconnectDelay_=hy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Be("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+sw.replace(/\./g,"-")]=1,Y1()?e["framework.cordova"]=1:HN()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ol.getInstance().currentlyOnline();return Ug(this.interruptReasons_)&&e}}mn.nextPersistentConnectionId_=0;mn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new q(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new q(Ir,e),i=new q(Ir,n);return this.compare(r,i)!==0}minPost(){return q.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea;class Aw extends Xl{static get __EMPTY_NODE(){return ea}static set __EMPTY_NODE(e){ea=e}compare(e,n){return Dr(e.name,n.name)}isDefinedOn(e){throw Oi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return q.MIN}maxPost(){return new q(Jn,ea)}makePost(e,n){return A(typeof e=="string","KeyIndex indexValue must always be a string."),new q(e,ea)}toString(){return".key"}}const Cr=new Aw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class je{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??je.RED,this.left=i??at.EMPTY_NODE,this.right=s??at.EMPTY_NODE}copy(e,n,r,i,s){return new je(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return at.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return at.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}je.RED=!0;je.BLACK=!1;class pA{copy(e,n,r,i,s){return this}insert(e,n,r){return new je(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class at{constructor(e,n=at.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new at(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,je.BLACK,null,null))}remove(e){return new at(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,je.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ta(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ta(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ta(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ta(this.root_,null,this.comparator_,!0,e)}}at.EMPTY_NODE=new pA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t,e){return Dr(t.name,e.name)}function Af(t,e){return Dr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad;function gA(t){Ad=t}const Rw=function(t){return typeof t=="number"?"number:"+cw(t):"string:"+t},Lw=function(t){if(t.isLeafNode()){const e=t.val();A(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Kt(e,".sv"),"Priority must be a string or number.")}else A(t===Ad||t.isEmpty(),"priority of unexpected type.");A(t===Ad||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let py;class Le{static set __childrenNodeConstructor(e){py=e}static get __childrenNodeConstructor(){return py}constructor(e,n=Le.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,A(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Lw(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Le(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Le.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return K(e)?this:G(e)===".priority"?this.priorityNode_:Le.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Le.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=G(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(A(r!==".priority"||Zn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Le.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Rw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=cw(this.value_):e+=this.value_,this.lazyHash_=lw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Le.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Le.__childrenNodeConstructor?-1:(A(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Le.VALUE_TYPE_ORDER.indexOf(n),s=Le.VALUE_TYPE_ORDER.indexOf(r);return A(i>=0,"Unknown leaf type: "+n),A(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Le.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mw,jw;function yA(t){Mw=t}function vA(t){jw=t}class xA extends Xl{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Dr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return q.MIN}maxPost(){return new q(Jn,new Le("[PRIORITY-POST]",jw))}makePost(e,n){const r=Mw(e);return new q(n,new Le("[PRIORITY-POST]",r))}toString(){return".priority"}}const me=new xA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=Math.log(2);class _A{constructor(e){const n=s=>parseInt(Math.log(s)/wA,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const al=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let h,d;if(c===0)return null;if(c===1)return h=t[l],d=n?n(h):h,new je(d,h.node,je.BLACK,null,null);{const p=parseInt(c/2,10)+l,g=i(l,p),x=i(p+1,u);return h=t[p],d=n?n(h):h,new je(d,h.node,je.BLACK,g,x)}},s=function(l){let u=null,c=null,h=t.length;const d=function(g,x){const _=h-g,y=h;h-=g;const m=i(_+1,y),v=t[_],S=n?n(v):v;p(new je(S,v.node,x,null,m))},p=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const x=l.nextBitIsOne(),_=Math.pow(2,l.count-(g+1));x?d(_,je.BLACK):(d(_,je.BLACK),d(_,je.RED))}return c},o=new _A(t.length),a=s(o);return new at(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic;const Br={};class dn{static get Default(){return A(Br&&me,"ChildrenNode.ts has not been loaded"),ic=ic||new dn({".priority":Br},{".priority":me}),ic}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Pr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof at?n:null}hasIndex(e){return Kt(this.indexSet_,e.toString())}addIndex(e,n){A(e!==Cr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(q.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=al(r,e.getCompare()):a=Br;const l=e.toString(),u={...this.indexSet_};u[l]=e;const c={...this.indexes_};return c[l]=a,new dn(c,u)}addToIndexes(e,n){const r=tl(this.indexes_,(i,s)=>{const o=Pr(this.indexSet_,s);if(A(o,"Missing index implementation for "+s),i===Br)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(q.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),al(a,o.getCompare())}else return Br;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new q(e.name,a))),l.insert(e,e.node)}});return new dn(r,this.indexSet_)}removeFromIndexes(e,n){const r=tl(this.indexes_,i=>{if(i===Br)return i;{const s=n.get(e.name);return s?i.remove(new q(e.name,s)):i}});return new dn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zi;class B{static get EMPTY_NODE(){return Zi||(Zi=new B(new at(Af),null,dn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Lw(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zi}updatePriority(e){return this.children_.isEmpty()?this:new B(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Zi:n}}getChild(e){const n=G(e);return n===null?this:this.getImmediateChild(n).getChild(ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(A(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new q(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Zi:this.priorityNode_;return new B(i,o,s)}}updateChild(e,n){const r=G(e);if(r===null)return n;{A(G(e)!==".priority"||Zn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ae(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(me,(o,a)=>{n[o]=a.val(e),r++,s&&B.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Rw(this.getPriority().val())+":"),this.forEachChild(me,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":lw(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new q(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new q(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new q(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,q.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,q.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bo?-1:0}withIndex(e){if(e===Cr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new B(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Cr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(me),i=n.getIterator(me);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Cr?null:this.indexMap_.get(e.toString())}}B.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class SA extends B{constructor(){super(new at(Af),B.EMPTY_NODE,dn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return B.EMPTY_NODE}isEmpty(){return!1}}const bo=new SA;Object.defineProperties(q,{MIN:{value:new q(Ir,B.EMPTY_NODE)},MAX:{value:new q(Jn,bo)}});Aw.__EMPTY_NODE=B.EMPTY_NODE;Le.__childrenNodeConstructor=B;gA(bo);vA(bo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=!0;function Te(t,e=null){if(t===null)return B.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),A(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Le(n,Te(e))}if(!(t instanceof Array)&&CA){const n=[];let r=!1;if($e(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Te(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new q(o,l)))}}),n.length===0)return B.EMPTY_NODE;const s=al(n,mA,o=>o.name,Af);if(r){const o=al(n,me.getCompare());return new B(s,Te(e),new dn({".priority":o},{".priority":me}))}else return new B(s,Te(e),dn.Default)}else{let n=B.EMPTY_NODE;return $e(t,(r,i)=>{if(Kt(t,r)&&r.substring(0,1)!=="."){const s=Te(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Te(e))}}yA(Te);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends Xl{constructor(e){super(),this.indexPath_=e,A(!K(e)&&G(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Dr(e.name,n.name):s}makePost(e,n){const r=Te(e),i=B.EMPTY_NODE.updateChild(this.indexPath_,r);return new q(n,i)}maxPost(){const e=B.EMPTY_NODE.updateChild(this.indexPath_,bo);return new q(Jn,e)}toString(){return no(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA extends Xl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Dr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return q.MIN}maxPost(){return q.MAX}makePost(e,n){const r=Te(e);return new q(n,r)}toString(){return".value"}}const Dw=new kA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t){return{type:"value",snapshotNode:t}}function Ti(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ro(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function io(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function bA(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){A(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ro(n,a)):A(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ti(n,r)):o.trackChildChange(io(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(me,(i,s)=>{n.hasChild(i)||r.trackChildChange(ro(i,s))}),n.isLeafNode()||n.forEachChild(me,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(io(i,s,o))}else r.trackChildChange(Ti(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?B.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.indexedFilter_=new Lf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=so.getStartPost_(e),this.endPost_=so.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new q(n,r))||(r=B.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=B.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(B.EMPTY_NODE);const s=this;return n.forEachChild(me,(o,a)=>{s.matches(new q(o,a))||(i=i.updateImmediateChild(o,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new so(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new q(n,r))||(r=B.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=B.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(B.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,p)=>h(p,d)}else o=this.index_.getCompare();const a=e;A(a.numChildren()===this.limit_,"");const l=new q(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const p=d==null?1:o(d,l);if(c&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(io(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(ro(n,h));const x=a.updateImmediateChild(n,B.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(Ti(d.name,d.node)),x.updateImmediateChild(d.name,d.node)):x}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(ro(u.name,u.node)),s.trackChildChange(Ti(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,B.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ir}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===me}copy(){const e=new Mf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function TA(t){return t.loadsAllData()?new Lf(t.getIndex()):t.hasLimit()?new EA(t):new so(t)}function NA(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function PA(t,e){const n=t.copy();return n.index_=e,n}function my(t){const e={};if(t.isDefault())return e;let n;if(t.index_===me?n="$priority":t.index_===Dw?n="$value":t.index_===Cr?n="$key":(A(t.index_ instanceof Rf,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ae(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ae(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ae(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ae(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ae(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function gy(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==me&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Tw{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(A(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ko("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ll.getListenId_(e,r),a={};this.listens_[o]=a;const l=my(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Pr(this.listens_,o)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=ll.getListenId_(e,n);delete this.listens_[r]}get(e){const n=my(e._queryParams),r=e._path.toString(),i=new Fi;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+eP(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Js(a.responseText)}catch{et("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&et("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(){return{value:null,children:new Map}}function Fw(t,e,n){if(K(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=G(e);t.children.has(r)||t.children.set(r,ul());const i=t.children.get(r);e=ae(e),Fw(i,e,n)}}function Rd(t,e,n){t.value!==null?n(e,t.value):AA(t,(r,i)=>{const s=new ne(e.toString()+"/"+r);Rd(i,s,n)})}function AA(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&$e(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=10*1e3,LA=30*1e3,MA=5*60*1e3;class jA{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new RA(e);const r=yy+(LA-yy)*Math.random();bs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;$e(e,(i,s)=>{s>0&&Kt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),bs(this.reportStats_.bind(this),Math.floor(Math.random()*2*MA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ut||(Ut={}));function jf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Df(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Of(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ut.ACK_USER_WRITE,this.source=jf()}operationForChild(e){if(K(this.path)){if(this.affectedTree.value!=null)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ne(e));return new cl(ee(),n,this.revert)}}else return A(G(this.path)===e,"operationForChild called for unrelated child."),new cl(ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.source=e,this.path=n,this.type=Ut.LISTEN_COMPLETE}operationForChild(e){return K(this.path)?new oo(this.source,ee()):new oo(this.source,ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ut.OVERWRITE}operationForChild(e){return K(this.path)?new Ar(this.source,ee(),this.snap.getImmediateChild(e)):new Ar(this.source,ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ut.MERGE}operationForChild(e){if(K(this.path)){const n=this.children.subtree(new ne(e));return n.isEmpty()?null:n.value?new Ar(this.source,ee(),n.value):new Ni(this.source,ee(),n)}else return A(G(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ni(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(K(e))return this.isFullyInitialized()&&!this.filtered_;const n=G(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function OA(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(bA(o.childName,o.snapshotNode))}),es(t,i,"child_removed",e,r,n),es(t,i,"child_added",e,r,n),es(t,i,"child_moved",s,r,n),es(t,i,"child_changed",e,r,n),es(t,i,"value",e,r,n),i}function es(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>VA(t,a,l)),o.forEach(a=>{const l=FA(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function FA(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function VA(t,e,n){if(e.childName==null||n.childName==null)throw Oi("Should only compare child_ events.");const r=new q(e.childName,e.snapshotNode),i=new q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t,e){return{eventCache:t,serverCache:e}}function Es(t,e,n,r){return Jl(new er(e,n,r),t.serverCache)}function Vw(t,e,n,r){return Jl(t.eventCache,new er(e,n,r))}function dl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Rr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc;const BA=()=>(sc||(sc=new at(kI)),sc);class se{static fromObject(e){let n=new se(null);return $e(e,(r,i)=>{n=n.set(new ne(r),i)}),n}constructor(e,n=BA()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ee(),value:this.value};if(K(e))return null;{const r=G(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ae(e),n);return s!=null?{path:ke(new ne(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(K(e))return this;{const n=G(e),r=this.children.get(n);return r!==null?r.subtree(ae(e)):new se(null)}}set(e,n){if(K(e))return new se(n,this.children);{const r=G(e),s=(this.children.get(r)||new se(null)).set(ae(e),n),o=this.children.insert(r,s);return new se(this.value,o)}}remove(e){if(K(e))return this.children.isEmpty()?new se(null):new se(null,this.children);{const n=G(e),r=this.children.get(n);if(r){const i=r.remove(ae(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new se(null):new se(this.value,s)}else return this}}get(e){if(K(e))return this.value;{const n=G(e),r=this.children.get(n);return r?r.get(ae(e)):null}}setTree(e,n){if(K(e))return n;{const r=G(e),s=(this.children.get(r)||new se(null)).setTree(ae(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new se(this.value,o)}}fold(e){return this.fold_(ee(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ke(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ee(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(K(e))return null;{const s=G(e),o=this.children.get(s);return o?o.findOnPath_(ae(e),ke(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ee(),n)}foreachOnPath_(e,n,r){if(K(e))return this;{this.value&&r(n,this.value);const i=G(e),s=this.children.get(i);return s?s.foreachOnPath_(ae(e),ke(n,i),r):new se(null)}}foreach(e){this.foreach_(ee(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ke(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.writeTree_=e}static empty(){return new Ht(new se(null))}}function Ts(t,e,n){if(K(e))return new Ht(new se(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Je(i,e);return s=s.updateChild(o,n),new Ht(t.writeTree_.set(i,s))}else{const i=new se(n),s=t.writeTree_.setTree(e,i);return new Ht(s)}}}function Ld(t,e,n){let r=t;return $e(n,(i,s)=>{r=Ts(r,ke(e,i),s)}),r}function vy(t,e){if(K(e))return Ht.empty();{const n=t.writeTree_.setTree(e,new se(null));return new Ht(n)}}function Md(t,e){return Or(t,e)!=null}function Or(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Je(n.path,e)):null}function xy(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(me,(r,i)=>{e.push(new q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new q(r,i.value))}),e}function Gn(t,e){if(K(e))return t;{const n=Or(t,e);return n!=null?new Ht(new se(n)):new Ht(t.writeTree_.subtree(e))}}function jd(t){return t.writeTree_.isEmpty()}function Pi(t,e){return Bw(ee(),t.writeTree_,e)}function Bw(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(A(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Bw(ke(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ke(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t,e){return Ww(e,t)}function zA(t,e,n,r,i){A(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ts(t.visibleWrites,e,n)),t.lastWriteId=r}function UA(t,e,n,r){A(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ld(t.visibleWrites,e,n),t.lastWriteId=r}function $A(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function WA(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);A(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&HA(a,r.path)?i=!1:Nt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return GA(t),!0;if(r.snap)t.visibleWrites=vy(t.visibleWrites,r.path);else{const a=r.children;$e(a,l=>{t.visibleWrites=vy(t.visibleWrites,ke(r.path,l))})}return!0}else return!1}function HA(t,e){if(t.snap)return Nt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Nt(ke(t.path,n),e))return!0;return!1}function GA(t){t.visibleWrites=zw(t.allWrites,KA,ee()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function KA(t){return t.visible}function zw(t,e,n){let r=Ht.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Nt(n,o)?(a=Je(n,o),r=Ts(r,a,s.snap)):Nt(o,n)&&(a=Je(o,n),r=Ts(r,ee(),s.snap.getChild(a)));else if(s.children){if(Nt(n,o))a=Je(n,o),r=Ld(r,a,s.children);else if(Nt(o,n))if(a=Je(o,n),K(a))r=Ld(r,ee(),s.children);else{const l=Pr(s.children,G(a));if(l){const u=l.getChild(ae(a));r=Ts(r,ee(),u)}}}else throw Oi("WriteRecord should have .snap or .children")}}return r}function Uw(t,e,n,r,i){if(!r&&!i){const s=Or(t.visibleWrites,e);if(s!=null)return s;{const o=Gn(t.visibleWrites,e);if(jd(o))return n;if(n==null&&!Md(o,ee()))return null;{const a=n||B.EMPTY_NODE;return Pi(o,a)}}}else{const s=Gn(t.visibleWrites,e);if(!i&&jd(s))return n;if(!i&&n==null&&!Md(s,ee()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Nt(u.path,e)||Nt(e,u.path))},a=zw(t.allWrites,o,e),l=n||B.EMPTY_NODE;return Pi(a,l)}}}function qA(t,e,n){let r=B.EMPTY_NODE;const i=Or(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(me,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Gn(t.visibleWrites,e);return n.forEachChild(me,(o,a)=>{const l=Pi(Gn(s,new ne(o)),a);r=r.updateImmediateChild(o,l)}),xy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Gn(t.visibleWrites,e);return xy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function QA(t,e,n,r,i){A(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ke(e,n);if(Md(t.visibleWrites,s))return null;{const o=Gn(t.visibleWrites,s);return jd(o)?i.getChild(n):Pi(o,i.getChild(n))}}function YA(t,e,n,r){const i=ke(e,n),s=Or(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Gn(t.visibleWrites,i);return Pi(o,r.getNode().getImmediateChild(n))}else return null}function XA(t,e){return Or(t.visibleWrites,e)}function JA(t,e,n,r,i,s,o){let a;const l=Gn(t.visibleWrites,e),u=Or(l,ee());if(u!=null)a=u;else if(n!=null)a=Pi(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=d.getNext();for(;p&&c.length<i;)h(p,r)!==0&&c.push(p),p=d.getNext();return c}else return[]}function ZA(){return{visibleWrites:Ht.empty(),allWrites:[],lastWriteId:-1}}function hl(t,e,n,r){return Uw(t.writeTree,t.treePath,e,n,r)}function Ff(t,e){return qA(t.writeTree,t.treePath,e)}function wy(t,e,n,r){return QA(t.writeTree,t.treePath,e,n,r)}function fl(t,e){return XA(t.writeTree,ke(t.treePath,e))}function eR(t,e,n,r,i,s){return JA(t.writeTree,t.treePath,e,n,r,i,s)}function Vf(t,e,n){return YA(t.writeTree,t.treePath,e,n)}function $w(t,e){return Ww(ke(t.treePath,e),t.writeTree)}function Ww(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;A(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),A(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,io(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ro(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ti(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,io(r,e.snapshotNode,i.oldSnap));else throw Oi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Hw=new nR;class Bf{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new er(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vf(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Rr(this.viewCache_),s=eR(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){return{filter:t}}function iR(t,e){A(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),A(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function sR(t,e,n,r,i){const s=new tR;let o,a;if(n.type===Ut.OVERWRITE){const u=n;u.source.fromUser?o=Dd(t,e,u.path,u.snap,r,i,s):(A(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!K(u.path),o=pl(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Ut.MERGE){const u=n;u.source.fromUser?o=aR(t,e,u.path,u.children,r,i,s):(A(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Od(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Ut.ACK_USER_WRITE){const u=n;u.revert?o=cR(t,e,u.path,r,i,s):o=lR(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ut.LISTEN_COMPLETE)o=uR(t,e,n.path,r,s);else throw Oi("Unknown operation type: "+n.type);const l=s.getChanges();return oR(e,o,l),{viewCache:o,changes:l}}function oR(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=dl(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Ow(dl(e)))}}function Gw(t,e,n,r,i,s){const o=e.eventCache;if(fl(r,n)!=null)return e;{let a,l;if(K(n))if(A(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Rr(e),c=u instanceof B?u:B.EMPTY_NODE,h=Ff(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=hl(r,Rr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=G(n);if(u===".priority"){A(Zn(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=wy(r,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=ae(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const d=wy(r,n,o.getNode(),l);d!=null?h=o.getNode().getImmediateChild(u).updateChild(c,d):h=o.getNode().getImmediateChild(u)}else h=Vf(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,i,s):a=o.getNode()}}return Es(e,a,o.isFullyInitialized()||K(n),t.filter.filtersNodes())}}function pl(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(K(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=G(n);if(!l.isCompleteForPath(n)&&Zn(n)>1)return e;const g=ae(n),_=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?u=c.updatePriority(l.getNode(),_):u=c.updateChild(l.getNode(),p,_,g,Hw,null)}const h=Vw(e,u,l.isFullyInitialized()||K(n),c.filtersNodes()),d=new Bf(i,h,s);return Gw(t,h,n,i,d,a)}function Dd(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new Bf(i,e,s);if(K(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Es(e,u,!0,t.filter.filtersNodes());else{const h=G(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Es(e,u,a.isFullyInitialized(),a.isFiltered());else{const d=ae(n),p=a.getNode().getImmediateChild(h);let g;if(K(d))g=r;else{const x=c.getCompleteChild(h);x!=null?Nf(d)===".priority"&&x.getChild(Pw(d)).isEmpty()?g=x:g=x.updateChild(d,r):g=B.EMPTY_NODE}if(p.equals(g))l=e;else{const x=t.filter.updateChild(a.getNode(),h,g,d,c,o);l=Es(e,x,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function _y(t,e){return t.eventCache.isCompleteForChild(e)}function aR(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=ke(n,l);_y(e,G(c))&&(a=Dd(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=ke(n,l);_y(e,G(c))||(a=Dd(t,a,c,u,i,s,o))}),a}function Sy(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Od(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;K(n)?u=r:u=new se(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,d)=>{if(c.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),g=Sy(t,p,d);l=pl(t,l,new ne(h),g,i,s,o,a)}}),u.children.inorderTraversal((h,d)=>{const p=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!c.hasChild(h)&&!p){const g=e.serverCache.getNode().getImmediateChild(h),x=Sy(t,g,d);l=pl(t,l,new ne(h),x,i,s,o,a)}}),l}function lR(t,e,n,r,i,s,o){if(fl(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(K(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return pl(t,e,n,l.getNode().getChild(n),i,s,a,o);if(K(n)){let u=new se(null);return l.getNode().forEachChild(Cr,(c,h)=>{u=u.set(new ne(c),h)}),Od(t,e,n,u,i,s,a,o)}else return e}else{let u=new se(null);return r.foreach((c,h)=>{const d=ke(n,c);l.isCompleteForPath(d)&&(u=u.set(c,l.getNode().getChild(d)))}),Od(t,e,n,u,i,s,a,o)}}function uR(t,e,n,r,i){const s=e.serverCache,o=Vw(e,s.getNode(),s.isFullyInitialized()||K(n),s.isFiltered());return Gw(t,o,n,r,Hw,i)}function cR(t,e,n,r,i,s){let o;if(fl(r,n)!=null)return e;{const a=new Bf(r,e,i),l=e.eventCache.getNode();let u;if(K(n)||G(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=hl(r,Rr(e));else{const h=e.serverCache.getNode();A(h instanceof B,"serverChildren would be complete if leaf node"),c=Ff(r,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=G(n);let h=Vf(r,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,ae(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,B.EMPTY_NODE,ae(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=hl(r,Rr(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||fl(r,ee())!=null,Es(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Lf(r.getIndex()),s=TA(r);this.processor_=rR(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(B.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(B.EMPTY_NODE,a.getNode(),null),c=new er(l,o.isFullyInitialized(),i.filtersNodes()),h=new er(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Jl(h,c),this.eventGenerator_=new DA(this.query_)}get query(){return this.query_}}function hR(t){return t.viewCache_.serverCache.getNode()}function fR(t){return dl(t.viewCache_)}function pR(t,e){const n=Rr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!K(e)&&!n.getImmediateChild(G(e)).isEmpty())?n.getChild(e):null}function Cy(t){return t.eventRegistrations_.length===0}function mR(t,e){t.eventRegistrations_.push(e)}function ky(t,e,n){const r=[];if(n){A(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function by(t,e,n,r){e.type===Ut.MERGE&&e.source.queryId!==null&&(A(Rr(t.viewCache_),"We should always have a full cache before handling merges"),A(dl(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=sR(t.processor_,i,e,n,r);return iR(t.processor_,s.viewCache),A(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Kw(t,s.changes,s.viewCache.eventCache.getNode(),null)}function gR(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(me,(s,o)=>{r.push(Ti(s,o))}),n.isFullyInitialized()&&r.push(Ow(n.getNode())),Kw(t,r,n.getNode(),e)}function Kw(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return OA(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml;class qw{constructor(){this.views=new Map}}function yR(t){A(!ml,"__referenceConstructor has already been defined"),ml=t}function vR(){return A(ml,"Reference.ts has not been loaded"),ml}function xR(t){return t.views.size===0}function zf(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return A(s!=null,"SyncTree gave us an op for an invalid query."),by(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(by(o,e,n,r));return s}}function Qw(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=hl(n,i?r:null),l=!1;a?l=!0:r instanceof B?(a=Ff(n,r),l=!1):(a=B.EMPTY_NODE,l=!1);const u=Jl(new er(a,l,!1),new er(r,i,!1));return new dR(e,u)}return o}function wR(t,e,n,r,i,s){const o=Qw(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),mR(o,n),gR(o,n)}function _R(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=tr(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(ky(u,n,r)),Cy(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(ky(l,n,r)),Cy(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!tr(t)&&s.push(new(vR())(e._repo,e._path)),{removed:s,events:o}}function Yw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Kn(t,e){let n=null;for(const r of t.views.values())n=n||pR(r,e);return n}function Xw(t,e){if(e._queryParams.loadsAllData())return eu(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Jw(t,e){return Xw(t,e)!=null}function tr(t){return eu(t)!=null}function eu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl;function SR(t){A(!gl,"__referenceConstructor has already been defined"),gl=t}function CR(){return A(gl,"Reference.ts has not been loaded"),gl}let kR=1;class Ey{constructor(e){this.listenProvider_=e,this.syncPointTree_=new se(null),this.pendingWriteTree_=ZA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Uf(t,e,n,r,i){return zA(t.pendingWriteTree_,e,n,r,i),i?Bi(t,new Ar(jf(),e,n)):[]}function bR(t,e,n,r){UA(t.pendingWriteTree_,e,n,r);const i=se.fromObject(n);return Bi(t,new Ni(jf(),e,i))}function Mn(t,e,n=!1){const r=$A(t.pendingWriteTree_,e);if(WA(t.pendingWriteTree_,e)){let s=new se(null);return r.snap!=null?s=s.set(ee(),!0):$e(r.children,o=>{s=s.set(new ne(o),!0)}),Bi(t,new cl(r.path,s,n))}else return[]}function Eo(t,e,n){return Bi(t,new Ar(Df(),e,n))}function ER(t,e,n){const r=se.fromObject(n);return Bi(t,new Ni(Df(),e,r))}function TR(t,e){return Bi(t,new oo(Df(),e))}function NR(t,e,n){const r=$f(t,n);if(r){const i=Wf(r),s=i.path,o=i.queryId,a=Je(s,e),l=new oo(Of(o),a);return Hf(t,s,l)}else return[]}function yl(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||Jw(o,e))){const l=_R(o,e,n,r);xR(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(d,p)=>tr(p));if(c&&!h){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const p=AR(d);for(let g=0;g<p.length;++g){const x=p[g],_=x.query,y=n_(t,x);t.listenProvider_.startListening(Ns(_),ao(t,_),y.hashFn,y.onComplete)}}}!h&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(Ns(e),null):u.forEach(d=>{const p=t.queryToTagMap.get(nu(d));t.listenProvider_.stopListening(Ns(d),p)}))}RR(t,u)}return a}function Zw(t,e,n,r){const i=$f(t,r);if(i!=null){const s=Wf(i),o=s.path,a=s.queryId,l=Je(o,e),u=new Ar(Of(a),l,n);return Hf(t,o,u)}else return[]}function PR(t,e,n,r){const i=$f(t,r);if(i){const s=Wf(i),o=s.path,a=s.queryId,l=Je(o,e),u=se.fromObject(n),c=new Ni(Of(a),l,u);return Hf(t,o,c)}else return[]}function Fd(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,p)=>{const g=Je(d,i);s=s||Kn(p,g),o=o||tr(p)});let a=t.syncPointTree_.get(i);a?(o=o||tr(a),s=s||Kn(a,ee())):(a=new qw,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=B.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,g)=>{const x=Kn(g,ee());x&&(s=s.updateImmediateChild(p,x))}));const u=Jw(a,e);if(!u&&!e._queryParams.loadsAllData()){const d=nu(e);A(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const p=LR();t.queryToTagMap.set(d,p),t.tagToQueryMap.set(p,d)}const c=Zl(t.pendingWriteTree_,i);let h=wR(a,e,n,c,s,l);if(!u&&!o&&!r){const d=Xw(a,e);h=h.concat(MR(t,e,d))}return h}function tu(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Je(o,e),u=Kn(a,l);if(u)return u});return Uw(i,e,s,n,!0)}function IR(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const h=Je(u,n);r=r||Kn(c,h)});let i=t.syncPointTree_.get(n);i?r=r||Kn(i,ee()):(i=new qw,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new er(r,!0,!1):null,a=Zl(t.pendingWriteTree_,e._path),l=Qw(i,e,a,s?o.getNode():B.EMPTY_NODE,s);return fR(l)}function Bi(t,e){return e_(e,t.syncPointTree_,null,Zl(t.pendingWriteTree_,ee()))}function e_(t,e,n,r){if(K(t.path))return t_(t,e,n,r);{const i=e.get(ee());n==null&&i!=null&&(n=Kn(i,ee()));let s=[];const o=G(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=$w(r,o);s=s.concat(e_(a,l,u,c))}return i&&(s=s.concat(zf(i,t,r,n))),s}}function t_(t,e,n,r){const i=e.get(ee());n==null&&i!=null&&(n=Kn(i,ee()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=$w(r,o),c=t.operationForChild(o);c&&(s=s.concat(t_(c,a,l,u)))}),i&&(s=s.concat(zf(i,t,r,n))),s}function n_(t,e){const n=e.query,r=ao(t,n);return{hashFn:()=>(hR(e)||B.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?NR(t,n._path,r):TR(t,n._path);{const s=TI(i,n);return yl(t,n,null,s)}}}}function ao(t,e){const n=nu(e);return t.queryToTagMap.get(n)}function nu(t){return t._path.toString()+"$"+t._queryIdentifier}function $f(t,e){return t.tagToQueryMap.get(e)}function Wf(t){const e=t.indexOf("$");return A(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ne(t.substr(0,e))}}function Hf(t,e,n){const r=t.syncPointTree_.get(e);A(r,"Missing sync point for query tag that we're tracking");const i=Zl(t.pendingWriteTree_,e);return zf(r,n,i,null)}function AR(t){return t.fold((e,n,r)=>{if(n&&tr(n))return[eu(n)];{let i=[];return n&&(i=Yw(n)),$e(r,(s,o)=>{i=i.concat(o)}),i}})}function Ns(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(CR())(t._repo,t._path):t}function RR(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=nu(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function LR(){return kR++}function MR(t,e,n){const r=e._path,i=ao(t,e),s=n_(t,n),o=t.listenProvider_.startListening(Ns(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)A(!tr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,h)=>{if(!K(u)&&c&&tr(c))return[eu(c).query];{let d=[];return c&&(d=d.concat(Yw(c).map(p=>p.query))),$e(h,(p,g)=>{d=d.concat(g)}),d}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Ns(c),ao(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Gf(n)}node(){return this.node_}}class Kf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ke(this.path_,e);return new Kf(this.syncTree_,n)}node(){return tu(this.syncTree_,this.path_)}}const jR=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ty=function(t,e,n){if(!t||typeof t!="object")return t;if(A(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return DR(t[".sv"],e,n);if(typeof t[".sv"]=="object")return OR(t[".sv"],e);A(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},DR=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:A(!1,"Unexpected server value: "+t)}},OR=function(t,e,n){t.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&A(!1,"Unexpected increment value: "+r);const i=e.node();if(A(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},r_=function(t,e,n,r){return Qf(e,new Kf(n,t),r)},qf=function(t,e,n){return Qf(t,new Gf(e),n)};function Qf(t,e,n){const r=t.getPriority().val(),i=Ty(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Ty(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Le(a,Te(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Le(i))),o.forEachChild(me,(a,l)=>{const u=Qf(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ru(t,e){let n=e instanceof ne?e:new ne(e),r=t,i=G(n);for(;i!==null;){const s=Pr(r.node.children,i)||{children:{},childCount:0};r=new Yf(i,r,s),n=ae(n),i=G(n)}return r}function Fr(t){return t.node.value}function Xf(t,e){t.node.value=e,Vd(t)}function i_(t){return t.node.childCount>0}function FR(t){return Fr(t)===void 0&&!i_(t)}function iu(t,e){$e(t.node.children,(n,r)=>{e(new Yf(n,t,r))})}function s_(t,e,n,r){n&&e(t),iu(t,i=>{s_(i,e,!0)})}function VR(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function To(t){return new ne(t.parent===null?t.name:To(t.parent)+"/"+t.name)}function Vd(t){t.parent!==null&&BR(t.parent,t.name,t)}function BR(t,e,n){const r=FR(n),i=Kt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Vd(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Vd(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=/[\[\].#$\/\u0000-\u001F\u007F]/,UR=/[\[\].#$\u0000-\u001F\u007F]/,oc=10*1024*1024,Jf=function(t){return typeof t=="string"&&t.length!==0&&!zR.test(t)},o_=function(t){return typeof t=="string"&&t.length!==0&&!UR.test(t)},$R=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),o_(t)},vl=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Cf(t)||t&&typeof t=="object"&&Kt(t,".sv")},a_=function(t,e,n,r){r&&e===void 0||No(Ql(t,"value"),e,n)},No=function(t,e,n){const r=n instanceof ne?new aA(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+fr(r));if(typeof e=="function")throw new Error(t+"contains a function "+fr(r)+" with contents = "+e.toString());if(Cf(e))throw new Error(t+"contains "+e.toString()+" "+fr(r));if(typeof e=="string"&&e.length>oc/3&&Yl(e)>oc)throw new Error(t+"contains a string greater than "+oc+" utf8 bytes "+fr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if($e(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Jf(o)))throw new Error(t+" contains an invalid key ("+o+") "+fr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);lA(r,o),No(t,a,r),uA(r)}),i&&s)throw new Error(t+' contains ".value" child '+fr(r)+" in addition to actual children.")}},WR=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=no(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Jf(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(oA);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Nt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},HR=function(t,e,n,r){const i=Ql(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];$e(e,(o,a)=>{const l=new ne(o);if(No(i,a,ke(n,l)),Nf(l)===".priority"&&!vl(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),WR(i,s)},Zf=function(t,e,n,r){if(!o_(n))throw new Error(Ql(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},GR=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zf(t,e,n)},ep=function(t,e){if(G(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},KR=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Jf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$R(n))throw new Error(Ql(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function su(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Pf(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function l_(t,e,n){su(t,n),u_(t,r=>Pf(r,e))}function vt(t,e,n){su(t,n),u_(t,r=>Nt(r,e)||Nt(e,r))}function u_(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(QR(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function QR(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ks&&Be("event: "+n.toString()),Vi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="repo_interrupt",XR=25;class JR{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ul(),this.transactionQueueTree_=new Yf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ZR(t,e,n){if(t.stats_=Ef(t.repoInfo_),t.forceRestClient_||AI())t.server_=new ll(t.repoInfo_,(r,i,s,o)=>{Ny(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Py(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new mn(t.repoInfo_,e,(r,i,s,o)=>{Ny(t,r,i,s,o)},r=>{Py(t,r)},r=>{eL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=DI(t.repoInfo_,()=>new jA(t.stats_,t.server_)),t.infoData_=new IA,t.infoSyncTree_=new Ey({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Eo(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),tp(t,"connected",!1),t.serverSyncTree_=new Ey({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);vt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function c_(t){const n=t.infoData_.getNode(new ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Po(t){return jR({timestamp:c_(t)})}function Ny(t,e,n,r,i){t.dataUpdateCount++;const s=new ne(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=tl(n,u=>Te(u));o=PR(t.serverSyncTree_,s,l,i)}else{const l=Te(n);o=Zw(t.serverSyncTree_,s,l,i)}else if(r){const l=tl(n,u=>Te(u));o=ER(t.serverSyncTree_,s,l)}else{const l=Te(n);o=Eo(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Ii(t,s)),vt(t.eventQueue_,a,o)}function Py(t,e){tp(t,"connected",e),e===!1&&iL(t)}function eL(t,e){$e(e,(n,r)=>{tp(t,n,r)})}function tp(t,e,n){const r=new ne("/.info/"+e),i=Te(n);t.infoData_.updateSnapshot(r,i);const s=Eo(t.infoSyncTree_,r,i);vt(t.eventQueue_,r,s)}function ou(t){return t.nextWriteId_++}function tL(t,e,n){const r=IR(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Te(i).withIndex(e._queryParams.getIndex());Fd(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Eo(t.serverSyncTree_,e._path,s);else{const a=ao(t.serverSyncTree_,e);o=Zw(t.serverSyncTree_,e._path,s,a)}return vt(t.eventQueue_,e._path,o),yl(t.serverSyncTree_,e,n,null,!0),s},i=>(zi(t,"get for query "+Ae(e)+" failed: "+i),Promise.reject(new Error(i))))}function nL(t,e,n,r,i){zi(t,"set",{path:e.toString(),value:n,priority:r});const s=Po(t),o=Te(n,r),a=tu(t.serverSyncTree_,e),l=qf(o,a,s),u=ou(t),c=Uf(t.serverSyncTree_,e,l,u,!0);su(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(d,p)=>{const g=d==="ok";g||et("set at "+e+" failed: "+d);const x=Mn(t.serverSyncTree_,u,!g);vt(t.eventQueue_,e,x),Bd(t,i,d,p)});const h=rp(t,e);Ii(t,h),vt(t.eventQueue_,h,[])}function rL(t,e,n,r){zi(t,"update",{path:e.toString(),value:n});let i=!0;const s=Po(t),o={};if($e(n,(a,l)=>{i=!1,o[a]=r_(ke(e,a),Te(l),t.serverSyncTree_,s)}),i)Be("update() called with empty data.  Don't do anything."),Bd(t,r,"ok",void 0);else{const a=ou(t),l=bR(t.serverSyncTree_,e,o,a);su(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,c)=>{const h=u==="ok";h||et("update at "+e+" failed: "+u);const d=Mn(t.serverSyncTree_,a,!h),p=d.length>0?Ii(t,e):e;vt(t.eventQueue_,p,d),Bd(t,r,u,c)}),$e(n,u=>{const c=rp(t,ke(e,u));Ii(t,c)}),vt(t.eventQueue_,e,[])}}function iL(t){zi(t,"onDisconnectEvents");const e=Po(t),n=ul();Rd(t.onDisconnect_,ee(),(i,s)=>{const o=r_(i,s,t.serverSyncTree_,e);Fw(n,i,o)});let r=[];Rd(n,ee(),(i,s)=>{r=r.concat(Eo(t.serverSyncTree_,i,s));const o=rp(t,i);Ii(t,o)}),t.onDisconnect_=ul(),vt(t.eventQueue_,ee(),r)}function sL(t,e,n){let r;G(e._path)===".info"?r=Fd(t.infoSyncTree_,e,n):r=Fd(t.serverSyncTree_,e,n),l_(t.eventQueue_,e._path,r)}function Iy(t,e,n){let r;G(e._path)===".info"?r=yl(t.infoSyncTree_,e,n):r=yl(t.serverSyncTree_,e,n),l_(t.eventQueue_,e._path,r)}function oL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(YR)}function zi(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Be(n,...e)}function Bd(t,e,n,r){e&&Vi(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function aL(t,e,n,r,i,s){zi(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:aw(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=np(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{No("transaction failed: Data returned ",l,o.path),o.status=0;const u=ru(t.transactionQueueTree_,e),c=Fr(u)||[];c.push(o),Xf(u,c);let h;typeof l=="object"&&l!==null&&Kt(l,".priority")?(h=Pr(l,".priority"),A(vl(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(tu(t.serverSyncTree_,e)||B.EMPTY_NODE).getPriority().val();const d=Po(t),p=Te(l,h),g=qf(p,a,d);o.currentOutputSnapshotRaw=p,o.currentOutputSnapshotResolved=g,o.currentWriteId=ou(t);const x=Uf(t.serverSyncTree_,e,g,o.currentWriteId,o.applyLocally);vt(t.eventQueue_,e,x),au(t,t.transactionQueueTree_)}}function np(t,e,n){return tu(t.serverSyncTree_,e,n)||B.EMPTY_NODE}function au(t,e=t.transactionQueueTree_){if(e||lu(t,e),Fr(e)){const n=h_(t,e);A(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&lL(t,To(e),n)}else i_(e)&&iu(e,n=>{au(t,n)})}function lL(t,e,n){const r=n.map(u=>u.currentWriteId),i=np(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];A(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=Je(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{zi(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,c=c.concat(Mn(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();lu(t,ru(t.transactionQueueTree_,e)),au(t,t.transactionQueueTree_),vt(t.eventQueue_,e,c);for(let d=0;d<h.length;d++)Vi(h[d])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{et("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}Ii(t,e)}},o)}function Ii(t,e){const n=d_(t,e),r=To(n),i=h_(t,n);return uL(t,i,r),r}function uL(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Je(n,l.path);let c=!1,h;if(A(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,i=i.concat(Mn(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=XR)c=!0,h="maxretry",i=i.concat(Mn(t.serverSyncTree_,l.currentWriteId,!0));else{const d=np(t,l.path,o);l.currentInputSnapshot=d;const p=e[a].update(d.val());if(p!==void 0){No("transaction failed: Data returned ",p,l.path);let g=Te(p);typeof p=="object"&&p!=null&&Kt(p,".priority")||(g=g.updatePriority(d.getPriority()));const _=l.currentWriteId,y=Po(t),m=qf(g,d,y);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=m,l.currentWriteId=ou(t),o.splice(o.indexOf(_),1),i=i.concat(Uf(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(Mn(t.serverSyncTree_,_,!0))}else c=!0,h="nodata",i=i.concat(Mn(t.serverSyncTree_,l.currentWriteId,!0))}vt(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}lu(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Vi(r[a]);au(t,t.transactionQueueTree_)}function d_(t,e){let n,r=t.transactionQueueTree_;for(n=G(e);n!==null&&Fr(r)===void 0;)r=ru(r,n),e=ae(e),n=G(e);return r}function h_(t,e){const n=[];return f_(t,e,n),n.sort((r,i)=>r.order-i.order),n}function f_(t,e,n){const r=Fr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);iu(e,i=>{f_(t,i,n)})}function lu(t,e){const n=Fr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Xf(e,n.length>0?n:void 0)}iu(e,r=>{lu(t,r)})}function rp(t,e){const n=To(d_(t,e)),r=ru(t.transactionQueueTree_,e);return VR(r,i=>{ac(t,i)}),ac(t,r),s_(r,i=>{ac(t,i)}),n}function ac(t,e){const n=Fr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(A(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(A(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Mn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Xf(e,void 0):n.length=s+1,vt(t.eventQueue_,To(e),i);for(let o=0;o<r.length;o++)Vi(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function dL(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):et(`Invalid query segment '${n}' in query '${t}'`)}return e}const Ay=function(t,e){const n=hL(t),r=n.namespace;n.domain==="firebase.com"&&Sn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Sn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||SI();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ww(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ne(n.pathString)}},hL=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=cL(t.substring(c,h)));const d=dL(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fL=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Ry.charAt(n%64),n=Math.floor(n/64);A(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Ry.charAt(e[i]);return A(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}}class mL{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return A(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return K(this._path)?null:Nf(this._path)}get ref(){return new sn(this._repo,this._path)}get _queryIdentifier(){const e=gy(this._queryParams),n=kf(e);return n==="{}"?"default":n}get _queryObject(){return gy(this._queryParams)}isEqual(e){if(e=kn(e),!(e instanceof Io))return!1;const n=this._repo===e._repo,r=Pf(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+sA(this._path)}}function gL(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function yL(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Cr){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Ir)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Jn)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===me){if(e!=null&&!vl(e)||n!=null&&!vl(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(A(t.getIndex()instanceof Rf||t.getIndex()===Dw,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class sn extends Io{constructor(e,n){super(e,n,new Mf,!1)}get parent(){const e=Pw(this._path);return e===null?null:new sn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ai{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ne(e),r=lo(this.ref,e);return new Ai(this._node.getChild(n),r,me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ai(i,lo(this.ref,r),me)))}hasChild(e){const n=new ne(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Jt(t,e){return t=kn(t),t._checkNotDeleted("ref"),e!==void 0?lo(t._root,e):t._root}function lo(t,e){return t=kn(t),G(t._path)===null?GR("child","path",e):Zf("child","path",e),new sn(t._repo,ke(t._path,e))}function vL(t,e){t=kn(t),ep("push",t._path),a_("push",e,t._path,!0);const n=c_(t._repo),r=fL(n),i=lo(t,r),s=lo(t,r);let o;return o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function m_(t,e){t=kn(t),ep("set",t._path),a_("set",e,t._path,!1);const n=new Fi;return nL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function lc(t,e){HR("update",e,t._path);const n=new Fi;return rL(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function xL(t){t=kn(t);const e=new p_(()=>{}),n=new uu(e);return tL(t._repo,t,n).then(r=>new Ai(r,new sn(t._repo,t._path),t._queryParams.getIndex()))}class uu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new pL("value",this,new Ai(e.snapshotNode,new sn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new mL(this,e,n):null}matches(e){return e instanceof uu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function wL(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(c,h)=>{Iy(t._repo,t,a),l(c,h)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new p_(n,s||void 0),a=new uu(o);return sL(t._repo,t,a),()=>Iy(t._repo,t,a)}function Ao(t,e,n,r){return wL(t,"value",e,n,r)}class g_{}class _L extends g_{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Io(e._repo,e._path,NA(e._queryParams,this._limit),e._orderByCalled)}}function SL(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _L(t)}class CL extends g_{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){gL(e,"orderByChild");const n=new ne(this._path);if(K(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Rf(n),i=PA(e._queryParams,r);return yL(i),new Io(e._repo,e._path,i,!0)}}function kL(t){return Zf("orderByChild","path",t),new CL(t)}function bL(t,...e){let n=kn(t);for(const r of e)n=r._apply(n);return n}yR(sn);SR(sn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL="FIREBASE_DATABASE_EMULATOR_HOST",zd={};let TL=!1;function NL(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=_f(s);t.repoInfo_=new ww(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function PL(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Sn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Be("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Ay(s,i),a=o.repoInfo,l;typeof process<"u"&&Jg&&(l=Jg[EL]),l?(s=`http://${l}?ns=${a.namespace}`,o=Ay(s,i),a=o.repoInfo):o.repoInfo.secure;const u=new LI(t.name,t.options,e);KR("Invalid Firebase Database URL",o),K(o.path)||Sn("Database URL must point to the root of a Firebase Database (not including a child path).");const c=AL(a,t,u,new RI(t,n));return new RL(c,t)}function IL(t,e){const n=zd[e];(!n||n[t.key]!==t)&&Sn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),oL(t),delete n[t.key]}function AL(t,e,n,r){let i=zd[e.name];i||(i={},zd[e.name]=i);let s=i[t.toURLString()];return s&&Sn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new JR(t,TL,n,r),i[t.toURLString()]=s,s}class RL{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ZR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sn(this._repo,ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(IL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Sn("Cannot call "+e+" on a deleted database.")}}function LL(t=iI(),e){const n=ZP(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=FN("database");r&&ML(n,...r)}return n}function ML(t,e,n,r={}){t=kn(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&nl(r,s.repoInfo_.emulatorOptions))return;Sn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Sn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new va(va.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:BN(r.mockUserToken,t.app.options.projectId);o=new va(a)}_f(e)&&(VN(e),$N("Database",!0)),NL(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){yI(rI),il(new Zs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return PL(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),pi(Zg,ey,t),pi(Zg,ey,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function y_(t,e,n){if(t=kn(t),ep("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=!0,i=new Fi,s=(a,l,u)=>{let c=null;a?i.reject(a):(c=new Ai(u,new sn(t._repo,t._path),me),i.resolve(new DL(l,c)))},o=Ao(t,()=>{});return aL(t._repo,t._path,e,s,o,r),i.promise}mn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};mn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};jL();const OL={apiKey:"AIzaSyDsp1wpU3fvqqYG7S30Iwg3GcmTyKsnKwc",authDomain:"portfolio-recommendation-b5dd3.firebaseapp.com",databaseURL:"https://portfolio-recommendation-b5dd3-default-rtdb.europe-west1.firebasedatabase.app",projectId:"portfolio-recommendation-b5dd3",storageBucket:"portfolio-recommendation-b5dd3.firebasestorage.app",messagingSenderId:"263692658555",appId:"1:263692658555:web:c680fae5d41ad680643fde"};let Ly,Ie;try{Ly=nw(OL),Ie=LL(Ly),console.log(" Firebase initialized successfully")}catch(t){console.error(" Firebase initialization error:",t),console.log(" Please update src/firebase.js with your Firebase credentials"),console.log(" See FIREBASE_SETUP_GUIDE.md for instructions")}const xl=Ie?Jt(Ie,"recommendations/count"):null,v_=Ie?Jt(Ie,"recommendations/users"):null,wl=Ie?Jt(Ie,"visitors/count"):null,_l=Ie?Jt(Ie,"testimonials"):null,x_=async t=>{if(!v_)return console.error("Firebase not initialized"),!1;try{const e=Jt(Ie,`recommendations/users/${t}`),r=(await xL(e)).exists();return console.log(r?" User fingerprint found in Firebase:":" New user fingerprint:",t),r}catch(e){return console.error(" Error checking user fingerprint:",e),!1}},FL=async t=>{if(!xl||!v_)throw console.error("Firebase not initialized"),new Error("Firebase not configured. Please see FIREBASE_SETUP_GUIDE.md");try{if(await x_(t))throw console.warn(" User already recommended (fingerprint found)"),new Error("USER_ALREADY_RECOMMENDED");const n=await y_(xl,r=>(r||0)+1);if(n.committed){const r=Jt(Ie,`recommendations/users/${t}`);return await m_(r,{timestamp:Date.now(),liked:!0}),console.log(" Recommendation count incremented:",n.snapshot.val()),console.log(" User fingerprint stored:",t),n.snapshot.val()}else throw new Error("Transaction not committed")}catch(e){throw console.error(" Error incrementing recommendations:",e),e}},VL=async()=>{if(!wl)throw console.error("Firebase not initialized"),new Error("Firebase not configured. Please see FIREBASE_SETUP_GUIDE.md");try{const t=await y_(wl,e=>(e||0)+1);if(t.committed)return console.log(" Visitor count incremented:",t.snapshot.val()),t.snapshot.val();throw new Error("Transaction not committed")}catch(t){throw console.error(" Error incrementing visitors:",t),t}},w_=t=>xl?Ao(xl,e=>{const n=e.val()||0;t(n)}):(console.error("Firebase not initialized"),()=>{}),BL=t=>wl?Ao(wl,e=>{const n=e.val()||0;t(n)}):(console.error("Firebase not initialized"),()=>{}),zL=async t=>{if(!_l)throw console.error("Firebase not initialized"),new Error("Firebase not configured. Please see FIREBASE_SETUP_GUIDE.md");try{const e=vL(_l),n={...t,timestamp:Date.now(),approved:!1};return await m_(e,n),console.log(" Testimonial submitted:",e.key),e.key}catch(e){throw console.error(" Error submitting testimonial:",e),e}},ip=(t,e=20)=>{if(!_l)return console.error("Firebase not initialized"),()=>{};const n=bL(_l,kL("timestamp"),SL(e));return Ao(n,r=>{const i=[];r.forEach(s=>{const o=s.val();console.log("Testimonial data:",o),(o.approved===!0||o.approved==="true")&&i.push({id:s.key,...o})}),i.reverse(),console.log(" Final approved testimonials:",i),t(i)},r=>{console.error(" Error fetching testimonials:",r)})},My=()=>{const[t,e]=T.useState([]),[n,r]=T.useState(0),[i,s]=T.useState(!1),[o,a]=T.useState(!0);T.useEffect(()=>{const d=()=>{s(window.innerWidth<640)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),T.useEffect(()=>{const d=ip(p=>{console.log(" Testimonials received in carousel:",p),e(p)});return()=>d()},[]),T.useEffect(()=>{if(!o||t.length===0||i)return;const d=setInterval(()=>{r(p=>(p+1)%t.length)},5e3);return()=>clearInterval(d)},[o,t.length,i]);const l=()=>{a(!1),r(d=>(d+1)%t.length)},u=()=>{a(!1),r(d=>(d-1+t.length)%t.length)},c=(d,{offset:p,velocity:g})=>{const x=Math.abs(p.x)*g.x;x<-1e4?l():x>1e4&&u()};if(t.length===0)return null;const h=t[n];return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"relative overflow-hidden flex items-start",children:f.jsx(go,{mode:"wait",children:f.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.3,onDragEnd:c,className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-900 rounded-xl sm:rounded-2xl p-3 sm:p-4 shadow-xl cursor-grab active:cursor-grabbing w-full",children:[f.jsx("div",{className:"text-3xl sm:text-4xl text-blue-500/20 dark:text-blue-400/20 font-serif mb-2 sm:mb-3",children:'"'}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-xs sm:text-sm leading-relaxed mb-3 sm:mb-4",children:h.text}),f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-xs sm:text-sm truncate",children:h.name}),h.role&&f.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:h.role})]}),h.linkedIn&&f.jsx("a",{href:h.linkedIn,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded-full transition-colors flex-shrink-0",title:"View LinkedIn Profile",onClick:d=>d.stopPropagation(),children:f.jsx(_o,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]},n)})}),t.length>1&&f.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mt-3 sm:mt-4",children:[f.jsx("button",{onClick:u,className:"p-1.5 sm:p-2 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full shadow-md transition-colors","aria-label":"Previous testimonial",children:f.jsx(V1,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-700 dark:text-gray-300"})}),f.jsx("div",{className:"flex gap-1 sm:gap-1.5",children:t.map((d,p)=>f.jsx("button",{onClick:()=>{a(!1),r(p)},className:`h-1.5 sm:h-2 rounded-full transition-all duration-300 ${p===n?"bg-blue-500 w-5 sm:w-6":"w-1.5 sm:w-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400"}`,"aria-label":`Go to testimonial ${p+1}`},p))}),f.jsx("button",{onClick:l,className:"p-1.5 sm:p-2 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full shadow-md transition-colors","aria-label":"Next testimonial",children:f.jsx(B1,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-700 dark:text-gray-300"})})]})]})},UL=()=>{const{t}=dt(),[e,n]=T.useState(0),[r,i]=T.useState(0),[s,o]=T.useState(0);T.useEffect(()=>{localStorage.getItem("hasVisited")||(VL().catch(k=>{console.error("Failed to increment visitor count:",k)}),localStorage.setItem("hasVisited","true"));const m=w_(k=>{n(k)}),v=BL(k=>{i(k)}),S=ip(k=>{o(k.length)});return()=>{m(),v(),S()}},[]);const a=t("hero.titles",{returnObjects:!0,defaultValue:null}),l=t("hero.title",{defaultValue:"Data Scientist & AI Engineer"}),u=t("hero.typewriter",{returnObjects:!0,defaultValue:{}}),c=Array.isArray(a)&&a.length>0?a:[l],h=u.speedMs||100,d=u.deleteSpeedMs||50,p=u.pauseMs||2e3,g=u.loop!==void 0?u.loop:!0,x={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},_={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}};return f.jsxs("section",{id:"hero",className:"min-h-screen flex items-center justify-center pt-20 pb-16 px-4 relative",children:[f.jsx(R.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.5,duration:.8},className:"hidden lg:block absolute left-4 bottom-8 w-80 max-h-[60vh] overflow-y-auto",children:f.jsx(My,{})}),f.jsxs(R.div,{variants:x,initial:"hidden",animate:"visible",className:"max-w-5xl mx-auto text-center",children:[f.jsx(R.div,{variants:_,className:"mb-6",children:f.jsx(R.img,{whileHover:{scale:1.05},src:"/portfolio/photo.jpg",alt:"Jermiah Jerome",className:"w-28 h-28 md:w-36 md:h-36 rounded-full mx-auto object-cover border-4 border-primary-light dark:border-primary-dark shadow-2xl"})}),f.jsx(R.p,{variants:_,className:"text-base md:text-lg text-gray-600 dark:text-gray-400 mb-3",children:t("hero.greeting")}),f.jsx(R.h1,{variants:_,className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-5 gradient-text",children:t("hero.name")}),f.jsx(R.div,{variants:_,className:"mb-5",children:f.jsx("h2",{className:"text-lg md:text-2xl lg:text-3xl font-semibold text-gray-800 dark:text-gray-200 min-h-[2.5rem] md:min-h-[3.5rem]",children:f.jsx("span",{className:"inline-block whitespace-nowrap md:whitespace-normal",children:f.jsx(TN,{texts:c,loop:g,typingSpeed:h,deletingSpeed:d,pauseDuration:p})})})}),f.jsx(R.p,{variants:_,className:"text-base md:text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto mb-6",children:t("hero.subtitle")}),f.jsxs(R.div,{variants:_,className:"flex flex-wrap justify-center gap-3 mb-6 text-sm",children:[f.jsxs("a",{href:`mailto:${t("contact.email")}`,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[f.jsx(xf,{}),f.jsx("span",{className:"hidden sm:inline",children:t("contact.email")})]}),f.jsxs("a",{href:`tel:${t("contact.phone")}`,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[f.jsx(xN,{}),f.jsx("span",{className:"hidden sm:inline",children:t("contact.phone")})]})]}),f.jsxs(R.div,{variants:_,className:"flex flex-wrap items-center justify-center gap-2 mb-6",children:[f.jsxs(R.div,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.05},className:"group relative inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-full shadow-lg cursor-help",title:"Live visitor count tracked via Firebase Realtime Database",children:[f.jsx($1,{className:"w-4 h-4"}),f.jsxs("span",{className:"font-semibold text-sm",children:[r.toLocaleString()," ",r===1?"Visitor":"Visitors"]}),f.jsxs("div",{className:"absolute bottom-full mb-2 hidden group-hover:block w-64 p-3 bg-gray-900 dark:bg-gray-800 text-white text-xs rounded-lg shadow-xl z-50",children:[f.jsx("p",{className:"font-semibold mb-1",children:" Total Visitors"}),f.jsx("p",{className:"text-gray-300",children:"Total unique visitors to this portfolio, tracked via Firebase Realtime Database. Each device is counted once."})]})]}),f.jsxs(R.div,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.05},className:"group relative inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-pink-500 to-red-500 text-white rounded-full shadow-lg cursor-help",title:"People who loved my profile",children:[f.jsx(vf,{className:"w-4 h-4 fill-current"}),f.jsxs("span",{className:"font-semibold text-sm",children:[e," ",e===1?"Love":"Loves"]}),f.jsxs("div",{className:"absolute bottom-full mb-2 hidden group-hover:block w-64 p-3 bg-gray-900 dark:bg-gray-800 text-white text-xs rounded-lg shadow-xl z-50",children:[f.jsx("p",{className:"font-semibold mb-1",children:" Profile Loves"}),f.jsx("p",{className:"text-gray-300",children:"People who loved my profile, tracked via Firebase Realtime Database. Each device can love once."})]})]}),f.jsxs(R.div,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.05},className:"group relative inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full shadow-lg cursor-help",title:"Written recommendations received",children:[f.jsx(z1,{className:"w-4 h-4"}),f.jsxs("span",{className:"font-semibold text-sm",children:[s," ",s===1?"Recommendation":"Recommendations"]}),f.jsxs("div",{className:"absolute bottom-full mb-2 hidden group-hover:block w-64 p-3 bg-gray-900 dark:bg-gray-800 text-white text-xs rounded-lg shadow-xl z-50",children:[f.jsx("p",{className:"font-semibold mb-1",children:" Written Recommendations"}),f.jsx("p",{className:"text-gray-300",children:"Detailed recommendations received on this portfolio, tracked via Firebase Realtime Database. Each person can write once."})]})]})]}),f.jsxs(R.div,{variants:_,className:"flex flex-wrap justify-center gap-3 mb-6",children:[f.jsxs(R.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:t("hero.links.github"),target:"_blank",rel:"noopener noreferrer",className:"btn-primary flex items-center gap-2",children:[f.jsx(ql,{}),t("hero.cta.github")]}),f.jsxs(R.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:t("hero.links.linkedin"),target:"_blank",rel:"noopener noreferrer",className:"btn-primary flex items-center gap-2",children:[f.jsx(_o,{}),t("hero.cta.linkedin")]})]}),f.jsx(R.div,{variants:_,className:"lg:hidden max-w-md mx-auto",children:f.jsx(My,{})}),f.jsx(R.div,{variants:_,className:"mt-12",children:f.jsx(R.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0},className:"w-6 h-10 border-2 border-gray-400 dark:border-gray-600 rounded-full mx-auto flex items-start justify-center p-2",children:f.jsx(R.div,{animate:{y:[0,12,0]},transition:{duration:1.5,repeat:1/0},className:"w-1.5 h-1.5 bg-gray-400 dark:bg-gray-600 rounded-full"})})})]})]})},bn=({id:t,title:e,children:n,className:r=""})=>{const[i,s]=T.useState(!1),o=T.useRef(null);return T.useEffect(()=>{const a=new IntersectionObserver(([l])=>{l.isIntersecting&&s(!0)},{threshold:.1});return o.current&&a.observe(o.current),()=>{o.current&&a.unobserve(o.current)}},[]),f.jsx("section",{id:t,ref:o,className:`section-container ${r}`,children:f.jsxs(R.div,{initial:{opacity:0,y:30},animate:i?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.6},children:[e&&f.jsx(R.h2,{initial:{opacity:0,x:-20},animate:i?{opacity:1,x:0}:{opacity:0,x:-20},transition:{duration:.6,delay:.2},className:"text-2xl md:text-3xl lg:text-4xl font-bold mb-8 gradient-text",children:e}),n]})})},$L=()=>{const{t}=dt(),e=t("overview.highlights.items",{returnObjects:!0}),n={0:f.jsx(Ss,{className:"w-8 h-8"}),1:f.jsx(CN,{className:"w-8 h-8"}),2:f.jsx(iN,{className:"w-8 h-8"})};return f.jsx(bn,{id:"overview",title:t("overview.title"),children:f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"space-y-3 text-base text-gray-700 dark:text-gray-300",children:t("overview.content",{returnObjects:!0}).map((r,i)=>f.jsx(R.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},children:r},i))}),f.jsxs("div",{className:"mt-8",children:[f.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100",children:t("overview.highlights.title")}),f.jsx("div",{className:"grid md:grid-cols-3 gap-5",children:e.map((r,i)=>f.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.2},whileHover:{y:-5},className:"card p-5",children:[f.jsx("div",{className:"text-primary-light dark:text-primary-dark mb-3",children:n[i]}),f.jsx("h4",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:r.title}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.description})]},i))})]}),t("overview.featured.title",{defaultValue:""})&&f.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"card p-5 md:p-6 mt-8 bg-gradient-to-br from-primary-light/10 to-accent-light/10 dark:from-primary-dark/10 dark:to-accent-dark/10",children:[f.jsx("h3",{className:"text-xl font-bold mb-3 text-gray-900 dark:text-gray-100",children:t("overview.featured.title")}),f.jsx("p",{className:"text-base text-gray-700 dark:text-gray-300 mb-3",children:t("overview.featured.description")}),t("overview.featured.link",{defaultValue:""})&&f.jsxs("a",{href:t("overview.featured.link"),target:"_blank",rel:"noopener noreferrer",className:"inline-block text-primary-light dark:text-primary-dark font-semibold hover:underline text-base",children:[t("overview.featured.linkText")," "]})]}),(t("overview.closing",{defaultValue:""})||t("overview.note",{defaultValue:""}))&&f.jsxs(R.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-center mt-8 space-y-3",children:[t("overview.closing",{defaultValue:""})&&f.jsx("p",{className:"text-lg font-medium text-gray-800 dark:text-gray-200",children:t("overview.closing")}),t("overview.note",{defaultValue:""})&&f.jsx("p",{className:"text-gray-600 dark:text-gray-400 italic",children:t("overview.note")})]})]})})},WL=()=>{const{t}=dt(),e=t("skills.categories",{returnObjects:!0}),n={Expertise:f.jsx(lN,{className:"w-6 h-6"}),Professional:f.jsx(Ei,{className:"w-6 h-6"}),Technical:f.jsx(Vg,{className:"w-6 h-6"}),Professionnel:f.jsx(Ei,{className:"w-6 h-6"}),Technique:f.jsx(Vg,{className:"w-6 h-6"})};return f.jsx(bn,{id:"skills",title:t("skills.title"),children:f.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((r,i)=>f.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.2},className:"card p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"text-primary-light dark:text-primary-dark",children:n[r.name]}),f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100",children:r.name})]}),f.jsx("ul",{className:"space-y-3",children:r.items.map((s,o)=>f.jsxs(R.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:i*.2+o*.05},className:"flex items-start gap-2 text-gray-700 dark:text-gray-300",children:[f.jsx("span",{className:"text-primary-light dark:text-primary-dark mt-1",children:""}),f.jsx("span",{children:s})]},o))})]},i))})})},HL=()=>{const{t}=dt(),e=t("education.items",{returnObjects:!0});return f.jsx(bn,{id:"education",title:t("education.title"),children:f.jsx("div",{className:"space-y-8",children:e.map((n,r)=>f.jsxs(R.div,{initial:{opacity:0,x:r%2===0?-30:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:r*.2},whileHover:{scale:1.02},className:"card p-6 md:p-8",children:[f.jsx("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-4",children:f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:n.school}),f.jsx("p",{className:"text-lg font-semibold text-primary-light dark:text-primary-dark mb-2",children:n.degree}),f.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ja,{className:"w-4 h-4"}),f.jsx("span",{children:n.period})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(gN,{className:"w-4 h-4"}),f.jsx("span",{children:n.location})]})]})]})}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4 italic",children:n.description}),n.links&&f.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(n.links).map(([i,s])=>f.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-light dark:text-primary-dark hover:underline",children:[f.jsx(fi,{className:"w-4 h-4"}),i==="school"?"Website":i==="emlyon"?"emlyon":"McGill"]},i))})]},r))})})},GL=()=>{const{t}=dt(),e=t("experience.items",{returnObjects:!0}),n=[];let r=[];return e.forEach((i,s)=>{const o=i.period.includes("Present");if(s===0)r.push(i);else{const l=e[s-1].period.includes("Present");o&&l?r.push(i):(r.length>0&&n.push([...r]),r=[i])}s===e.length-1&&r.length>0&&n.push(r)}),f.jsx(bn,{id:"experience",title:t("experience.title"),children:f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"hidden md:block absolute left-1/2 transform -translate-x-1/2 w-0.5 h-full bg-gradient-to-b from-primary-light to-accent-light dark:from-primary-dark dark:to-accent-dark"}),f.jsx("div",{className:"space-y-12",children:n.map((i,s)=>f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"hidden md:flex absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-primary-light dark:bg-primary-dark rounded-full border-4 border-white dark:border-gray-900 z-10"}),i.length>1?f.jsx("div",{className:"grid md:grid-cols-2 gap-6 md:gap-8",children:i.map((o,a)=>f.jsx(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:a*.2},children:f.jsxs(R.div,{whileHover:{scale:1.02},className:"card p-6 h-full",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"p-2 bg-primary-light/10 dark:bg-primary-dark/10 rounded-lg",children:f.jsx(Ei,{className:"w-6 h-6 text-primary-light dark:text-primary-dark"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:o.company}),f.jsx("p",{className:"text-base font-semibold text-primary-light dark:text-primary-dark",children:o.position})]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[f.jsx(Ja,{className:"w-4 h-4"}),f.jsx("span",{children:o.period})]}),f.jsx("ul",{className:"space-y-3 text-gray-700 dark:text-gray-300",children:o.description.map((l,u)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-primary-light dark:text-primary-dark mt-1",children:""}),f.jsx("span",{className:"text-sm",children:l})]},u))})]})},a))}):f.jsxs(R.div,{initial:{opacity:0,x:s%2===0?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:`relative flex flex-col md:flex-row gap-8 ${s%2===0?"md:flex-row-reverse":""}`,children:[f.jsx("div",{className:"flex-1",children:f.jsxs(R.div,{whileHover:{scale:1.02},className:"card p-6 md:p-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"p-2 bg-primary-light/10 dark:bg-primary-dark/10 rounded-lg",children:f.jsx(Ei,{className:"w-6 h-6 text-primary-light dark:text-primary-dark"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100",children:i[0].company}),f.jsx("p",{className:"text-lg font-semibold text-primary-light dark:text-primary-dark",children:i[0].position})]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[f.jsx(Ja,{className:"w-4 h-4"}),f.jsx("span",{children:i[0].period})]}),f.jsx("ul",{className:"space-y-3 text-gray-700 dark:text-gray-300",children:i[0].description.map((o,a)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-primary-light dark:text-primary-dark mt-1",children:""}),f.jsx("span",{children:o})]},a))})]})}),f.jsx("div",{className:"hidden md:block flex-1"})]})]},s))})]})})},KL=()=>{const{t}=dt(),e=t("certifications.items",{returnObjects:!0});return f.jsx(bn,{id:"certifications",title:t("certifications.title"),children:f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((n,r)=>f.jsx(R.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:r*.1},whileHover:{y:-5},className:"card p-6",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"p-3 bg-primary-light/10 dark:bg-primary-dark/10 rounded-lg",children:f.jsx(Ss,{className:"w-8 h-8 text-primary-light dark:text-primary-dark"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-2",children:n.name}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:n.issuer}),f.jsx("div",{className:"flex items-center gap-2",children:n.status.toLowerCase().includes("certified")||n.status.toLowerCase().includes("certifi")?f.jsxs(f.Fragment,{children:[f.jsx(sN,{className:"w-4 h-4 text-green-500"}),f.jsx("span",{className:"text-sm text-green-500 font-medium",children:n.status})]}):f.jsxs(f.Fragment,{children:[f.jsx(aN,{className:"w-4 h-4 text-red-500"}),f.jsx("span",{className:"text-sm text-red-500 font-medium",children:n.status})]})})]})]})},r))})})},qL=()=>{var g,x,_,y,m;const{t}=dt(),e=t("projects",{returnObjects:!0}),[n,r]=T.useState("professional"),[i,s]=T.useState(0),[o,a]=T.useState(0),l=e[n],u=(l==null?void 0:l.categories)||[],c=v=>{r(v),s(0),a(0)},h=(v,{offset:S,velocity:k})=>{const b=Math.abs(S.x)*k.x;b<-1e4?(a(1),s(E=>E<u.length-1?E+1:0)):b>1e4&&(a(-1),s(E=>E>0?E-1:u.length-1))},d=()=>{a(1),s(v=>v<u.length-1?v+1:0)},p=()=>{a(-1),s(v=>v>0?v-1:u.length-1)};return f.jsxs(bn,{id:"projects",title:e.title,children:[f.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[f.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c("professional"),className:`px-8 py-3 rounded-lg font-semibold text-lg transition-all duration-300 ${n==="professional"?"bg-gradient-to-r from-primary-light to-accent-light dark:from-primary-dark dark:to-accent-dark text-white shadow-lg":"bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700"}`,children:(g=e.professional)==null?void 0:g.title}),f.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c("personal"),className:`px-8 py-3 rounded-lg font-semibold text-lg transition-all duration-300 ${n==="personal"?"bg-gradient-to-r from-primary-light to-accent-light dark:from-primary-dark dark:to-accent-dark text-white shadow-lg":"bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700"}`,children:(x=e.personal)==null?void 0:x.title})]}),f.jsx("div",{className:"flex flex-wrap gap-3 mb-8 justify-center",children:u.map((v,S)=>f.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{a(S>i?1:-1),s(S)},className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${i===S?"bg-primary-light dark:bg-primary-dark text-white shadow-lg":"bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700"}`,children:v.name},S))}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsx(go,{mode:"wait",children:f.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.3,onDragEnd:h,className:"grid md:grid-cols-2 gap-6 cursor-grab active:cursor-grabbing",children:(_=u[i])!=null&&_.categories?f.jsx(f.Fragment,{children:u[i].categories.map((v,S)=>f.jsxs("div",{className:"col-span-full",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6 mt-4",children:v.name}),f.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:v.items.map((k,b)=>f.jsxs(R.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!1},transition:{delay:b*.1},whileHover:{scale:1.02},className:"card p-6 border-l-4 border-accent-light dark:border-accent-dark",children:[f.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3",children:k.title}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:k.description}),k.tags&&f.jsx("div",{className:"flex flex-wrap gap-2",children:k.tags.map((E,N)=>f.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-accent-light/10 dark:bg-accent-dark/10 text-accent-light dark:text-accent-dark rounded-full",children:E},N))})]},`sub-${S}-${b}`))})]},`sub-cat-${S}`))}):f.jsx(f.Fragment,{children:(m=(y=u[i])==null?void 0:y.items)==null?void 0:m.map((v,S)=>f.jsxs(R.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!1},transition:{delay:S*.1},whileHover:{scale:1.02},className:"card p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3",children:v.title}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:v.description}),v.tags&&f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:v.tags.map((k,b)=>f.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-primary-light/10 dark:bg-primary-dark/10 text-primary-light dark:text-primary-dark rounded-full",children:k},b))}),v.links&&f.jsxs("div",{className:"flex flex-wrap gap-3",children:[v.links.code&&f.jsxs("a",{href:v.links.code,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-light dark:text-primary-dark hover:underline",onClick:k=>k.stopPropagation(),children:[f.jsx(ql,{className:"w-4 h-4"}),"Code"]}),v.links.demo&&f.jsxs("a",{href:v.links.demo,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-light dark:text-primary-dark hover:underline",onClick:k=>k.stopPropagation(),children:[f.jsx(fi,{className:"w-4 h-4"}),"Demo"]})]})]},S))})},`${n}-${i}`)})}),f.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[f.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p,className:"p-3 rounded-full bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors","aria-label":"Previous category",children:f.jsx(V1,{className:"w-6 h-6"})}),f.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:d,className:"p-3 rounded-full bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors","aria-label":"Next category",children:f.jsx(B1,{className:"w-6 h-6"})})]})]})},jy=({sectionKey:t})=>{const{t:e}=dt(),n=e(t,{returnObjects:!0}),[r,i]=T.useState(0);if(!n||!n.categories||n.categories.length===0)return null;const s=n.categories[r];return f.jsxs(bn,{id:t,title:n.title,children:[f.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:n.categories.map((o,a)=>f.jsx("button",{onClick:()=>i(a),className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${r===a?"bg-primary-light dark:bg-primary-dark text-white shadow-lg scale-105":"bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700"}`,children:o.name},a))}),f.jsx(go,{mode:"wait",children:f.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:s.items&&s.items.length>0?f.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:s.items.map((o,a)=>f.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!1},transition:{delay:a*.1},whileHover:{y:-5},className:"card p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3",children:o.title}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:o.description}),o.tags&&o.tags.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:o.tags.map((l,u)=>f.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-primary-light/10 dark:bg-primary-dark/10 text-primary-light dark:text-primary-dark rounded-full",children:l},u))}),o.links&&f.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.links.code&&f.jsxs("a",{href:o.links.code,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-light dark:text-primary-dark hover:underline",children:[f.jsx(ql,{className:"w-4 h-4"}),"Code"]}),o.links.demo&&f.jsxs("a",{href:o.links.demo,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-light dark:text-primary-dark hover:underline",children:[f.jsx(fi,{className:"w-4 h-4"}),"Demo"]})]})]},a))}):f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No items in this category yet. Check back soon!"})})},r)})]})},QL=()=>{const{t}=dt(),e=t("showcase",{returnObjects:!0});return!e||typeof e!="object"?null:f.jsx(bn,{id:"showcase",title:e.title||"Showcase",children:f.jsxs("div",{className:"space-y-12",children:[e.awards&&e.awards.items&&f.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"card p-6 md:p-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-3 bg-yellow-500/10 rounded-lg",children:f.jsx(Ss,{className:"w-8 h-8 text-yellow-500"})}),f.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:e.awards.title})]}),f.jsx("ul",{className:"space-y-3",children:e.awards.items.map((n,r)=>f.jsxs(R.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.4,delay:r*.1},className:"flex items-start gap-3 text-gray-700 dark:text-gray-300",children:[f.jsx(Ss,{className:"w-5 h-5 text-yellow-500 mt-1 flex-shrink-0"}),f.jsx("span",{children:n})]},r))})]}),e.sports&&e.sports.length>0&&f.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.sports.map((n,r)=>f.jsx(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:r*.1},className:"card p-6",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-primary-light/10 dark:bg-primary-dark/10 rounded-lg",children:f.jsx(Ss,{className:"w-6 h-6 text-primary-light dark:text-primary-dark"})}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:n})]})},r))}),e.community&&f.jsxs(R.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5},className:"card p-6 md:p-8 bg-gradient-to-br from-primary-light/10 to-accent-light/10 dark:from-primary-dark/10 dark:to-accent-dark/10",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"p-3 bg-primary-light/20 dark:bg-primary-dark/20 rounded-lg",children:f.jsx($1,{className:"w-8 h-8 text-primary-light dark:text-primary-dark"})}),f.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:e.community.title})]}),f.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-4",children:e.community.description}),f.jsx("a",{href:e.community.link,target:"_blank",rel:"noopener noreferrer",className:"inline-block text-primary-light dark:text-primary-dark font-semibold hover:underline",children:"View Community Post "})]}),e.hackathons&&e.hackathons.items&&f.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"card p-6 md:p-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-3 bg-accent-light/10 dark:bg-accent-dark/10 rounded-lg",children:f.jsx(bN,{className:"w-8 h-8 text-accent-light dark:text-accent-dark"})}),f.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:e.hackathons.title})]}),f.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:e.hackathons.items.map((n,r)=>{const i=typeof n=="string"?{name:n,link:""}:n,s=i.link&&i.link.trim()!=="";return f.jsxs(R.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.3,delay:r*.05},className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-between gap-3 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[f.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:i.name}),s&&f.jsx("a",{href:i.link,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",title:"View hackathon link",children:f.jsx(fi,{className:"w-4 h-4 text-accent-light dark:text-accent-dark"})})]},r)})})]}),e.events&&(e.events.attended||e.events.conducted)&&f.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"card p-6 md:p-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg",children:f.jsx(Ja,{className:"w-8 h-8 text-green-500"})}),f.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:e.events.title})]}),e.events.attended&&e.events.attended.items&&e.events.attended.items.length>0&&f.jsxs("div",{className:"mb-8",children:[f.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:e.events.attended.title}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.events.attended.items.map((n,r)=>{const i=typeof n=="string"?{name:n,link:""}:n,s=i.link&&i.link.trim()!=="";return f.jsxs(R.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.3,delay:r*.05},className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-between gap-3 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[f.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:i.name}),s&&f.jsx("a",{href:i.link,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",title:"View event link",children:f.jsx(fi,{className:"w-4 h-4 text-green-500"})})]},r)})})]}),e.events.conducted&&e.events.conducted.items&&e.events.conducted.items.length>0&&f.jsxs("div",{children:[f.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:e.events.conducted.title}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.events.conducted.items.map((n,r)=>{const i=typeof n=="string"?{name:n,link:""}:{name:n.title||n.name,link:n.link||""},s=i.link&&i.link.trim()!=="";return f.jsxs(R.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.3,delay:r*.05},className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-between gap-3 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[f.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:i.name}),s&&f.jsx("a",{href:i.link,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",title:"View event link",children:f.jsx(fi,{className:"w-4 h-4 text-green-500"})})]},r)})})]})]})]})})},YL=()=>{const{t}=dt(),[e,n]=T.useState({email:"",role:"",message:""}),r=s=>{n({...e,[s.target.name]:s.target.value})},i=s=>{s.preventDefault();const o=`Resume Request from ${e.role||"Potential Employer"}`,a=`Hi Jermiah,

I'd like to request your tailored resume for the following role:

Role: ${e.role}
Description: ${e.message}
Contact Email: ${e.email}

Looking forward to hearing from you!`,l=`mailto:jermiah.jerome96@gmail.com?subject=${encodeURIComponent(o)}&body=${encodeURIComponent(a)}`;window.location.href=l};return f.jsx(bn,{id:"contact",children:f.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!1},className:"max-w-2xl mx-auto",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-4 gradient-text",children:t("contact.title","Want to Hire Me?")}),f.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-8 text-lg",children:t("contact.subtitle","Fill out the form below and I'll send you a tailored resume for your role.")}),f.jsxs("form",{onSubmit:i,className:"card p-8 space-y-6",children:[f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"email",className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.jsx(xf,{className:"w-4 h-4"}),"Your Email Address"]}),f.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:r,required:!0,placeholder:"your.email@company.com",className:"w-full px-4 py-3 rounded-lg bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-light dark:focus:ring-primary-dark focus:border-transparent transition-all"})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"role",className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.jsx(Ei,{className:"w-4 h-4"}),"Role / Position"]}),f.jsx("input",{type:"text",id:"role",name:"role",value:e.role,onChange:r,required:!0,placeholder:"e.g., Senior AI Engineer, ML Researcher",className:"w-full px-4 py-3 rounded-lg bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-light dark:focus:ring-primary-dark focus:border-transparent transition-all"})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"message",className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.jsx(U1,{className:"w-4 h-4"}),"Job Description / Message"]}),f.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:r,required:!0,rows:"4",placeholder:"Brief description of the role, company, or any specific requirements...",className:"w-full px-4 py-3 rounded-lg bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-light dark:focus:ring-primary-dark focus:border-transparent transition-all resize-none"})]}),f.jsxs(R.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-primary-light to-accent-light dark:from-primary-dark dark:to-accent-dark text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",children:[f.jsx(_N,{className:"w-5 h-5"}),"Send Request"]}),f.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 mt-4",children:"This will open your default email client with a pre-filled message"})]})]})})};var Ro={};(function t(e,n,r,i){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var C=new OffscreenCanvas(1,1),w=C.getContext("2d");w.fillRect(0,0,1,1);var L=C.transferToImageBitmap();try{w.createPattern(L,"no-repeat")}catch{return!1}return!0}();function l(){}function u(C){var w=n.exports.Promise,L=w!==void 0?w:e.Promise;return typeof L=="function"?new L(C):(C(l,l),null)}var c=function(C,w){return{transform:function(L){if(C)return L;if(w.has(L))return w.get(L);var F=new OffscreenCanvas(L.width,L.height),z=F.getContext("2d");return z.drawImage(L,0,0),w.set(L,F),F},clear:function(){w.clear()}}}(a,new Map),h=function(){var C=Math.floor(16.666666666666668),w,L,F={},z=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(w=function(H){var W=Math.random();return F[W]=requestAnimationFrame(function O(X){z===X||z+C-1<X?(z=X,delete F[W],H()):F[W]=requestAnimationFrame(O)}),W},L=function(H){F[H]&&cancelAnimationFrame(F[H])}):(w=function(H){return setTimeout(H,C)},L=function(H){return clearTimeout(H)}),{frame:w,cancel:L}}(),d=function(){var C,w,L={};function F(z){function H(W,O){z.postMessage({options:W||{},callback:O})}z.init=function(O){var X=O.transferControlToOffscreen();z.postMessage({canvas:X},[X])},z.fire=function(O,X,ie){if(w)return H(O,null),w;var we=Math.random().toString(36).slice(2);return w=u(function(ue){function _e(Oe){Oe.data.callback===we&&(delete L[we],z.removeEventListener("message",_e),w=null,c.clear(),ie(),ue())}z.addEventListener("message",_e),H(O,we),L[we]=_e.bind(null,{data:{callback:we}})}),w},z.reset=function(){z.postMessage({reset:!0});for(var O in L)L[O](),delete L[O]}}return function(){if(C)return C;if(!r&&s){var z=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{C=new Worker(URL.createObjectURL(new Blob([z])))}catch(H){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",H),null}F(C)}return C}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(C,w){return w?w(C):C}function x(C){return C!=null}function _(C,w,L){return g(C&&x(C[w])?C[w]:p[w],L)}function y(C){return C<0?0:Math.floor(C)}function m(C,w){return Math.floor(Math.random()*(w-C))+C}function v(C){return parseInt(C,16)}function S(C){return C.map(k)}function k(C){var w=String(C).replace(/[^0-9a-f]/gi,"");return w.length<6&&(w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]),{r:v(w.substring(0,2)),g:v(w.substring(2,4)),b:v(w.substring(4,6))}}function b(C){var w=_(C,"origin",Object);return w.x=_(w,"x",Number),w.y=_(w,"y",Number),w}function E(C){C.width=document.documentElement.clientWidth,C.height=document.documentElement.clientHeight}function N(C){var w=C.getBoundingClientRect();C.width=w.width,C.height=w.height}function U(C){var w=document.createElement("canvas");return w.style.position="fixed",w.style.top="0px",w.style.left="0px",w.style.pointerEvents="none",w.style.zIndex=C,w}function j(C,w,L,F,z,H,W,O,X){C.save(),C.translate(w,L),C.rotate(H),C.scale(F,z),C.arc(0,0,1,W,O,X),C.restore()}function re(C){var w=C.angle*(Math.PI/180),L=C.spread*(Math.PI/180);return{x:C.x,y:C.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:C.startVelocity*.5+Math.random()*C.startVelocity,angle2D:-w+(.5*L-Math.random()*L),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:C.color,shape:C.shape,tick:0,totalTicks:C.ticks,decay:C.decay,drift:C.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:C.gravity*3,ovalScalar:.6,scalar:C.scalar,flat:C.flat}}function Rt(C,w){w.x+=Math.cos(w.angle2D)*w.velocity+w.drift,w.y+=Math.sin(w.angle2D)*w.velocity+w.gravity,w.velocity*=w.decay,w.flat?(w.wobble=0,w.wobbleX=w.x+10*w.scalar,w.wobbleY=w.y+10*w.scalar,w.tiltSin=0,w.tiltCos=0,w.random=1):(w.wobble+=w.wobbleSpeed,w.wobbleX=w.x+10*w.scalar*Math.cos(w.wobble),w.wobbleY=w.y+10*w.scalar*Math.sin(w.wobble),w.tiltAngle+=.1,w.tiltSin=Math.sin(w.tiltAngle),w.tiltCos=Math.cos(w.tiltAngle),w.random=Math.random()+2);var L=w.tick++/w.totalTicks,F=w.x+w.random*w.tiltCos,z=w.y+w.random*w.tiltSin,H=w.wobbleX+w.random*w.tiltCos,W=w.wobbleY+w.random*w.tiltSin;if(C.fillStyle="rgba("+w.color.r+", "+w.color.g+", "+w.color.b+", "+(1-L)+")",C.beginPath(),o&&w.shape.type==="path"&&typeof w.shape.path=="string"&&Array.isArray(w.shape.matrix))C.fill(fe(w.shape.path,w.shape.matrix,w.x,w.y,Math.abs(H-F)*.1,Math.abs(W-z)*.1,Math.PI/10*w.wobble));else if(w.shape.type==="bitmap"){var O=Math.PI/10*w.wobble,X=Math.abs(H-F)*.1,ie=Math.abs(W-z)*.1,we=w.shape.bitmap.width*w.scalar,ue=w.shape.bitmap.height*w.scalar,_e=new DOMMatrix([Math.cos(O)*X,Math.sin(O)*X,-Math.sin(O)*ie,Math.cos(O)*ie,w.x,w.y]);_e.multiplySelf(new DOMMatrix(w.shape.matrix));var Oe=C.createPattern(c.transform(w.shape.bitmap),"no-repeat");Oe.setTransform(_e),C.globalAlpha=1-L,C.fillStyle=Oe,C.fillRect(w.x-we/2,w.y-ue/2,we,ue),C.globalAlpha=1}else if(w.shape==="circle")C.ellipse?C.ellipse(w.x,w.y,Math.abs(H-F)*w.ovalScalar,Math.abs(W-z)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI):j(C,w.x,w.y,Math.abs(H-F)*w.ovalScalar,Math.abs(W-z)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI);else if(w.shape==="star")for(var J=Math.PI/2*3,it=4*w.scalar,Mt=8*w.scalar,jt=w.x,on=w.y,or=5,qt=Math.PI/or;or--;)jt=w.x+Math.cos(J)*Mt,on=w.y+Math.sin(J)*Mt,C.lineTo(jt,on),J+=qt,jt=w.x+Math.cos(J)*it,on=w.y+Math.sin(J)*it,C.lineTo(jt,on),J+=qt;else C.moveTo(Math.floor(w.x),Math.floor(w.y)),C.lineTo(Math.floor(w.wobbleX),Math.floor(z)),C.lineTo(Math.floor(H),Math.floor(W)),C.lineTo(Math.floor(F),Math.floor(w.wobbleY));return C.closePath(),C.fill(),w.tick<w.totalTicks}function Lt(C,w,L,F,z){var H=w.slice(),W=C.getContext("2d"),O,X,ie=u(function(we){function ue(){O=X=null,W.clearRect(0,0,F.width,F.height),c.clear(),z(),we()}function _e(){r&&!(F.width===i.width&&F.height===i.height)&&(F.width=C.width=i.width,F.height=C.height=i.height),!F.width&&!F.height&&(L(C),F.width=C.width,F.height=C.height),W.clearRect(0,0,F.width,F.height),H=H.filter(function(Oe){return Rt(W,Oe)}),H.length?O=h.frame(_e):ue()}O=h.frame(_e),X=ue});return{addFettis:function(we){return H=H.concat(we),ie},canvas:C,promise:ie,reset:function(){O&&h.cancel(O),X&&X()}}}function rt(C,w){var L=!C,F=!!_(w||{},"resize"),z=!1,H=_(w,"disableForReducedMotion",Boolean),W=s&&!!_(w||{},"useWorker"),O=W?d():null,X=L?E:N,ie=C&&O?!!C.__confetti_initialized:!1,we=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ue;function _e(J,it,Mt){for(var jt=_(J,"particleCount",y),on=_(J,"angle",Number),or=_(J,"spread",Number),qt=_(J,"startVelocity",Number),C_=_(J,"decay",Number),k_=_(J,"gravity",Number),b_=_(J,"drift",Number),sp=_(J,"colors",S),E_=_(J,"ticks",Number),op=_(J,"shapes"),T_=_(J,"scalar"),N_=!!_(J,"flat"),ap=b(J),lp=jt,du=[],P_=C.width*ap.x,I_=C.height*ap.y;lp--;)du.push(re({x:P_,y:I_,angle:on,spread:or,startVelocity:qt,color:sp[lp%sp.length],shape:op[m(0,op.length)],ticks:E_,decay:C_,gravity:k_,drift:b_,scalar:T_,flat:N_}));return ue?ue.addFettis(du):(ue=Lt(C,du,X,it,Mt),ue.promise)}function Oe(J){var it=H||_(J,"disableForReducedMotion",Boolean),Mt=_(J,"zIndex",Number);if(it&&we)return u(function(qt){qt()});L&&ue?C=ue.canvas:L&&!C&&(C=U(Mt),document.body.appendChild(C)),F&&!ie&&X(C);var jt={width:C.width,height:C.height};O&&!ie&&O.init(C),ie=!0,O&&(C.__confetti_initialized=!0);function on(){if(O){var qt={getBoundingClientRect:function(){if(!L)return C.getBoundingClientRect()}};X(qt),O.postMessage({resize:{width:qt.width,height:qt.height}});return}jt.width=jt.height=null}function or(){ue=null,F&&(z=!1,e.removeEventListener("resize",on)),L&&C&&(document.body.contains(C)&&document.body.removeChild(C),C=null,ie=!1)}return F&&!z&&(z=!0,e.addEventListener("resize",on,!1)),O?O.fire(J,jt,or):_e(J,jt,or)}return Oe.reset=function(){O&&O.reset(),ue&&ue.reset()},Oe}var _t;function St(){return _t||(_t=rt(null,{useWorker:!0,resize:!0})),_t}function fe(C,w,L,F,z,H,W){var O=new Path2D(C),X=new Path2D;X.addPath(O,new DOMMatrix(w));var ie=new Path2D;return ie.addPath(X,new DOMMatrix([Math.cos(W)*z,Math.sin(W)*z,-Math.sin(W)*H,Math.cos(W)*H,L,F])),ie}function I(C){if(!o)throw new Error("path confetti are not supported in this browser");var w,L;typeof C=="string"?w=C:(w=C.path,L=C.matrix);var F=new Path2D(w),z=document.createElement("canvas"),H=z.getContext("2d");if(!L){for(var W=1e3,O=W,X=W,ie=0,we=0,ue,_e,Oe=0;Oe<W;Oe+=2)for(var J=0;J<W;J+=2)H.isPointInPath(F,Oe,J,"nonzero")&&(O=Math.min(O,Oe),X=Math.min(X,J),ie=Math.max(ie,Oe),we=Math.max(we,J));ue=ie-O,_e=we-X;var it=10,Mt=Math.min(it/ue,it/_e);L=[Mt,0,0,Mt,-Math.round(ue/2+O)*Mt,-Math.round(_e/2+X)*Mt]}return{type:"path",path:w,matrix:L}}function D(C){var w,L=1,F="#000000",z='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof C=="string"?w=C:(w=C.text,L="scalar"in C?C.scalar:L,z="fontFamily"in C?C.fontFamily:z,F="color"in C?C.color:F);var H=10*L,W=""+H+"px "+z,O=new OffscreenCanvas(H,H),X=O.getContext("2d");X.font=W;var ie=X.measureText(w),we=Math.ceil(ie.actualBoundingBoxRight+ie.actualBoundingBoxLeft),ue=Math.ceil(ie.actualBoundingBoxAscent+ie.actualBoundingBoxDescent),_e=2,Oe=ie.actualBoundingBoxLeft+_e,J=ie.actualBoundingBoxAscent+_e;we+=_e+_e,ue+=_e+_e,O=new OffscreenCanvas(we,ue),X=O.getContext("2d"),X.font=W,X.fillStyle=F,X.fillText(w,Oe,J);var it=1/L;return{type:"bitmap",bitmap:O.transferToImageBitmap(),matrix:[it,0,0,it,-we*it/2,-ue*it/2]}}n.exports=function(){return St().apply(this,arguments)},n.exports.reset=function(){St().reset()},n.exports.create=rt,n.exports.shapeFromPath=I,n.exports.shapeFromText=D})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ro,!1);const uc=Ro.exports;Ro.exports.create;const XL=()=>{try{const t=document.createElement("canvas"),e=t.getContext("2d"),n="Portfolio Fingerprint ";return e.textBaseline="top",e.font="14px Arial",e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.fillText(n,2,15),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText(n,4,17),t.toDataURL()}catch{return"canvas_unsupported"}},JL=()=>{try{const t=document.createElement("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl");if(!e)return"webgl_unsupported";const n=e.getExtension("WEBGL_debug_renderer_info"),r=e.getParameter(n.UNMASKED_VENDOR_WEBGL),i=e.getParameter(n.UNMASKED_RENDERER_WEBGL);return`${r}~${i}`}catch{return"webgl_unsupported"}},ZL=()=>`${screen.width}x${screen.height}x${screen.colorDepth}`,eM=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,tM=()=>{var t;return`${navigator.language}|${((t=navigator.languages)==null?void 0:t.join(","))||""}`},nM=()=>`${navigator.platform}|${navigator.userAgent}`,rM=()=>{try{return navigator.plugins&&navigator.plugins.length>0?Array.from(navigator.plugins).map(t=>t.name).join(","):"no_plugins"}catch{return"plugins_error"}},iM=t=>{let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return Math.abs(e).toString(36)},sM=()=>{try{const e=[XL(),JL(),ZL(),eM(),tM(),nM(),rM()].join("|"),n=iM(e);return console.log(" Browser fingerprint generated:",n),n}catch(t){return console.error(" Error generating fingerprint:",t),"fallback_"+Math.random().toString(36).substring(2,15)}},oM=()=>{const t="browser_fingerprint";let e=localStorage.getItem(t);return e||(e=sM(),localStorage.setItem(t,e)),e},aM=({isOpen:t,onClose:e})=>{const[n,r]=T.useState({name:"",linkedIn:"",role:"",text:""}),[i,s]=T.useState(!1),[o,a]=T.useState(!1),[l,u]=T.useState(""),[c,h]=T.useState(!1);T.useEffect(()=>{localStorage.getItem("hasWrittenTestimonial")==="true"&&h(!0)},[]);const d=async g=>{if(g.preventDefault(),u(""),c){u("You have already written a recommendation. Thank you! ");return}if(!n.name.trim()||!n.text.trim()){u("Name and testimonial text are required");return}if(n.text.length<20){u("Testimonial must be at least 20 characters");return}if(n.text.length>500){u("Testimonial must be less than 500 characters");return}s(!0);try{await zL({name:n.name.trim(),linkedIn:n.linkedIn.trim(),role:n.role.trim(),text:n.text.trim()}),localStorage.setItem("hasWrittenTestimonial","true"),h(!0),a(!0),setTimeout(()=>{r({name:"",linkedIn:"",role:"",text:""}),a(!1),e()},2e3)}catch(x){u("Failed to submit testimonial. Please try again."),console.error(x)}finally{s(!1)}},p=g=>{r({...n,[g.target.name]:g.target.value})};return t?f.jsx(go,{children:f.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:f.jsxs(R.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",onClick:g=>g.stopPropagation(),children:[f.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Write a Recommendation"}),f.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:f.jsx(Za,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),c&&!o?f.jsxs(R.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"p-8 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"w-10 h-10 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Already Recommended! "}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You have already written a recommendation. Thank you so much for your support!"}),f.jsx("button",{onClick:e,className:"mt-6 px-6 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-colors",children:"Close"})]}):o?f.jsxs(R.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"p-8 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Thank You!"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your recommendation has been submitted and will be reviewed soon."})]}):f.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.jsx(kN,{className:"inline w-4 h-4 mr-1"}),"Your Name *"]}),f.jsx("input",{type:"text",name:"name",value:n.name,onChange:p,placeholder:"John Doe",required:!0,maxLength:50,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.jsx(_o,{className:"inline w-4 h-4 mr-1"}),"LinkedIn Profile"]}),f.jsx("input",{type:"url",name:"linkedIn",value:n.linkedIn,onChange:p,placeholder:"https://linkedin.com/in/johndoe",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.jsx(Ei,{className:"inline w-4 h-4 mr-1"}),"Your Role/Title (optional)"]}),f.jsx("input",{type:"text",name:"role",value:n.role,onChange:p,placeholder:"Software Engineer at Company",maxLength:100,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.jsx(U1,{className:"inline w-4 h-4 mr-1"}),"Your Recommendation *"]}),f.jsx("textarea",{name:"text",value:n.text,onChange:p,placeholder:"Share your experience working with Jermiah...",required:!0,rows:5,minLength:20,maxLength:500,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[n.text.length,"/500 characters (minimum 20)"]})]}),l&&f.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:f.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),f.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:f.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Your recommendation will be reviewed before appearing on the site."})}),f.jsx("button",{type:"submit",disabled:i,className:"w-full py-3 px-6 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Submitting...":"Submit Recommendation"})]})]})})}):null},lM=()=>{const{t}=dt(),[e,n]=T.useState(0),[r,i]=T.useState(0),[s,o]=T.useState(!1),[a,l]=T.useState(!1),[u,c]=T.useState(!1),[h,d]=T.useState(!1);T.useEffect(()=>{localStorage.getItem("hasRecommended")==="true"&&o(!0);const x=w_(y=>{n(y)}),_=ip(y=>{i(y.length)});return()=>{x(),_()}},[]);const p=async()=>{if(s){console.log(" Blocked by localStorage: User already recommended"),l(!0),setTimeout(()=>l(!1),3e3);return}if(!u){c(!0);try{const g=oM();if(console.log(" Checking fingerprint:",g),await x_(g)){console.log(" Blocked by Firebase: User already recommended"),o(!0),localStorage.setItem("hasRecommended","true"),l(!0),setTimeout(()=>l(!1),3e3);return}console.log(" New user - Adding recommendation");const _=await FL(g);n(_),o(!0),localStorage.setItem("hasRecommended","true"),uc({particleCount:100,spread:70,origin:{y:.6},colors:["#3b82f6","#8b5cf6","#ec4899","#f59e0b"]}),setTimeout(()=>{uc({particleCount:50,angle:60,spread:55,origin:{x:0},colors:["#3b82f6","#8b5cf6"]})},200),setTimeout(()=>{uc({particleCount:50,angle:120,spread:55,origin:{x:1},colors:["#ec4899","#f59e0b"]})},400)}catch(g){console.error("Failed to increment recommendations:",g),g.message==="USER_ALREADY_RECOMMENDED"?(o(!0),localStorage.setItem("hasRecommended","true"),l(!0),setTimeout(()=>l(!1),3e3)):alert("Failed to save recommendation. Please check your internet connection and Firebase configuration.")}finally{c(!1)}}};return f.jsxs("div",{className:"fixed bottom-4 right-4 md:bottom-8 md:right-8 z-40 flex flex-col gap-3 md:gap-4",children:[f.jsxs(R.button,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>d(!0),className:"group relative p-3 md:p-4 rounded-full shadow-2xl transition-all duration-300 bg-gradient-to-r from-purple-500 to-pink-500 hover:shadow-purple-500/50 text-white",children:[f.jsx(z1,{className:"w-5 h-5 md:w-8 md:h-8"}),localStorage.getItem("hasWrittenTestimonial")!=="true"&&f.jsx(R.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},className:"absolute right-full mr-2 md:mr-3 top-1/2 -translate-y-1/2 bg-gray-800/70 dark:bg-gray-700/70 backdrop-blur-sm text-white/90 px-2 py-1 md:px-3 md:py-1.5 rounded-md shadow-md whitespace-nowrap font-medium text-[10px] md:text-xs",children:"Write Recommendation"}),r>0&&f.jsx(R.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-white dark:bg-gray-900 text-purple-500 dark:text-purple-400 rounded-full w-6 h-6 md:w-8 md:h-8 flex items-center justify-center text-xs md:text-sm font-bold border-2 border-purple-500 shadow-lg",children:r}),localStorage.getItem("hasWrittenTestimonial")==="true"&&f.jsx("div",{className:"absolute right-full mr-3 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:f.jsxs("div",{className:"bg-gray-900 dark:bg-gray-800 text-white text-sm px-4 py-2 rounded-lg shadow-xl whitespace-nowrap",children:[f.jsx("p",{className:"font-medium",children:"Already Written! "}),f.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Thank you for your recommendation"})]})})]}),f.jsxs(R.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},className:"relative",children:[f.jsx(go,{children:a&&f.jsxs(R.div,{initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.8},className:"absolute bottom-full right-0 mb-4 bg-gradient-to-r from-pink-500 to-red-500 text-white px-6 py-3 rounded-lg shadow-2xl whitespace-nowrap",children:[f.jsx("p",{className:"font-semibold text-sm",children:"You already loved my profile! "}),f.jsx("p",{className:"text-xs mt-1",children:"Heartful thanks with love "})]})}),f.jsxs(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p,disabled:u,className:`group relative p-3 md:p-4 rounded-full shadow-2xl transition-all duration-300 ${s?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-red-500 hover:shadow-pink-500/50"} ${u?"opacity-50 cursor-wait":""} text-white`,children:[!s&&!u&&f.jsx(R.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},className:"absolute right-full mr-2 md:mr-3 top-1/2 -translate-y-1/2 bg-gray-800/70 dark:bg-gray-700/70 backdrop-blur-sm text-white/90 px-2 py-1 md:px-3 md:py-1.5 rounded-md shadow-md whitespace-nowrap font-medium text-[10px] md:text-xs",children:"Love My Profile"}),u&&f.jsx(R.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},className:"absolute right-full mr-2 md:mr-3 top-1/2 -translate-y-1/2 bg-blue-500/70 backdrop-blur-sm text-white px-2 py-1 md:px-3 md:py-1.5 rounded-md shadow-md whitespace-nowrap font-medium text-[10px] md:text-xs",children:"Saving..."}),f.jsx(R.div,{animate:s||u?{}:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:f.jsx(vf,{className:"w-5 h-5 md:w-8 md:h-8 fill-current"})}),e>0&&f.jsx(R.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-white dark:bg-gray-900 text-pink-500 dark:text-pink-400 rounded-full w-6 h-6 md:w-8 md:h-8 flex items-center justify-center text-xs md:text-sm font-bold border-2 border-pink-500 shadow-lg",children:e})]}),s&&f.jsx("div",{className:"absolute right-full mr-3 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:f.jsxs("div",{className:"bg-gray-900 dark:bg-gray-800 text-white text-sm px-4 py-2 rounded-lg shadow-xl whitespace-nowrap",children:[f.jsx("p",{className:"font-medium",children:"Already Loved! "}),f.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Thank you for your love"})]})})]}),f.jsx(aM,{isOpen:h,onClose:()=>d(!1)})]})},uM=()=>{const{t}=dt(),e=[{name:"GitHub",url:"https://github.com/jermiah",icon:f.jsx(ql,{className:"w-5 h-5"})},{name:"LinkedIn",url:"https://www.linkedin.com/in/jermiah-jerome/",icon:f.jsx(_o,{className:"w-5 h-5"})},{name:"Email",url:"mailto:jermiah.jerome96@gmail.com",icon:f.jsx(xf,{className:"w-5 h-5"})}];return f.jsx("footer",{className:"bg-gray-100 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-3 md:py-5",children:[f.jsx(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-3",children:f.jsx("div",{className:"inline-block p-2 md:p-3 bg-gradient-to-r from-primary-light/10 to-accent-light/10 dark:from-primary-dark/10 dark:to-accent-dark/10 rounded-xl",children:f.jsx("p",{className:"text-xs md:text-sm text-gray-700 dark:text-gray-300 max-w-2xl mx-auto",children:t("footer.message")})})}),f.jsx(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"flex justify-center gap-3 mb-3",children:e.map((n,r)=>f.jsx(R.a,{whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},href:n.url,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 bg-white dark:bg-gray-800 rounded-full shadow-md hover:shadow-lg transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-primary-light dark:hover:text-primary-dark","aria-label":n.name,children:n.icon},r))}),f.jsx(R.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.4},className:"text-center text-gray-600 dark:text-gray-400",children:f.jsxs("p",{className:"flex items-center justify-center gap-1.5 text-xs",children:[t("footer.copyright").split("")[0],f.jsx(vf,{className:"w-2.5 h-2.5 text-red-500 fill-current animate-pulse"}),t("footer.copyright").split("")[1]]})}),f.jsx(R.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.6},className:"text-center mt-3",children:f.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-primary-light dark:text-primary-dark font-medium hover:underline text-xs",children:" Back to Top"})})]})})},cM=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState([]),[l,u]=T.useState(!1),[c,h]=T.useState(null),[d,p]=T.useState({});T.useEffect(()=>{sessionStorage.getItem("isAdmin")==="true"&&e(!0)},[]),T.useEffect(()=>{if(!t||!Ie)return;const b=Jt(Ie,"testimonials"),E=Ao(b,N=>{const U=[];N.forEach(j=>{U.push({id:j.key,...j.val()})}),U.sort((j,re)=>(re.timestamp||0)-(j.timestamp||0)),a(U)});return()=>E()},[t]);const g=b=>{b.preventDefault(),s(""),n==="Jero@1234"?(e(!0),sessionStorage.setItem("isAdmin","true"),r("")):s("Invalid password")},x=()=>{e(!1),sessionStorage.removeItem("isAdmin")},_=async b=>{if(Ie){u(!0);try{const E=Jt(Ie,`testimonials/${b}`);await lc(E,{approved:!0}),console.log(" Testimonial approved:",b)}catch(E){console.error(" Error approving testimonial:",E),alert("Failed to approve testimonial")}finally{u(!1)}}},y=async b=>{if(Ie){u(!0);try{const E=Jt(Ie,`testimonials/${b}`);await lc(E,{approved:!1}),console.log(" Testimonial rejected:",b)}catch(E){console.error(" Error rejecting testimonial:",E),alert("Failed to reject testimonial")}finally{u(!1)}}},m=b=>{h(b.id),p({name:b.name||"",role:b.role||"",linkedIn:b.linkedIn||"",text:b.text||""})},v=()=>{h(null),p({})},S=async b=>{if(Ie){u(!0);try{const E=Jt(Ie,`testimonials/${b}`);await lc(E,{name:d.name,role:d.role,linkedIn:d.linkedIn,text:d.text}),console.log(" Testimonial updated:",b),h(null),p({}),alert(" Testimonial updated successfully!")}catch(E){console.error(" Error updating testimonial:",E),alert(` Failed to update testimonial: ${E.message}`)}finally{u(!1)}}},k=b=>b?new Date(b).toLocaleString():"Unknown date";return t?f.jsx("div",{className:"min-h-screen bg-gray-900 py-8 px-4",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-white",children:"Testimonial Management"}),f.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-lg transition-colors",children:[f.jsx(mN,{className:"w-4 h-4"}),"Logout"]})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[f.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[f.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total"}),f.jsx("p",{className:"text-3xl font-bold text-white",children:o.length})]}),f.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-lg p-6",children:[f.jsx("p",{className:"text-green-400 text-sm mb-1",children:"Approved"}),f.jsx("p",{className:"text-3xl font-bold text-green-400",children:o.filter(b=>b.approved===!0).length})]}),f.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-lg p-6",children:[f.jsx("p",{className:"text-yellow-400 text-sm mb-1",children:"Pending"}),f.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:o.filter(b=>b.approved!==!0).length})]})]}),f.jsx("div",{className:"space-y-4",children:o.length===0?f.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[f.jsx(cN,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"No testimonials yet"})]}):o.map(b=>f.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gray-800 rounded-lg p-6 border-l-4 ${b.approved===!0?"border-green-500":"border-yellow-500"}`,children:c===b.id?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),f.jsx("input",{type:"text",value:d.name,onChange:E=>p({...d,name:E.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Role"}),f.jsx("input",{type:"text",value:d.role,onChange:E=>p({...d,role:E.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"LinkedIn"}),f.jsx("input",{type:"url",value:d.linkedIn,onChange:E=>p({...d,linkedIn:E.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Testimonial"}),f.jsx("textarea",{value:d.text,onChange:E=>p({...d,text:E.target.value}),rows:4,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white resize-none"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("button",{onClick:()=>S(b.id),disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(wN,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:v,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(Za,{className:"w-4 h-4"}),"Cancel"]})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("h3",{className:"text-xl font-semibold text-white",children:b.name}),b.linkedIn&&f.jsx("a",{href:b.linkedIn,target:"_blank",rel:"noopener noreferrer",className:"p-1 hover:bg-gray-700 rounded transition-colors",children:f.jsx(_o,{className:"w-4 h-4 text-blue-400"})})]}),b.role&&f.jsx("p",{className:"text-gray-400 text-sm mb-2",children:b.role}),f.jsx("p",{className:"text-xs text-gray-500",children:k(b.timestamp)})]}),f.jsx("div",{children:b.approved===!0?f.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 text-xs font-medium rounded-full",children:"Approved"}):f.jsx("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-400 text-xs font-medium rounded-full",children:"Pending"})})]}),f.jsx("div",{className:"bg-gray-900 rounded-lg p-4 mb-4",children:f.jsxs("p",{className:"text-gray-300 text-sm leading-relaxed",children:['"',b.text,'"']})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("button",{onClick:()=>m(b),disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(uN,{className:"w-4 h-4"}),"Edit"]}),b.approved!==!0&&f.jsxs("button",{onClick:()=>_(b.id),disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(oN,{className:"w-4 h-4"}),"Approve"]}),b.approved===!0&&f.jsxs("button",{onClick:()=>y(b.id),disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(Za,{className:"w-4 h-4"}),"Reject"]})]})]})},b.id))})]})}):f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 px-4",children:f.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[f.jsx("div",{className:"flex items-center justify-center mb-6",children:f.jsx("div",{className:"p-4 bg-blue-500/20 rounded-full",children:f.jsx(pN,{className:"w-8 h-8 text-blue-400"})})}),f.jsx("h1",{className:"text-2xl font-bold text-white text-center mb-6",children:"Admin Panel"}),f.jsxs("form",{onSubmit:g,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),f.jsx("input",{type:"password",value:n,onChange:b=>r(b.target.value),placeholder:"Enter admin password",className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),i&&f.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500 rounded-lg",children:f.jsx("p",{className:"text-sm text-red-400",children:i})}),f.jsx("button",{type:"submit",className:"w-full py-3 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-lg transition-colors",children:"Login"})]}),f.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Access restricted to administrators only"})]})})};function dM(){const{i18n:t}=dt(),[e,n]=T.useState(!0),[r,i]=T.useState(!1);T.useEffect(()=>{const o=window.location.hash;i(o==="#admin");const a=()=>{i(window.location.hash==="#admin")};return window.addEventListener("hashchange",a),()=>window.removeEventListener("hashchange",a)},[]),T.useEffect(()=>{const a=localStorage.getItem("theme")!=="light";n(a),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const s=()=>{const o=!e;n(o),o?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return r?f.jsx(cM,{}):f.jsxs("div",{className:"min-h-screen relative",children:[f.jsx(kk,{isDark:e}),f.jsx(EN,{isDark:e,toggleTheme:s}),f.jsxs("main",{children:[f.jsx(UL,{}),f.jsx($L,{}),f.jsx(WL,{}),f.jsx(HL,{}),f.jsx(GL,{}),f.jsx(KL,{}),f.jsx(qL,{}),f.jsx(jy,{sectionKey:"research"}),f.jsx(jy,{sectionKey:"opensource"}),f.jsx(QL,{}),f.jsx(YL,{})]}),f.jsx(uM,{}),f.jsx(lM,{})]})}const $=t=>typeof t=="string",ts=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},Dy=t=>t==null?"":""+t,hM=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},fM=/###/g,Oy=t=>t&&t.indexOf("###")>-1?t.replace(fM,"."):t,Fy=t=>!t||$(t),Ps=(t,e,n)=>{const r=$(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(Fy(t))return{};const s=Oy(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return Fy(t)?{}:{obj:t,k:Oy(r[i])}},Vy=(t,e,n)=>{const{obj:r,k:i}=Ps(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=Ps(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=Ps(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},pM=(t,e,n,r)=>{const{obj:i,k:s}=Ps(t,e,Object);i[s]=i[s]||[],i[s].push(n)},Sl=(t,e)=>{const{obj:n,k:r}=Ps(t,e);if(n)return n[r]},mM=(t,e,n)=>{const r=Sl(t,n);return r!==void 0?r:Sl(e,n)},__=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?$(t[r])||t[r]instanceof String||$(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):__(t[r],e[r],n):t[r]=e[r]);return t},zr=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var gM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const yM=t=>$(t)?t.replace(/[&<>"'\/]/g,e=>gM[e]):t;class vM{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const xM=[" ",",","?","!",";"],wM=new vM(20),_M=(t,e,n)=>{e=e||"",n=n||"";const r=xM.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=wM.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},Ud=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},Cl=t=>t&&t.replace("_","-"),SM={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class kl{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||SM,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:($(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new kl(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new kl(this.logger,e)}}var Zt=new kl;class cu{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a.apply(a,[e,...r])})}}class By extends cu{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):$(r)&&s?a.push(...r.split(s)):a.push(r)));const l=Sl(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!$(r)?l:Ud(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),Vy(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)($(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=Sl(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?__(l,r,s):l={...l,...r},Vy(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var S_={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const zy={};class bl extends cu{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),hM(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Zt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!_M(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:$(s)?[s]:s};const u=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(i)}return{key:e,namespaces:$(s)?[s]:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const S=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${S}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${S}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const h=this.resolve(e,n);let d=h&&h.res;const p=h&&h.usedKey||o,g=h&&h.exactUsedKey||o,x=Object.prototype.toString.apply(d),_=["[object Number]","[object Function]","[object RegExp]"],y=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,v=!$(d)&&typeof d!="boolean"&&typeof d!="number";if(m&&d&&v&&_.indexOf(x)<0&&!($(y)&&Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(h.res=S,h.usedParams=this.getUsedParamsDetails(n),h):S}if(s){const S=Array.isArray(d),k=S?[]:{},b=S?g:p;for(const E in d)if(Object.prototype.hasOwnProperty.call(d,E)){const N=`${b}${s}${E}`;k[E]=this.translate(N,{...n,joinArrays:!1,ns:a}),k[E]===N&&(k[E]=d[E])}d=k}}else if(m&&$(y)&&Array.isArray(d))d=d.join(y),d&&(d=this.extendTranslation(d,e,n,r));else{let S=!1,k=!1;const b=n.count!==void 0&&!$(n.count),E=bl.hasDefaultValue(n),N=b?this.pluralResolver.getSuffix(u,n.count,n):"",U=n.ordinal&&b?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",j=b&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),re=j&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${N}`]||n[`defaultValue${U}`]||n.defaultValue;!this.isValidLookup(d)&&E&&(S=!0,d=re),this.isValidLookup(d)||(k=!0,d=o);const Lt=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&k?void 0:d,rt=E&&re!==d&&this.options.updateMissing;if(k||S||rt){if(this.logger.log(rt?"updateKey":"missingKey",u,l,o,rt?re:d),s){const I=this.resolve(o,{...n,keySeparator:!1});I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let _t=[];const St=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&St&&St[0])for(let I=0;I<St.length;I++)_t.push(St[I]);else this.options.saveMissingTo==="all"?_t=this.languageUtils.toResolveHierarchy(n.lng||this.language):_t.push(n.lng||this.language);const fe=(I,D,C)=>{const w=E&&C!==d?C:Lt;this.options.missingKeyHandler?this.options.missingKeyHandler(I,l,D,w,rt,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(I,l,D,w,rt,n),this.emit("missingKey",I,l,D,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?_t.forEach(I=>{const D=this.pluralResolver.getSuffixes(I,n);j&&n[`defaultValue${this.options.pluralSeparator}zero`]&&D.indexOf(`${this.options.pluralSeparator}zero`)<0&&D.push(`${this.options.pluralSeparator}zero`),D.forEach(C=>{fe([I],o+C,n[`defaultValue${C}`]||re)})}):fe(_t,o,re))}d=this.extendTranslation(d,e,n,h,r),k&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${o}`),(k||S)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,S?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(h.res=d,h.usedParams=this.getUsedParamsDetails(n),h):d}extendTranslation(e,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=$(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let h=r.replace&&!$(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),u){const d=e.match(this.interpolator.nestingRegexp),p=d&&d.length;c<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];return s&&s[0]===p[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):o.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=$(a)?[a]:a;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=S_.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,a;return $(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;i=c;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const d=n.count!==void 0&&!$(n.count),p=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),g=n.context!==void 0&&($(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(_=>{this.isValidLookup(r)||(a=_,!zy[`${x[0]}-${_}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(zy[`${x[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${x.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(y=>{if(this.isValidLookup(r))return;o=y;const m=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(m,c,y,_,n);else{let S;d&&(S=this.pluralResolver.getSuffix(y,n.count,n));const k=`${this.options.pluralSeparator}zero`,b=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(m.push(c+S),n.ordinal&&S.indexOf(b)===0&&m.push(c+S.replace(b,this.options.pluralSeparator)),p&&m.push(c+k)),g){const E=`${c}${this.options.contextSeparator}${n.context}`;m.push(E),d&&(m.push(E+S),n.ordinal&&S.indexOf(b)===0&&m.push(E+S.replace(b,this.options.pluralSeparator)),p&&m.push(E+k))}}let v;for(;v=m.pop();)this.isValidLookup(r)||(s=v,r=this.getResource(y,_,v,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!$(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const cc=t=>t.charAt(0).toUpperCase()+t.slice(1);class Uy{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Zt.create("languageUtils")}getScriptPartFromCode(e){if(e=Cl(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Cl(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if($(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=cc(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=cc(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=cc(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),$(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return $(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):$(e)&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let CM=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],kM={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const bM=["v1","v2","v3"],EM=["v4"],$y={zero:0,one:1,two:2,few:3,many:4,other:5},TM=()=>{const t={};return CM.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:kM[e.fc]}})}),t};class NM{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Zt.create("pluralResolver"),(!this.options.compatibilityJSON||EM.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=TM(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=Cl(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[s]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>$y[i]-$y[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!bM.includes(this.options.compatibilityJSON)}}const Wy=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=mM(t,e,n);return!s&&i&&$(n)&&(s=Ud(t,n,r),s===void 0&&(s=Ud(e,n,r))),s},dc=t=>t.replace(/\$/g,"$$$$");class PM{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Zt.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:h,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:x,nestingOptionsSeparator:_,maxReplaces:y,alwaysFormat:m}=e.interpolation;this.escape=n!==void 0?n:yM,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?zr(s):o||"{{",this.suffix=a?zr(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?zr(d):p||zr("$t("),this.nestingSuffix=g?zr(g):x||zr(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=y||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const y=Wy(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...n,interpolationkey:p}):y}const g=p.split(this.formatSeparator),x=g.shift().trim(),_=g.join(this.formatSeparator).trim();return this.format(Wy(n,l,x,this.options.keySeparator,this.options.ignoreJSONStructure),_,r,{...i,...n,interpolationkey:x})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>dc(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?dc(this.escape(p)):dc(p)}].forEach(p=>{for(a=0;s=p.regex.exec(e);){const g=s[1].trim();if(o=u(g),o===void 0)if(typeof c=="function"){const _=c(e,s,i);o=$(_)?_:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))o="";else if(h){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),o="";else!$(o)&&!this.useRawValueToEscape&&(o=Dy(o));const x=p.safeValue(o);if(e=e.replace(s[0],x),h?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;const a=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const h=l.split(new RegExp(`${c}[ ]*{`));let d=`{${h[1]}`;l=h[0],d=this.interpolate(d,o);const p=d.match(/'/g),g=d.match(/"/g);(p&&p.length%2===0&&!g||g.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),u&&(o={...u,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${c}${d}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!$(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=c.shift(),l=c,u=!0}if(s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&!$(s))return s;$(s)||(s=Dy(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),u&&(s=l.reduce((c,h)=>this.format(c,h,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const IM=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=a.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},Ur=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=e[o];return a||(a=t(Cl(r),i),e[o]=a),a(n)}};class AM{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Zt.create("formatter"),this.options=e,this.formats={number:Ur((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:Ur((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:Ur((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:Ur((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:Ur((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Ur(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{const{formatName:u,formatOptions:c}=IM(l);if(this.formats[u]){let h=a;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},p=d.locale||d.lng||i.locale||i.lng||r;h=this.formats[u](a,p,{...c,...i,...d})}catch(d){this.logger.warn(d)}return h}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}const RM=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class LM extends cu{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Zt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},l={};return e.forEach(u=>{let c=!0;n.forEach(h=>{const d=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,c=!1,o[d]===void 0&&(o[d]=!0),s[d]===void 0&&(s[d]=!0),l[h]===void 0&&(l[h]=!0)))}),c||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{pM(l.loaded,[s],o),RM(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const c=l.loaded[u];c.length&&c.forEach(h=>{a[u][h]===void 0&&(a[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(c=>a(null,c)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();$(e)&&(e=this.languageUtils.toResolveHierarchy(e)),$(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,n,r,i,l):c=u(e,n,r,i),c&&typeof c.then=="function"?c.then(h=>a(null,h)).catch(a):a(null,c)}catch(c){a(c)}else u(e,n,r,i,a,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const Hy=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),$(t[1])&&(e.defaultValue=t[1]),$(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Gy=t=>($(t.ns)&&(t.ns=[t.ns]),$(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),$(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),na=()=>{},MM=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class uo extends cu{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Gy(e),this.services={},this.logger=Zt,this.modules={external:[]},MM(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&($(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=Hy();this.options={...i,...this.options,...Gy(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const s=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Zt.init(s(this.modules.logger),this.options):Zt.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=AM);const h=new Uy(this.options);this.store=new By(this.options.resources,this.options);const d=this.services;d.logger=Zt,d.resourceStore=this.store,d.languageUtils=h,d.pluralResolver=new NM(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=s(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new PM(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new LM(s(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(p){for(var g=arguments.length,x=new Array(g>1?g-1:0),_=1;_<g;_++)x[_-1]=arguments[_];e.emit(p,...x)}),this.modules.languageDetector&&(d.languageDetector=s(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=s(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new bl(this.services,this.options),this.translator.on("*",function(p){for(var g=arguments.length,x=new Array(g>1?g-1:0),_=1;_<g;_++)x[_-1]=arguments[_];e.emit(p,...x)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=na),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=ts(),u=()=>{const c=(h,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),r(h,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:na;const i=$(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const i=ts();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=na),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&S_.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=ts();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=$(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{o(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,n,r){var i=this;const s=function(o,a){let l;if(typeof a!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),h=2;h<u;h++)c[h-2]=arguments[h];l=i.options.overloadTranslationOptionHandler([o,a].concat(c))}else l={...a};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const d=i.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(o)?p=o.map(g=>`${l.keyPrefix}${d}${g}`):p=l.keyPrefix?`${l.keyPrefix}${d}${o}`:o,i.t(p,l)};return $(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=ts();return this.options.ns?($(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=ts();$(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Uy(Hy());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new uo(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:na;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new uo(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new By(this.store.data,i),s.services.resourceStore=s.store),s.translator=new bl(s.services,i),s.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];s.emit(a,...u)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ye=uo.createInstance();Ye.createInstance=uo.createInstance;Ye.createInstance;Ye.dir;Ye.init;Ye.loadResources;Ye.reloadResources;Ye.use;Ye.changeLanguage;Ye.getFixedT;Ye.t;Ye.exists;Ye.setDefaultNamespace;Ye.hasLoadedNamespace;Ye.loadNamespaces;Ye.loadLanguages;const jM={greeting:"Hi, I'm",name:"Jermiah Jerome",title:"AI & ML Engineer",titles:["AI & ML Engineer","Multi-Agent Systems Developer","Language Models and NLP Specialist"],typewriter:{loop:!0,speedMs:100,deleteSpeedMs:50,pauseMs:2e3},subtitle:"Forever learning, forever deploying  shaping the future of efficient AI and intelligent agents.",cta:{github:"GitHub",linkedin:"LinkedIn"},links:{resume:"https://drive.google.com/file/d/1LeRR5GtDGdwTmHqf8iuWJakWj5OQ3cnT/view?usp=sharing",github:"https://github.com/jermiah",linkedin:"https://www.linkedin.com/in/jermiah-jerome/"}},DM={overview:"Overview",skills:"Skills",education:"Education",experience:"Experience",certifications:"Certifications",projects:"Projects",research:"Research & Thesis",opensource:"Open Source",showcase:"Showcase"},OM={title:"Want to Hire Me?",subtitle:"Fill out the form below and I'll send you a tailored resume for your role.",email:"jermiah.jerome96@gmail.com",phone:"+33 783719197"},FM={title:"Overview",content:["Im an AI Engineer passionate about building compact, efficient systems that blend rules, retrieval, and generation. My interests span supervised fine-tuning of small language models, reinforcement-driven reasoning, and multi-agent orchestration for business-focused AI automation","My technical expertise includes supervised fine-tuning (SFT), policy-gradient reinforcement learning, retrieval-augmented generation (RAG), and agent orchestration. I focus on designing cost-efficient yet interpretable systems for applied reasoning and conversational workflows."],highlights:{title:"Core Focus Areas",items:[{title:"Small & Efficient Language Models",description:"Designing compact SLMs with supervised fine-tuning (SFT) and Group Relative Policy Optimization (GRPO) for domain-specific automation."},{title:"Multi-Agent Orchestration",description:"Developing modular, auditable agent systems for contextual decision-making and workflow automation."},{title:"Hybrid AI Research",description:"Exploring rule-first and LLM-fallback architectures that improve reliability, cost-efficiency, and interpretability in production."}]},featured:{title:"Research Highlight",description:"Exploring efficient intent-routing agent and recursive reasoning in small models"},closing:"My goal is to bridge applied AI engineering with practical use cases  building systems that are faster, safer, and smarter."},VM={title:"Skills",categories:[{name:"Expertise",items:["Machine Learning & Deep Learning","Fine Tuning & Prompt Engineering","Natural Language Processing (NLP)","Language Models (LLMs & SLMs)","Reinforcement Leanring (GRPO)","Retrieval-Augmented Generation (RAG)","Multi-Agent Systems & Orchestration","Evaluation and Benchmarking","Applied AI for Business Automation"]},{name:"Professional",items:["AI System Design","Technical Research & Prototyping","Cross-functional Collaboration","Product Management","Problem Solving & Decision Making","Agile & Scrum Methodologies","Data Analysis & Visualization","Technical Communication","Mentoring & Leadership"]},{name:"Technical",items:["Python, R, SQL, NoSQL","PyTorch, Transformers, LangChain, LangGraph","FastAPI, Streamlit, Gradio","Arize, Weights & Biases, LangFuse","LoRA, QLoRA, bitsandbytes","Git, Docker, Hugging Face, MCP, A2A","AWS, GCP, Firebase","Power BI, Tableau, Advance Excel"]}]},BM={title:"Education",items:[{school:"emlyon business school  McGill University",degree:"MSc in Data Science & AI Strategy",period:"20242025",location:"Paris, France & Montreal, Canada",description:"emlyon: CGE Accredited, EQUIS/AMBA/AACSB Triple Crown. McGill: globally recognized for AI and data science excellence.",links:{emlyon:"https://em-lyon.com/en",mcgill:"https://www.mcgill.ca/"}},{school:"Thiagarajar School of Management",degree:"MBA in Finance & Analytics",period:"20192021",location:"Madurai, India",description:"Ranked among the top private B-schools in South India.",links:{school:"https://tsm.ac.in"}},{school:"National Institute of Technology, Tiruchirappalli",degree:"BTech in Computer Science and Engineering",period:"20142018",location:"Tiruchirappalli, India",description:"One of Indias top 10 engineering institutes (NIRF Rankings).",links:{school:"https://www.nitt.edu/"}}]},zM={title:"Experience",items:[{company:"Daijobu AI",position:"AI Engineer (Intern)",period:"July 2025  Present",location:"Paris, France",description:["Researching efficient small language model (SLM) architectures for real-world deployment and reasoning efficiency.","Developing end-to-end ML solutions  data pipelines, API integrations, and fine-tuning small models using SFT, GRPO, and quantization.","Building a dynamic questionnaire-to-solution agent framework that captures business pain points and generates automated deliverables.","Collaborating with clients to refine agentic AI workflows aligned with responsible AI principles and cost-efficient inference."]},{company:"Conversy AI",position:"Student Founder",period:"August 2025  Present",location:"Paris, France",description:["Designing a multi-agent orchestration platform using MCP servers for dynamic task routing, evaluation, and observability.","Leading an international dev team to build scalable SaaS infrastructure enabling small businesses to create custom AI agents within minutes.","Developing agentic features such as intent routing, RAG-based product search, and automated booking & payment workflows.","Driving research on hybrid rules + LLM architectures for intent-aware automation and conversational commerce."]},{company:"HSBC",position:"Assistant Manager  Product Management",period:"December 2022  August 2024",location:"Bangalore, India",description:["Ensured compliance and mitigated regulatory risks for global electronic and audio communication surveillance across two products, minimizing operational vulnerabilities.","Led data assurance projects including deployments, migrations, and integrations, reducing data issues by 80%, optimizing workflows to ensure data accuracy, reliability, and regulatory compliance, and maintaining seamless data delivery by global stakeholders.","Designed and automated global KPI dashboards for data quality reporting, collectively saving 0.2 FTE annually while enhancing transparency across stakeholders.","Configured JIRA for issue backlogs and custodian processes, streamlining workflows and improving operational efficiency by 20%."]},{company:"BNP Paribas GSO",position:"Data Quality Associate",period:"June 2021  October 2022",location:"Chennai, India",description:["Enhanced trade reference data accuracy through data profiling, achieving 100% NAV calculation precision.","Automated workflows that reduced manual processing time by 80% and errors by 95%, earning the Kaizen Award for Innovation.","Built dashboards to monitor data quality KPIs and improve visibility for global stakeholders."]},{company:"Enprou Technologies India Pvt. Ltd.",position:"Project Finance Trainee",period:"May 2018  June 2019",location:"Trichy, India",description:["Performed cash flow and budget analysis to identify cost-saving measures, reducing project expenses by 15%.","Streamlined procurement and financial tracking processes to ensure smooth project execution."]}]},UM={title:"Certifications",items:[{name:"AWS Certified Cloud Practitioner",issuer:"Amazon Web Services",status:"Certified"},{name:"Certified Scrum Product Owner (CSPO)",issuer:"Scrum.org",status:"Certified"},{name:"AWS Machine Learning Specialty",issuer:"Amazon Web Services",status:"Soon"}]},$M={title:"Projects",professional:{title:"Professional",categories:[{name:"Ongoing Projects",categories:[{name:"Agent Projects",items:[{title:"ConversyAI (Multi-Agent SaaS)",description:"A multi-agent conversational commerce platform with intent routing, RAG-powered product search, and automated booking workflows. Built with LangChain, Qdrant, and FastAPI.",tags:["Multi-Agent","RAG","LangChain","FastAPI","Qdrant"]},{title:"Document Organizer Agent",description:"An intelligent agent that automatically categorizes, tags, and organizes documents using vision-language models and semantic search. Supports PDFs, images, and text files.",tags:["Agent","VLM","Document AI","Automation"]}]},{name:"Research & Development",items:[{title:"Intent-Routing Agent for E-Commerce",description:"Building a hybrid rules-first + LLM fallback system for conversational commerce with sub-100ms latency.",tags:["Intent Routing","Hybrid AI","Low Latency"]}]}]},{name:"In-Company Projects",items:[{title:"AI Strategy Copilot @ Prosol",description:"A Streamlit + LLM-powered assistant for retail product strategy using RAG, unsupervised learning, feedback loops, and advanced prompt engineering.",links:{code:"https://github.com/jermiah/Product-Strategy-App/blob/main/README.md",demo:"https://www.linkedin.com/posts/jermiah-jerome_ai-retail-streamlit-activity-7313457551096827904-baIb"},tags:["LLM","RAG","Streamlit","Product Strategy"]},{title:"Business White Paper Research @ BNP Paribas",description:"Strategic Adoption of Open-Source Multimodal Enterprise RAG: Challenges, KPIs, and Business Impact. Focused on evaluating use cases, performance benchmarks, and implementation pathways for enterprise AI agents in banking.",tags:["Research","RAG","Enterprise AI","Banking"]}]},{name:"AI & Agent Projects",items:[{title:"Prosecting & Diagnostic Agent",description:"An AI-powered prospecting and diagnostic agent that engages website visitors through an intelligent questionnaire to capture business needs and automatically generate tailored AI solution proposals. It leverages structured reasoning, and domain-specific templates to analyze responses, identify pain points, match relevant use cases, and produce a personalized PDF summary with proposed solutions and sent via email.",links:{code:"https://github.com/jermiah/rfp-prospecting-agent"},tags:["B2B","CoT","Reasoning","Agent"]},{title:"OQL Generation Model (Fine-Tuning & GRPO)",description:"Deployed a compact small language model fine-tuned to generate optimized OQL queries from structured schema and natural-language requests. The project involves supervised fine-tuning and GRPO reinforcement to improve logical reasoning, query correctness, and efficiency. It explores advanced inference optimization using quantization and high-performance engines like vLLM for GPU environments, enabling fast, accurate OQL generation across varied schemas, differnet languages, and complex queries.",links:{code:"https://github.com/jermiah/oql-generation-model"},tags:["LLM","Fine-Tuning","GRPO","OQL","Inference","Quantization"]}]}]},personal:{title:"Personal",categories:[{name:"Ongoing Projects",categories:[{name:"AI Projects",items:[{title:"AI Writing Assistant",description:"Developing a context-aware writing assistant that helps with technical documentation, blog posts, and research papers.",tags:["NLP","Writing","Productivity"]}]}]},{name:"AI Projects",items:[{title:"QA Intelligent System",description:"Developed an intelligent cybersecurity question-answering pipeline capable of predicting accurate, personalized responses to unseen compliance questions. The system integrates exact-match lookup, logistic regression classification, hybrid retrieval (BM25 + FAISS), cross-encoder reranking, and controlled LLM answer generation using Mistral-7B. It ensures factual, hallucination-free answers through multi-stage reranking and context-aware inference, achieving >90% accuracy across user-specific predictions.",links:{code:"https://github.com/jermiah/LLM-and-RAG/blob/main/QA_Intelligent_System/README.md"},tags:["RAG","Knowledge Management","Personal AI"]},{title:"Cogniscope  Unified LLM & VLM Evaluation Suite",description:"A lightweight benchmarking and analysis suite for evaluating large language and vision-language models via OpenRouter. Cogniscope provides a unified tool to assess model output quality, reasoning strength, audio/video transcription accuracy, and multimodal understanding. It enables detailed model-to-model comparisons with task-level cost tracking, token usage analytics, latency insights, and capability visualizations  all in one transparent dashboard.",links:{code:"https://github.com/jermiah/Cogniscope"},tags:["OpenRouter","LLM","VLM","Benchmarking","Evaluation","AI Metrics","Model Comparison"]}]},{name:"Machine Learning & Data Science Projects",items:[{title:"Bankruptcy Prediction",description:"Built classification models using ensemble techniques (Logistic Regression + XGBoost) to detect bankruptcy in imbalanced datasets.",links:{code:"https://github.com/jermiah/machine_learning/blob/main/README.md"},tags:["Classification","XGBoost","Ensemble Learning"]},{title:"Length of Stay Prediction",description:"Developed classification models using Random Forest, XGBoost, and CatBoost to estimate hospital stay duration and optimize healthcare resource allocation.",tags:["Healthcare","Random Forest","CatBoost"]},{title:"Cool Wipes - Linear Programming",description:"Supply chain optimization using Gurobi for optimal plant location and demand satisfaction.",tags:["Optimization","Supply Chain","Gurobi"]}]},{name:"Deep Learning Projects",items:[{title:"Speaker Recognition",description:"Speaker identification using ECAPA-TDNN embeddings and a hybrid approach combining classification (neural network) and verification (cosine similarity). Features Gradio demo, audio preprocessing with torchaudio, and SpeechBrain embeddings.",links:{code:"https://github.com/jermiah/deep_learning/blob/main/README.md"},tags:["Audio","ECAPA-TDNN","SpeechBrain"]},{title:"Sentiment Classification (BERT)",description:"NLP classification using fine-tuned BERT on IMDb movie review sentiments. Built with HuggingFace Transformers, includes tokenization, attention masking, and model evaluation.",tags:["NLP","BERT","Transformers"]},{title:"Image Classification",description:"Image recognition using transfer learning (ResNet). Features data augmentation, training visualization, and evaluation metrics for custom datasets.",tags:["Computer Vision","ResNet","Transfer Learning"]}]}]}},WM={title:"Research & Thesis",categories:[{name:"Ongoing Works",items:[{title:"Tiny Recursive Reasoning Lab",description:"Implementing recursive reasoning for small models using PyTorch + Hugging Face, enhancing depth without scaling compute. Exploring how compact models can achieve deeper reasoning through iterative refinement.",links:{code:"https://github.com/jermiah/TinyRecursiveReasoningLab"},tags:["PyTorch","Recursive Reasoning","SLM","Research"]},{title:"Frugal AI: Buidling Efficient On-Device Reasoning SLM",description:"Exploring energy-efficient and privacy-safe reasoning for on-device AI systems using small model architectures. Focus on quantization, pruning, and knowledge distillation for edge deployment.",tags:["Edge AI","Quantization","Privacy","Efficiency","Research","Recursive Reasoning"]},{title:"Master's Thesis: Intent-Routing Agent for Conversational Commerce",description:"Designing a hybrid, rules-first intent-routing agent for conversational commerce that classifies and executes user intents (RAG, order, booking) with a lightweight LLM fallback. The system emphasizes auditability, low latency, and cost-efficient reasoning.",tags:["Intent Routing","Hybrid AI","Conversational Commerce","Thesis"]}]},{name:"Completed Works",items:[]}]},HM={title:"Open Source",categories:[{name:"Completed Works",items:[{title:"Goose CLI  Enhanced Edition",description:"A Rust-based coding assistant improving prompt engineering, system metrics, and runtime observability for AI agents. Features v2 system/subagent prompts, file-level metrics, and switchable runtime prompts.",links:{code:"https://github.com/jermiah/goose_jerry"},tags:["Rust","Prompt Engineering","Metrics","CLI"]}]},{name:"Ongoing Works",items:[{title:"Conversy LLM SDK",description:"A lightweight SDK for RAG pipelines and multi-agent orchestration with vector search, adaptive embeddings, and Phoenix tracing. Multi-tenant architecture with Qdrant filter translator and retrieval adapters.",links:{code:"https://github.com/jermiah/conversy-sdk"},tags:["SDK","RAG","Tracing","Qdrant","Multi-Agent"]}]}]},GM={title:"Masters Thesis",subtitle:"An Intent-Routing Agent for Conversational Commerce",university:"emlyon business school",year:"2025",description:"Designing a hybrid, rules-first intent-routing agent for conversational commerce that classifies and executes user intents (RAG, order, booking) with a lightweight LLM fallback. The system emphasizes auditability, low latency, and cost-efficient reasoning.",objectives:["Develop a compact router using deterministic rules and a fallback small model for ambiguous cases.","Normalize entity extraction (dates, quantities, contacts) via hybrid ruleLLM methods.","Integrate a mini RAG layer for PDF and spreadsheet data to handle product and service information retrieval.","Evaluate the agent for routing accuracy, end-to-end success, latency, cost, and safety metrics."],keywords:["Intent Routing","Hybrid AI Systems","Conversational Commerce","Rules-First Logic","LLM Fallback","Auditability & Evaluation"],expectedContributions:["A small, auditable routing agent achieving high accuracy and cost efficiency.","Reusable datasets and evaluation scripts for conversational routing tasks.","Evidence supporting rules-first + small-LLM hybrid architectures for reliable AI workflows."],link:"https://github.com/jermiah"},KM={title:"Open-Source Contributions",items:[{project:"Conversy LLM SDK (Upcoming)",repo:"https://github.com/jermiah",tags:["SDK","RAG","Tracing","Qdrant"],highlights:["Multi-tenant architecture with Phoenix tracing","Qdrant filter translator and retrieval adapters","Adaptive embeddings for vector reasoning"]},{project:"Goose CLI  Enhanced Edition",repo:"https://github.com/jermiah/goose_jerry",tags:["Rust","Prompt Engineering","Metrics","CLI"],highlights:["v2 system/subagent prompts","File-level metrics and analytics","Switchable runtime prompts via environment variables"]},{project:"Tiny Recursive Reasoning Lab",repo:"https://github.com/jermiah/TinyRecursiveReasoningLab",tags:["PyTorch","Recursive Reasoning","SLM"],highlights:["Implements TRM reasoning for small models","Integrated with Hugging Face Transformers","Focus on efficiency and reasoning quality"]}]},qM={title:"Showcase",awards:{title:"Awards",items:["Antares Award  BNP Paribas: Outstanding Performance","Spirit of Kaizen  Process Automation","Spirit of Kaizen  Data Quality Reporting","NTSE Scholar (India)  NCERT Award for Academic Excellence"]},community:{title:"Community Builder",description:"Creator of the Paris AI & Tech Community",link:"https://www.linkedin.com/posts/jermiah-jerome_paris-ai-tech-community-members-activity-7303817496346730496-QNPT"},hackathons:{title:"Hackathons & Challenges",items:[{name:" Winner  Blackbox AI  42AI Agents Hackathon",link:"https://www.linkedin.com/posts/jermiah-jerome_42ai-hackathon-artificialintelligence-activity-7370742726318845952-EmpO?utm_source=share&utm_medium=member_desktop&rcm=ACoAACq09WUBzILj3ZIoG_SJNGbuRMhzVPyVcHs"},{name:" Winner  Paris Open Build (Mistral + Windsurf)",link:"https://www.linkedin.com/posts/jermiah-jerome_ai-vibecoding-aiagents-activity-7368768781667467264-7_at?utm_source=share&utm_medium=member_desktop&rcm=ACoAACq09WUBzILj3ZIoG_SJNGbuRMhzVPyVcHs"},{name:"Novartis AI Hackathon",link:""},{name:"Sopra Steria AI Challenge",link:""},{name:"L'Oral Brandstorm 2025",link:""}]},events:{title:"Workshop & Events",attended:{title:"Attended",items:[{name:"Google Gemini Workshop",link:""},{name:"AWS Summit Paris",link:""},{name:"Web Summit Lisbon",link:""},{name:"AI Developers Meetup  Station F",link:""},{name:"French State of AI  Google Paris",link:""}]},conducted:{title:"Conducted",items:[{name:"Daijobu AI Moment: Speaking on the Future of AI & Software",link:"https://www.linkedin.com/posts/jermiah-jerome_ai-slm-llm-activity-7377282309630332928-vX0m?utm_source=share&utm_medium=member_desktop&rcm=ACoAACq09WUBzILj3ZIoG_SJNGbuRMhzVPyVcHs"}]}}},QM={message:" Building reasoning-efficient AI thats fast, reliable, and explainable.",copyright:" 2025 Jermiah Jerome. Built with React, Vite, and "},YM={text:"Recommend Me",tooltip:"Each click makes my day brighter ",counter:"Total recommendations: {count}"},XM={hireMe:"Let's collaborate! Your satisfaction is my commitment ",fork:"Love this portfolio? Fork it and make it yours! ",theme:"Switch between light and dark  I adapt to your preference ",language:"Parlez-vous franais? Switch languages seamlessly "},JM={hero:jM,nav:DM,contact:OM,overview:FM,skills:VM,education:BM,experience:zM,certifications:UM,projects:$M,research:WM,opensource:HM,thesis:GM,openSource:KM,showcase:qM,footer:QM,likeButton:YM,tooltips:XM},ZM={greeting:"Bonjour, je suis",name:"Jermiah Jerome",title:"Ingnieur IA & ML",titles:["Ingnieur IA & ML","Dveloppeur de Systmes Multi-Agents","Spcialiste des Modles de Langage et du NLP"],typewriter:{loop:!0,speedMs:100,deleteSpeedMs:50,pauseMs:2e3},subtitle:"Toujours en apprentissage, toujours en dploiement  faonner l'avenir de l'IA efficace et des agents intelligents.",cta:{github:"GitHub",linkedin:"LinkedIn"},links:{resume:"https://drive.google.com/file/d/1LeRR5GtDGdwTmHqf8iuWJakWj5OQ3cnT/view?usp=sharing",github:"https://github.com/jermiah",linkedin:"https://www.linkedin.com/in/jermiah-jerome/"}},ej={overview:"Aperu",skills:"Comptences",education:"Formation",experience:"Exprience",certifications:"Certifications",projects:"Projets",research:"Recherche & Thse",opensource:"Open Source",showcase:"Vitrine"},tj={title:"Envie de me recruter ?",subtitle:"Remplissez le formulaire ci-dessous et je vous enverrai un CV adapt  votre poste.",email:"jermiah.jerome96@gmail.com",phone:"+33 783719197"},nj={title:"Aperu",content:["Je suis un Ingnieur IA passionn par la construction de systmes compacts et efficaces qui combinent rgles, rcupration et gnration. Mes centres d'intrt couvrent l'ajustement supervis de petits modles de langage, le raisonnement par renforcement, et l'orchestration multi-agents pour l'automatisation d'entreprise axe sur l'IA.","Mon expertise technique comprend l'ajustement supervis (SFT), l'apprentissage par renforcement  gradient de politique, la gnration augmente par rcupration (RAG), et l'orchestration d'agents. Je me concentre sur la conception de systmes rentables et interprtables pour le raisonnement appliqu et les flux conversationnels."],highlights:{title:"Domaines d'expertise principaux",items:[{title:"Modles de Langage Petits & Efficaces",description:"Conception de SLM compacts avec ajustement supervis (SFT) et Group Relative Policy Optimization (GRPO) pour l'automatisation spcifique  un domaine."},{title:"Orchestration Multi-Agents",description:"Dveloppement de systmes d'agents modulaires et auditables pour la prise de dcision contextuelle et l'automatisation des flux de travail."},{title:"Recherche IA Hybride",description:"Exploration d'architectures rgles-d'abord et LLM-de-secours qui amliorent la fiabilit, la rentabilit et l'interprtabilit en production."}]},featured:{title:"Point de Recherche",description:"Explorer un agent de routage d'intention efficace et le raisonnement rcursif dans les petits modles"},closing:"Mon objectif est de combler l'ingnierie IA applique avec des cas d'usage pratiques  construire des systmes plus rapides, plus srs et plus intelligents."},rj={title:"Comptences",categories:[{name:"Expertise",items:["Apprentissage Automatique & Deep Learning","Fine-Tuning & Ingnierie de Prompts","Traitement du Langage Naturel (NLP)","Modles de Langage (LLM & SLM)","Apprentissage par Renforcement (GRPO)","Gnration Augmente par Rcupration (RAG)","Systmes Multi-Agents & Orchestration","valuation et Benchmarking","IA Applique pour l'Automatisation d'Entreprise"]},{name:"Professionnel",items:["Conception de Systmes IA","Recherche Technique & Prototypage","Collaboration Interfonctionnelle","Gestion de Produit","Rsolution de Problmes & Prise de Dcision","Mthodologies Agile & Scrum","Analyse & Visualisation de Donnes","Communication Technique","Mentorat & Leadership"]},{name:"Technique",items:["Python, R, SQL, NoSQL","PyTorch, Transformers, LangChain, LangGraph","FastAPI, Streamlit, Gradio","Arize, Weights & Biases, LangFuse","LoRA, QLoRA, bitsandbytes","Git, Docker, Hugging Face, MCP, A2A","AWS, GCP, Firebase","Power BI, Tableau, Excel Avanc"]}]},ij={title:"Formation",items:[{school:"emlyon business school  McGill University",degree:"MSc en Data Science & Stratgie IA",period:"20242025",location:"Paris, France & Montral, Canada",description:"emlyon : Accrdit CGE, Triple Couronne EQUIS/AMBA/AACSB. McGill : reconnue mondialement pour l'excellence en IA et data science.",links:{emlyon:"https://em-lyon.com/en",mcgill:"https://www.mcgill.ca/"}},{school:"Thiagarajar School of Management",degree:"MBA en Finance & Analytics",period:"20192021",location:"Madurai, Inde",description:"Classe parmi les meilleures coles de commerce prives du Sud de l'Inde.",links:{school:"https://tsm.ac.in"}},{school:"National Institute of Technology, Tiruchirappalli",degree:"BTech en Informatique et Ingnierie",period:"20142018",location:"Tiruchirappalli, Inde",description:"L'un des 10 meilleurs instituts d'ingnierie de l'Inde (Classement NIRF).",links:{school:"https://www.nitt.edu/"}}]},sj={title:"Exprience",items:[{company:"Daijobu AI",position:"Ingnieur IA (Stagiaire)",period:"Juillet 2025  Prsent",location:"Paris, France",description:["Recherche sur les architectures de petits modles de langage (SLM) efficaces pour le dploiement rel et l'efficacit du raisonnement.","Dveloppement de solutions ML de bout en bout  pipelines de donnes, intgrations API, et ajustement de petits modles avec SFT, GRPO et quantification.","Construction d'un framework d'agent dynamique questionnaire--solution qui capture les points de douleur mtier et gnre des livrables automatiss.","Collaboration avec les clients pour affiner les flux de travail d'IA agentique aligns sur les principes d'IA responsable et l'infrence rentable."]},{company:"Conversy AI",position:"Fondateur tudiant",period:"Aot 2025  Prsent",location:"Paris, France",description:["Conception d'une plateforme d'orchestration multi-agents utilisant des serveurs MCP pour le routage dynamique des tches, l'valuation et l'observabilit.","Direction d'une quipe de dveloppement internationale pour construire une infrastructure SaaS volutive permettant aux petites entreprises de crer des agents IA personnaliss en quelques minutes.","Dveloppement de fonctionnalits agentiques telles que le routage d'intention, la recherche de produits base sur RAG, et les flux de rservation et paiement automatiss.","Recherche sur les architectures hybrides rgles + LLM pour l'automatisation consciente de l'intention et le commerce conversationnel."]},{company:"HSBC",position:"Assistant Manager  Gestion de Produit",period:"Dcembre 2022  Aot 2024",location:"Bangalore, Inde",description:["Direction de projets d'automatisation et d'assurance pour la qualit des donnes et la conformit rglementaire dans la surveillance mondiale des communications lectroniques.","Rduction de 80% des problmes de donnes grce  l'optimisation des flux de travail et l'automatisation des processus sur deux produits cls.","Conception et dploiement de tableaux de bord KPI automatiss, conomisant 0,2 ETP par an et amliorant la transparence pour les quipes mondiales.","Optimisation des flux de travail JIRA pour la gestion des problmes et le suivi des dpositaires, amliorant l'efficacit oprationnelle de 20%."]},{company:"BNP Paribas GSO",position:"Associ Qualit de Donnes",period:"Juin 2021  Octobre 2022",location:"Chennai, Inde",description:["Amlioration de la prcision des donnes de rfrence commerciales grce au profilage de donnes, atteignant 100% de prcision de calcul NAV.","Automatisation des flux de travail rduisant le temps de traitement manuel de 80% et les erreurs de 95%, remportant le Prix Kaizen pour l'Innovation.","Construction de tableaux de bord pour surveiller les KPI de qualit des donnes et amliorer la visibilit pour les parties prenantes mondiales."]},{company:"Enprou Technologies India Pvt. Ltd.",position:"Stagiaire Finance de Projet",period:"Mai 2018  Juin 2019",location:"Trichy, Inde",description:["Analyse des flux de trsorerie et du budget pour identifier les mesures d'conomie, rduisant les dpenses du projet de 15%.","Rationalisation des processus d'approvisionnement et de suivi financier pour assurer une excution fluide du projet."]}]},oj={title:"Certifications",items:[{name:"AWS Certified Cloud Practitioner",issuer:"Amazon Web Services",status:"Certifi"},{name:"Certified Scrum Product Owner (CSPO)",issuer:"Scrum.org",status:"Certifi"},{name:"AWS Machine Learning Specialty",issuer:"Amazon Web Services",status:"Bientt"}]},aj={title:"Projets",professional:{title:"Professionnel",categories:[{name:"Projets en cours",categories:[{name:"Projets d'Agents",items:[{title:"ConversyAI (SaaS Multi-Agents)",description:"Une plateforme de commerce conversationnel multi-agents avec routage d'intention, recherche de produits alimente par RAG, et flux de rservation automatiss. Construit avec LangChain, Qdrant et FastAPI.",tags:["Multi-Agent","RAG","LangChain","FastAPI","Qdrant"]},{title:"Agent Organisateur de Documents",description:"Un agent intelligent qui catgorise, tiquette et organise automatiquement les documents  l'aide de modles de langage visuel et de recherche smantique. Prend en charge les PDF, images et fichiers texte.",tags:["Agent","VLM","Document AI","Automatisation"]}]},{name:"Recherche & Dveloppement",items:[{title:"Agent de Routage d'Intention pour l'E-Commerce",description:"Construction d'un systme hybride rgles-d'abord + LLM de secours pour le commerce conversationnel avec une latence infrieure  100ms.",tags:["Routage d'Intention","IA Hybride","Faible Latence"]}]}]},{name:"Projets en Entreprise",items:[{title:"Copilote de Stratgie IA @ Prosol",description:"Un assistant aliment par Streamlit + LLM pour la stratgie produit de dtail utilisant RAG, apprentissage non supervis, boucles de retour et ingnierie de prompts avance.",links:{code:"https://github.com/jermiah/Product-Strategy-App/blob/main/README.md",demo:"https://www.linkedin.com/posts/jermiah-jerome_ai-retail-streamlit-activity-7313457551096827904-baIb"},tags:["LLM","RAG","Streamlit","Stratgie Produit"]},{title:"Recherche Livre Blanc d'Entreprise @ BNP Paribas",description:"Adoption Stratgique du RAG d'Entreprise Multimodal Open-Source : Dfis, KPI et Impact Commercial. Focus sur l'valuation des cas d'usage, des benchmarks de performance et des parcours d'implmentation pour les agents IA d'entreprise dans la banque.",tags:["Recherche","RAG","IA d'Entreprise","Banque"]}]},{name:"Projets IA & Agents",items:[{title:"Agent de Prospection & Diagnostic",description:"Un agent de prospection et de diagnostic aliment par l'IA qui engage les visiteurs du site Web  travers un questionnaire intelligent pour capturer les besoins commerciaux et gnrer automatiquement des propositions de solutions IA sur mesure. Il exploite le raisonnement structur et des modles spcifiques au domaine pour analyser les rponses, identifier les points de douleur, faire correspondre les cas d'usage pertinents et produire un rsum PDF personnalis avec les solutions proposes et envoy par e-mail.",links:{code:"https://github.com/jermiah/rfp-prospecting-agent"},tags:["B2B","CoT","Raisonnement","Agent"]},{title:"Modle de Gnration OQL (Fine-Tuning & GRPO)",description:"Dploiement d'un petit modle de langage compact affin pour gnrer des requtes OQL optimises  partir de schmas structurs et de demandes en langage naturel. Le projet implique un ajustement supervis et un renforcement GRPO pour amliorer le raisonnement logique, l'exactitude des requtes et l'efficacit. Il explore l'optimisation avance de l'infrence en utilisant la quantification et des moteurs haute performance comme vLLM pour les environnements GPU, permettant une gnration OQL rapide et prcise  travers des schmas varis, diffrentes langues et des requtes complexes.",links:{code:"https://github.com/jermiah/oql-generation-model"},tags:["LLM","Fine-Tuning","GRPO","OQL","Infrence","Quantification"]}]}]},personal:{title:"Personnel",categories:[{name:"Projets en cours",categories:[{name:"Projets IA",items:[{title:"Assistant d'criture IA",description:"Dveloppement d'un assistant d'criture contextuel qui aide avec la documentation technique, les articles de blog et les articles de recherche.",tags:["NLP","criture","Productivit"]}]}]},{name:"Projets IA",items:[{title:"Systme Intelligent de Q&R",description:"Dveloppement d'un pipeline intelligent de questions-rponses en cyberscurit capable de prdire des rponses prcises et personnalises  des questions de conformit non vues. Le systme intgre une recherche par correspondance exacte, une classification par rgression logistique, une rcupration hybride (BM25 + FAISS), un reclassement par encodeur crois, et une gnration de rponses LLM contrle utilisant Mistral-7B. Il garantit des rponses factuelles et sans hallucination grce  un reclassement multi-tapes et une infrence contextuelle, atteignant >90% de prcision sur les prdictions spcifiques aux utilisateurs.",links:{code:"https://github.com/jermiah/LLM-and-RAG/blob/main/QA_Intelligent_System/README.md"},tags:["RAG","Gestion des Connaissances","IA Personnelle"]},{title:"Cogniscope  Suite Unifie d'valuation LLM & VLM",description:"Une suite lgre de benchmarking et d'analyse pour valuer les grands modles de langage et de vision-langage via OpenRouter. Cogniscope fournit un outil unifi pour valuer la qualit de sortie du modle, la force de raisonnement, la prcision de transcription audio/vido et la comprhension multimodale. Il permet des comparaisons dtailles modle--modle avec suivi des cots au niveau des tches, analyse de l'utilisation des tokens, aperus de latence et visualisations de capacits  le tout dans un tableau de bord transparent.",links:{code:"https://github.com/jermiah/Cogniscope"},tags:["OpenRouter","LLM","VLM","Benchmarking","valuation","Mtriques IA","Comparaison de Modles"]}]},{name:"Projets Machine Learning & Data Science",items:[{title:"Prdiction de Faillite",description:"Construction de modles de classification utilisant des techniques d'ensemble (Rgression Logistique + XGBoost) pour dtecter la faillite dans des ensembles de donnes dsquilibrs.",links:{code:"https://github.com/jermiah/machine_learning/blob/main/README.md"},tags:["Classification","XGBoost","Apprentissage d'Ensemble"]},{title:"Prdiction de Dure de Sjour",description:"Dveloppement de modles de classification utilisant Random Forest, XGBoost et CatBoost pour estimer la dure de sjour hospitalier et optimiser l'allocation des ressources de sant.",tags:["Sant","Random Forest","CatBoost"]},{title:"Cool Wipes - Programmation Linaire",description:"Optimisation de la chane d'approvisionnement utilisant Gurobi pour l'emplacement optimal des usines et la satisfaction de la demande.",tags:["Optimisation","Chane d'Approvisionnement","Gurobi"]}]},{name:"Projets Deep Learning",items:[{title:"Reconnaissance du Locuteur",description:"Identification du locuteur utilisant des embeddings ECAPA-TDNN et une approche hybride combinant classification (rseau neuronal) et vrification (similarit cosinus). Comprend une dmo Gradio, prtraitement audio avec torchaudio, et embeddings SpeechBrain.",links:{code:"https://github.com/jermiah/deep_learning/blob/main/README.md"},tags:["Audio","ECAPA-TDNN","SpeechBrain"]},{title:"Classification de Sentiment (BERT)",description:"Classification NLP utilisant BERT affin sur les sentiments de critiques de films IMDb. Construit avec HuggingFace Transformers, inclut la tokenisation, le masquage d'attention et l'valuation du modle.",tags:["NLP","BERT","Transformers"]},{title:"Image Classification",description:"Reconnaissance d'images utilisant le transfer learning (ResNet). Comprend l'augmentation de donnes, la visualisation de l'entranement et les mtriques d'valuation pour des ensembles de donnes personnaliss.",tags:["Vision par Ordinateur","ResNet","Transfer Learning"]}]}]}},lj={title:"Recherche & Thse",categories:[{name:"Travaux en cours",items:[{title:"Tiny Recursive Reasoning Lab",description:"Implmentation du raisonnement rcursif pour les petits modles utilisant PyTorch + Hugging Face, amliorant la profondeur sans augmenter le calcul. Explorer comment les modles compacts peuvent atteindre un raisonnement plus profond grce au raffinement itratif.",links:{code:"https://github.com/jermiah/TinyRecursiveReasoningLab"},tags:["PyTorch","Raisonnement Rcursif","SLM","Recherche"]},{title:"IA Frugale : Construire un SLM de Raisonnement Sur Appareil Efficace",description:"Explorer le raisonnement conome en nergie et respectueux de la vie prive pour les systmes IA sur appareil utilisant des architectures de petits modles. Focus sur la quantification, l'lagage et la distillation de connaissances pour le dploiement en priphrie.",tags:["IA en Priphrie","Quantification","Confidentialit","Efficacit","Recherche","Raisonnement Rcursif"]},{title:"Thse de Master : Agent de Routage d'Intention pour le Commerce Conversationnel",description:"Conception d'un agent de routage d'intention hybride, rgles-d'abord pour le commerce conversationnel qui classifie et excute les intentions utilisateur (RAG, commande, rservation) avec un LLM lger de secours. Le systme met l'accent sur l'auditabilit, la faible latence et le raisonnement rentable.",tags:["Routage d'Intention","IA Hybride","Commerce Conversationnel","Thse"]}]},{name:"Travaux termins",items:[]}]},uj={title:"Open Source",categories:[{name:"Travaux termins",items:[{title:"Goose CLI  dition Amliore",description:"Un assistant de codage bas sur Rust amliorant l'ingnierie de prompts, les mtriques systme et l'observabilit runtime pour les agents IA. Comprend des prompts systme/sous-agent v2, des mtriques au niveau fichier et des prompts runtime interchangeables.",links:{code:"https://github.com/jermiah/goose_jerry"},tags:["Rust","Ingnierie de Prompts","Mtriques","CLI"]}]},{name:"Travaux en cours",items:[{title:"Conversy LLM SDK",description:"Un SDK lger pour les pipelines RAG et l'orchestration multi-agents avec recherche vectorielle, embeddings adaptatifs et traage Phoenix. Architecture multi-tenant avec traducteur de filtre Qdrant et adaptateurs de rcupration.",links:{code:"https://github.com/jermiah/conversy-sdk"},tags:["SDK","RAG","Traage","Qdrant","Multi-Agent"]}]}]},cj={title:"Thse de Master",subtitle:"Un Agent de Routage d'Intention pour le Commerce Conversationnel",university:"emlyon business school",year:"2025",description:"Conception d'un agent de routage d'intention hybride, rgles-d'abord pour le commerce conversationnel qui classifie et excute les intentions utilisateur (RAG, commande, rservation) avec un LLM lger de secours. Le systme met l'accent sur l'auditabilit, la faible latence et le raisonnement rentable.",objectives:["Dvelopper un routeur compact utilisant des rgles dterministes et un petit modle de secours pour les cas ambigus.","Normaliser l'extraction d'entits (dates, quantits, contacts) via des mthodes hybrides rgleLLM.","Intgrer une couche mini RAG pour les donnes PDF et tableur afin de grer la rcupration d'informations sur les produits et services.","valuer l'agent pour la prcision du routage, le succs de bout en bout, la latence, le cot et les mtriques de scurit."],keywords:["Routage d'Intention","Systmes IA Hybrides","Commerce Conversationnel","Logique Rgles-d'Abord","LLM de Secours","Auditabilit & valuation"],expectedContributions:["Un agent de routage petit et auditable atteignant une haute prcision et une rentabilit.","Ensembles de donnes rutilisables et scripts d'valuation pour les tches de routage conversationnel.","Preuves soutenant les architectures hybrides rgles-d'abord + petit-LLM pour des flux de travail IA fiables."],link:"https://github.com/jermiah"},dj={title:"Contributions Open-Source",items:[{project:"Conversy LLM SDK ( venir)",repo:"https://github.com/jermiah",tags:["SDK","RAG","Traage","Qdrant"],highlights:["Architecture multi-tenant avec traage Phoenix","Traducteur de filtre Qdrant et adaptateurs de rcupration","Embeddings adaptatifs pour le raisonnement vectoriel"]},{project:"Goose CLI  dition Amliore",repo:"https://github.com/jermiah/goose_jerry",tags:["Rust","Ingnierie de Prompts","Mtriques","CLI"],highlights:["Prompts systme/sous-agent v2","Mtriques et analyses au niveau fichier","Prompts runtime interchangeables via variables d'environnement"]},{project:"Tiny Recursive Reasoning Lab",repo:"https://github.com/jermiah/TinyRecursiveReasoningLab",tags:["PyTorch","Raisonnement Rcursif","SLM"],highlights:["Implmente le raisonnement TRM pour les petits modles","Intgr avec Hugging Face Transformers","Focus sur l'efficacit et la qualit du raisonnement"]}]},hj={title:"Vitrine",awards:{title:"Rcompenses",items:["Prix Antares  BNP Paribas : Performance Exceptionnelle","Esprit de Kaizen  Automatisation de Processus","Esprit de Kaizen  Rapport de Qualit de Donnes","Boursier NTSE (Inde)  Prix NCERT pour l'Excellence Acadmique"]},community:{title:"Btisseur de Communaut",description:"Crateur de la Communaut IA & Tech de Paris",link:"https://www.linkedin.com/posts/jermiah-jerome_paris-ai-tech-community-members-activity-7303817496346730496-QNPT"},hackathons:{title:"Hackathons & Dfis",items:[{name:" Gagnant  Hackathon Blackbox AI  42AI Agents",link:"https://www.linkedin.com/posts/jermiah-jerome_42ai-hackathon-artificialintelligence-activity-7370742726318845952-EmpO?utm_source=share&utm_medium=member_desktop&rcm=ACoAACq09WUBzILj3ZIoG_SJNGbuRMhzVPyVcHs"},{name:" Gagnant  Paris Open Build (Mistral + Windsurf)",link:"https://www.linkedin.com/posts/jermiah-jerome_ai-vibecoding-aiagents-activity-7368768781667467264-7_at?utm_source=share&utm_medium=member_desktop&rcm=ACoAACq09WUBzILj3ZIoG_SJNGbuRMhzVPyVcHs"},{name:"Hackathon IA Novartis",link:""},{name:"Dfi IA Sopra Steria",link:""},{name:"L'Oral Brandstorm 2025",link:""}]},events:{title:"Ateliers & vnements",attended:{title:"Particip",items:[{name:"Atelier Google Gemini",link:""},{name:"AWS Summit Paris",link:""},{name:"Web Summit Lisbonne",link:""},{name:"Meetup Dveloppeurs IA  Station F",link:""},{name:"tat Franais de l'IA  Google Paris",link:""}]},conducted:{title:"Anim",items:[{name:"Daijobu AI Moment : Intervention sur l'Avenir de l'IA & du Logiciel",link:"https://www.linkedin.com/posts/jermiah-jerome_ai-slm-llm-activity-7377282309630332928-vX0m?utm_source=share&utm_medium=member_desktop&rcm=ACoAACq09WUBzILj3ZIoG_SJNGbuRMhzVPyVcHs"}]}}},fj={message:" Construire une IA efficace en raisonnement, rapide, fiable et explicable.",copyright:" 2025 Jermiah Jerome. Construit avec React, Vite, et "},pj={text:"Recommandez-moi",tooltip:"Chaque clic illumine ma journe ",counter:"Total de recommandations : {count}"},mj={hireMe:"Collaborons ! Votre satisfaction est mon engagement ",fork:"Vous aimez ce portfolio ? Forkez-le et appropriez-vous-le ! ",theme:"Basculez entre clair et sombre  je m'adapte  vos prfrences ",language:"Parlez-vous franais ? Changez de langue de manire transparente "},gj={hero:ZM,nav:ej,contact:tj,overview:nj,skills:rj,education:ij,experience:sj,certifications:oj,projects:aj,research:lj,opensource:uj,thesis:cj,openSource:dj,showcase:hj,footer:fj,likeButton:pj,tooltips:mj};Ye.use(xk).init({resources:{en:{translation:JM},fr:{translation:gj}},lng:localStorage.getItem("language")||"en",fallbackLng:"en",interpolation:{escapeValue:!1}});hc.createRoot(document.getElementById("root")).render(f.jsx(jn.StrictMode,{children:f.jsx(dM,{})}))});export default yj();
